

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>scenarioBranchingPanels &mdash; Basilisk 2.8.3
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5e07a493"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=3cd7d658"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="scenarioGaussMarkovRandomWalk" href="../scenarioGaussMarkovRandomWalk.html" />
    <link rel="prev" title="scenarioSimpleDocking" href="scenarioSimpleDocking.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Basilisk
              <img src="../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Learn.html">Learning Basilisk</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../Learn/bskPrinciples.html">Fundamentals of Basilisk Simulations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Integrated Example Scripts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../index.html#orbital-simulations">Orbital Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#attitude-simulations">Attitude Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#orbit-control">Orbit Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#planetary-environments">Planetary Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#spacecraft-sensors">Spacecraft Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#spacecraft-sub-systems">Spacecraft Sub-Systems</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#multi-body-dynamics-simulations-with-mujoco">Multi-Body Dynamics Simulations with MuJoCo</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="scenarioReactionWheel.html">CubeSat with Reaction Wheel</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenarioUnbalancedThrusters.html">CubeSat with 4 Unbalanced Thrusters and Fuel Tanks</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenarioArmWithThrusters.html">Branching Deployable Arm with Thrusters</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenarioDeployPanels.html">Chained Hinged Panel Deployment</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenarioSRPInPanels.html">Solar Radiation Pressure Model on Arbitrary Surfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenarioAsteroidLanding.html">Landing on Asteroid with Contact Physics</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenarioSimpleDocking.html">Docking between Two CubeSats</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Branching Panel Deployment with Locking Mechanisms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#complex-spacecraft-dynamics-simulations">Complex Spacecraft Dynamics Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#mission-simulations">Mission Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#spacecraft-formation-flying">Spacecraft Formation Flying</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#small-body-navigation-simulations">Small Body Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#bsksim-architecture"><code class="docutils literal notranslate"><span class="pre">bskSim()</span></code> Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#multisatbsksim-architecture"><code class="docutils literal notranslate"><span class="pre">MultiSatBskSim()</span></code> Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#optical-navigation-simulations">Optical Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#monte-carlo-simulations">Monte Carlo Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#advanced-simulation-options">Advanced Simulation Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#multi-threading-basilisk-simulations">Multi-Threading Basilisk Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#advanced-visualizations">Advanced Visualizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Learn/makingModules.html">Basics of Writing Basilisk Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../Learn.html">Learning Basilisk</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Integrated Example Scripts</a></li>
      <li class="breadcrumb-item active">scenarioBranchingPanels</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/examples/mujoco/scenarioBranchingPanels.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scenariobranchingpanels">
<span id="id1"></span><h1>scenarioBranchingPanels<a class="headerlink" href="#scenariobranchingpanels" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<p id="module-scenarioBranchingPanels">It’s recommended to review the following scenario(s) first (and any
recommended scenario(s) that they may have):</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">examples/mujoco/scenarioDeployPanels.py</span></code></p></li>
</ol>
<p>This script demonstrates how to simulate a spacecraft with a
<em>branching</em> solar panel deployment sequence using a Proportional-
Integral-Derivative (PID) controller. Like
<code class="docutils literal notranslate"><span class="pre">scenarioDeployPanels.py</span></code>, this scenario uses the MuJoCo-based
<a class="reference internal" href="../../Documentation/simulation/dynamics/_GeneralModuleFiles/dynamicObject.html#dynamicobject"><span class="std std-ref">DynamicObject</span></a> <a class="reference internal" href="../../Documentation/simulation/mujocoDynamics/_GeneralModuleFiles/MJScene.html#mjscene"><span class="std std-ref">MJScene</span></a>, but
extends the concept to a more complex, multi-stage deployment
process.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">mujoco/scenarioDeployPanels.py</span></code>, all solar panels were deployed
simultaneously using PID controllers and trapezoidal/triangular
velocity profiles. In this scenario, the panels are deployed in a
staged sequence, where the deployment of some panels happens after
the deployment of others. Moreover, this scenario uses the C++
implementation of the PID controller (<cite>MJPIDControllers.JointPIDController</cite>),
which provides improved performance compared to the previous
Python-based controller.</p>
<p>The multi-body system is defined in the XML file
<code class="docutils literal notranslate"><span class="pre">sat_w_branching_panels.xml</span></code>, which describes a spacecraft hub with
six deployable panels arranged in a branching configuration. Each
panel is attached via a revolute joint, and the deployment sequence is
controlled by locking and unlocking joints at specific times,
simulating mechanical latches.</p>
<p>The deployment profiles for each joint are generated using a
trapezoidal/triangular velocity profile, as in the previous scenario.
However, the timing of each deployment is offset to create the desired
branching sequence. The PID controllers for each joint receive these
profiles as their reference inputs and compute the required torques to
achieve the commanded motion.</p>
<p>During the simulation, joints are locked or unlocked at runtime to
enforce the staged deployment sequence. This is accomplished by
sending constraint messages to the relevant joints, effectively
freezing or releasing their motion as needed.</p>
<p>The simulation is run in three legs, corresponding to the sequential
deployment of different panel groups. The state of the system is
recorded throughout, and the desired and achieved joint angles are plotted
for each panel. The system can also be visualized in 3D using
the <code class="docutils literal notranslate"><span class="pre">mujoco.visualize</span></code> function.</p>
<p>This scenario illustrates how to model and control complex, staged
deployment mechanisms in a spacecraft simulation, and how to
coordinate multiple actuators and controllers in a branched sequence
using MuJoCo and Basilisk.</p>
<dl class="py function">
<dt class="sig sig-object py" id="scenarioBranchingPanels.generateProfiles">
<span class="sig-prename descclassname"><span class="pre">scenarioBranchingPanels.</span></span><span class="sig-name descname"><span class="pre">generateProfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initialPoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finalPoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vMax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aMax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeOffset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ScalarJointStateInterpolator</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/scenarioBranchingPanels.html#generateProfiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenarioBranchingPanels.generateProfiles" title="Link to this definition"></a></dt>
<dd><p>Generate a position and velocity profile for a point-to-point movement.</p>
<p>This function calculates the position and velocity profiles for a point-to-point
movement using either a trapezoidal or triangular velocity profile, depending on
whether the maximum velocity is reached or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initialPoint</strong> (<em>float</em>) – The starting position.</p></li>
<li><p><strong>finalPoint</strong> (<em>float</em>) – The target position.</p></li>
<li><p><strong>vMax</strong> (<em>float</em>) – The maximum velocity.</p></li>
<li><p><strong>aMax</strong> (<em>float</em>) – The maximum acceleration.</p></li>
<li><p><strong>timeOffset</strong> (<em>int</em>) – The profile will start at this time (in nanoseconds).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A list containing two mujoco.ScalarJointStateInterpolator objects,</dt><dd><p>one for the position profile and one for the velocity profile.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scenarioBranchingPanels.run">
<span class="sig-prename descclassname"><span class="pre">scenarioBranchingPanels.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">showPlots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visualize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/scenarioBranchingPanels.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenarioBranchingPanels.run" title="Link to this definition"></a></dt>
<dd><p>Main function, see scenario description.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>showPlots</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, simulation results are plotted and show.
Defaults to False.</p></li>
<li><p><strong>visualize</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the <code class="docutils literal notranslate"><span class="pre">MJScene</span></code> visualization tool is
run on the simulation results. Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="scenarioSimpleDocking.html" class="btn btn-neutral float-left" title="scenarioSimpleDocking" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../scenarioGaussMarkovRandomWalk.html" class="btn btn-neutral float-right" title="scenarioGaussMarkovRandomWalk" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>