

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>scenarioAttitudeFeedback2T &mdash; Basilisk 2.8.41
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=53003e83"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=3cd7d658"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="scenarioAttitudePointing" href="scenarioAttitudePointing.html" />
    <link rel="prev" title="scenarioAttitudeFeedback" href="scenarioAttitudeFeedback.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../index.html" class="icon icon-home">
            Basilisk
              <img src="../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Learn.html">Learning Basilisk</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Learn/bskPrinciples.html">Fundamentals of Basilisk Simulations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Integrated Example Scripts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#orbital-simulations">Orbital Simulations</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#attitude-simulations">Attitude Simulations</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html#attitude-regulation-control">Attitude Regulation Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#attitude-guidance">Attitude Guidance</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#attitude-control-with-actuators">Attitude Control with Actuators</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#attitude-steering-control">Attitude Steering Control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#orbit-control">Orbit Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#planetary-environments">Planetary Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#spacecraft-sensors">Spacecraft Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#spacecraft-sub-systems">Spacecraft Sub-Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#multi-body-dynamics-simulations-with-mujoco">Multi-Body Dynamics Simulations with MuJoCo</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#constrained-spacecraft-dynamics-simulations">Constrained Spacecraft Dynamics Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#complex-spacecraft-dynamics-simulations">Complex Spacecraft Dynamics Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#prescribed-motion-spacecraft-dynamics-simulations">Prescribed Motion Spacecraft Dynamics Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#mission-simulations">Mission Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#spacecraft-formation-flying">Spacecraft Formation Flying</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#small-body-navigation-simulations">Small Body Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#bsksim-architecture"><code class="docutils literal notranslate"><span class="pre">bskSim()</span></code> Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#multisatbsksim-architecture"><code class="docutils literal notranslate"><span class="pre">MultiSatBskSim()</span></code> Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#optical-navigation-simulations">Optical Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#monte-carlo-simulations">Monte Carlo Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#advanced-simulation-options">Advanced Simulation Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#multi-threading-basilisk-simulations">Multi-Threading Basilisk Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#advanced-visualizations">Advanced Visualizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Learn/makingModules.html">Basics of Writing Basilisk Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Learn.html">Learning Basilisk</a></li>
          <li class="breadcrumb-item"><a href="index.html">Integrated Example Scripts</a></li>
      <li class="breadcrumb-item active">scenarioAttitudeFeedback2T</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/examples/scenarioAttitudeFeedback2T.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scenarioattitudefeedback2t">
<span id="id1"></span><h1>scenarioAttitudeFeedback2T<a class="headerlink" href="#scenarioattitudefeedback2t" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/tkY95HZi7Mo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>Demonstrates how to stabilize the tumble of a spacecraft orbiting the
Earth that is initially tumbling, but uses 2 separate threads for dynamics and algorithm modules.
This script sets up a 6-DOF spacecraft which is orbiting the Earth. This setup
is similar to the <a class="reference internal" href="scenarioAttitudeFeedback.html#scenarioattitudefeedback"><span class="std std-ref">scenarioAttitudeFeedback</span></a>,
but here the dynamics
simulation and the Flight Software (FSW) algorithms are run at different time steps
using two separate task groups (also called processes).</p>
<p>The script is found in the folder <code class="docutils literal notranslate"><span class="pre">basilisk/examples</span></code> and executed by using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">scenarioAttitudeFeedback2T</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>The simulation layout is shown in the following illustration.  Both a simulation process is created
which contains the spacecraft simulation modules.  A separate FSW algorithm process is run
at a different updated rate to evaluate the Flight Software (FSW) algorithm
modules.  Interface messages are now shared across SIM and FSW message passing interfaces (MPIs).</p>
<img alt="../_images/test_scenarioAttitudeFeedback2T.svg" class="align-center" src="../_images/test_scenarioAttitudeFeedback2T.svg" />
<p>Note that starting with Basilisk 2.0 onwards it is trivial to connect to module messages within
another Basilisk process (task group).  There are no additional steps required to establish these connections.
Recall that this simulation is single-threaded and that the processes are evaluated sequentially.  The new BSK2
messaging system got rid of message names.  With multi-process simulations there are thus no longer any
message naming conflicts to consider as messages are directly connected.</p>
<p>Further, this simulation has the logging happening at a different rate then the simulation or FSW algorithm
processes.  Thus, this is a demonstration of using 3 processes running sequentially.</p>
<p>When the simulation completes 5 plots are shown for the MRP attitude history, the rate
tracking errors, as well as the control torque vector.</p>
</section>
<section id="illustration-of-simulation-results">
<h2>Illustration of Simulation Results<a class="headerlink" href="#illustration-of-simulation-results" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show_plots</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">useUnmodeledTorque</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">useIntGain</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Note that now the FSW algorithms are called in a separate process, in the first time step the
navigation message has not been copied over, and the initial FSW values for the tracking
errors are zero.  This is why there is a slight difference in the resulting closed loop
performance.</p>
<img alt="../_images/scenarioAttitudeFeedback2T100.svg" class="align-center" src="../_images/scenarioAttitudeFeedback2T100.svg" />
<img alt="../_images/scenarioAttitudeFeedback2T200.svg" class="align-center" src="../_images/scenarioAttitudeFeedback2T200.svg" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show_plots</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">useUnmodeledTorque</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">useIntGain</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>As expected, the orientation error doesn’t settle to zero, but rather converges to a non-zero offset
proportional to the un-modeled torque being simulated.  Also, the control torques settle on
non-zero steady-state values.</p>
<img alt="../_images/scenarioAttitudeFeedback2T110.svg" class="align-center" src="../_images/scenarioAttitudeFeedback2T110.svg" />
<img alt="../_images/scenarioAttitudeFeedback2T210.svg" class="align-center" src="../_images/scenarioAttitudeFeedback2T210.svg" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show_plots</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">useUnmodeledTorque</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">useIntGain</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>In this case the orientation error does settle to zero.  The integral term changes the control torque
to settle on a value that matches the un-modeled external torque.</p>
<img alt="../_images/scenarioAttitudeFeedback2T111.svg" class="align-center" src="../_images/scenarioAttitudeFeedback2T111.svg" />
<img alt="../_images/scenarioAttitudeFeedback2T211.svg" class="align-center" src="../_images/scenarioAttitudeFeedback2T211.svg" />
</section>
<dl class="py function">
<dt class="sig sig-object py" id="scenarioAttitudeFeedback2T.run">
<span class="sig-prename descclassname"><span class="pre">scenarioAttitudeFeedback2T.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useUnmodeledTorque</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useIntGain</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scenarioAttitudeFeedback2T.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenarioAttitudeFeedback2T.run" title="Link to this definition"></a></dt>
<dd><p>The scenarios can be run with the followings setups parameters:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_plots</strong> (<em>bool</em>) – Determines if the script should display plots</p></li>
<li><p><strong>useUnmodeledTorque</strong> (<em>bool</em>) – Specify if an external torque should be included</p></li>
<li><p><strong>useIntGain</strong> (<em>bool</em>) – Specify if the feedback control uses an integral feedback term</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="scenarioAttitudeFeedback.html" class="btn btn-neutral float-left" title="scenarioAttitudeFeedback" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scenarioAttitudePointing.html" class="btn btn-neutral float-right" title="scenarioAttitudePointing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>