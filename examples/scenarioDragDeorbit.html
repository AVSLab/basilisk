

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>scenarioDragDeorbit &mdash; Basilisk 2.8.3
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5e07a493"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=3cd7d658"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="scenarioGroundDownlink" href="scenarioGroundDownlink.html" />
    <link rel="prev" title="scenarioAttitudeGG" href="scenarioAttitudeGG.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../index.html" class="icon icon-home">
            Basilisk
              <img src="../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Learn.html">Learning Basilisk</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Learn/bskPrinciples.html">Fundamentals of Basilisk Simulations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Integrated Example Scripts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#orbital-simulations">Orbital Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#attitude-simulations">Attitude Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#orbit-control">Orbit Control</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#planetary-environments">Planetary Environments</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="index.html#magnetic-field-models">Magnetic Field Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#gravity-gradient-torque">Gravity Gradient Torque</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html#atmospheric-drag">Atmospheric Drag</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#access-to-communication-locations">Access to Communication Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#planet-albedo">Planet Albedo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#spacecraft-sensors">Spacecraft Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#spacecraft-sub-systems">Spacecraft Sub-Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#multi-body-dynamics-simulations-with-mujoco">Multi-Body Dynamics Simulations with MuJoCo</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#complex-spacecraft-dynamics-simulations">Complex Spacecraft Dynamics Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#mission-simulations">Mission Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#spacecraft-formation-flying">Spacecraft Formation Flying</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#small-body-navigation-simulations">Small Body Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#bsksim-architecture"><code class="docutils literal notranslate"><span class="pre">bskSim()</span></code> Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#multisatbsksim-architecture"><code class="docutils literal notranslate"><span class="pre">MultiSatBskSim()</span></code> Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#optical-navigation-simulations">Optical Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#monte-carlo-simulations">Monte Carlo Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#advanced-simulation-options">Advanced Simulation Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#multi-threading-basilisk-simulations">Multi-Threading Basilisk Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#advanced-visualizations">Advanced Visualizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Learn/makingModules.html">Basics of Writing Basilisk Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Learn.html">Learning Basilisk</a></li>
          <li class="breadcrumb-item"><a href="index.html">Integrated Example Scripts</a></li>
      <li class="breadcrumb-item active">scenarioDragDeorbit</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/examples/scenarioDragDeorbit.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scenariodragdeorbit">
<span id="id1"></span><h1>scenarioDragDeorbit<a class="headerlink" href="#scenariodragdeorbit" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="overview">
<span id="module-scenarioDragDeorbit"></span><h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>This scenario demonstrates how to set up a spacecraft orbiting Earth subject to atmospheric drag, causing it to
deorbit. This is achieved using the <a class="reference internal" href="../Documentation/simulation/environment/ExponentialAtmosphere/exponentialAtmosphere.html#exponentialatmosphere"><span class="std std-ref">Module: exponentialAtmosphere</span></a> or <a class="reference internal" href="../Documentation/simulation/environment/MsisAtmosphere/msisAtmosphere.html#msisatmosphere"><span class="std std-ref">Module: msisAtmosphere</span></a> environment module and the
<a class="reference internal" href="../Documentation/simulation/dynamics/dragEffector/dragDynamicEffector.html#dragdynamiceffector"><span class="std std-ref">Module: dragDynamicEffector</span></a> dynamics module. The simulation is executed until the altitude falls below some threshold,
using a terminal event handler.</p>
<p>The script is found in the folder <code class="docutils literal notranslate"><span class="pre">basilisk/examples</span></code> and executed by using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">scenarioDragDeorbit</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section id="simulation-scenario-setup-details">
<h2>Simulation Scenario Setup Details<a class="headerlink" href="#simulation-scenario-setup-details" title="Link to this heading"></a></h2>
<p>A single simulation with a spacecraft object is created, along with the atmosphere, drag, and gravity models.</p>
<p>If the exponential model is selected, the atmosphere module <code class="docutils literal notranslate"><span class="pre">ExponentialAtmosphere()</span></code> is initialized as <code class="docutils literal notranslate"><span class="pre">atmo</span></code>; to
set the model to use Earth-like values,
the utility:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">simSetPlanetEnvironment</span><span class="o">.</span><span class="n">exponentialAtmosphere</span><span class="p">(</span><span class="n">atmo</span><span class="p">,</span> <span class="s2">&quot;earth&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>is invoked.</p>
<p>If the msis model is selected, the atmosphere module <code class="docutils literal notranslate"><span class="pre">MsisAtmosphere()</span></code> is initialized as <code class="docutils literal notranslate"><span class="pre">atmo</span></code>. Solar weather
data must be mocked in a message to the module, where <code class="docutils literal notranslate"><span class="pre">sw_msg</span></code> is a dict of reasonable ap and f10.7cm values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">swMsgList</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sw_msg</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
    <span class="n">swMsgData</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">SwDataMsgPayload</span><span class="p">()</span>
    <span class="n">swMsgData</span><span class="o">.</span><span class="n">dataValue</span> <span class="o">=</span> <span class="n">val</span>
    <span class="n">swMsgList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">messaging</span><span class="o">.</span><span class="n">SwDataMsg</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">swMsgData</span><span class="p">))</span>
    <span class="n">atmo</span><span class="o">.</span><span class="n">swDataInMsgs</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">swMsgList</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>The drag model <code class="docutils literal notranslate"><span class="pre">DragDynamicEffector()</span></code> is initialized, then model parameters are set. In this example, the projected
area <code class="docutils literal notranslate"><span class="pre">coreParams.projectedArea</span></code> is set to 10 meters squared and the drag coefficient <span class="math notranslate nohighlight">\(C_D\)</span>
<code class="docutils literal notranslate"><span class="pre">coreParams.dragCoeff</span></code> is set to 2.2.</p>
<p>Once the models have been added to the simulation task, the atmosphere, drag model, and spacecraft must be linked.
First, the atmosphere model is given the spacecraft state message so it knows the location for which to calculate
atmospheric conditions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">atmo</span><span class="o">.</span><span class="n">addSpacecraftToModel</span><span class="p">(</span><span class="n">scObject</span><span class="o">.</span><span class="n">scStateOutMsg</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, the drag effector is linked to the spacecraft:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scObject</span><span class="o">.</span><span class="n">addDynamicEffector</span><span class="p">(</span><span class="n">dragEffector</span><span class="p">)</span>
</pre></div>
</div>
<p>The drag model will calculate zero drag unless it is passed atmospheric conditions. To link the atmosphere model to
the drag model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dragEffector</span><span class="o">.</span><span class="n">atmoDensInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">atmo</span><span class="o">.</span><span class="n">envOutMsgs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="illustration-of-simulation-results">
<h2>Illustration of Simulation Results<a class="headerlink" href="#illustration-of-simulation-results" title="Link to this heading"></a></h2>
<p>The following images illustrate the expected simulation run returns for a deorbit from 250 to 100 km with the
exponential model.</p>
<p>The orbit is plotted in the orbital plane:</p>
<img alt="../_images/scenarioDragDeorbitexponential1.svg" class="align-center" src="../_images/scenarioDragDeorbitexponential1.svg" />
<p>The altitude as a function of time is plotted.</p>
<img alt="../_images/scenarioDragDeorbitexponential2.svg" class="align-center" src="../_images/scenarioDragDeorbitexponential2.svg" />
<p>The atmospheric density as a function of altitude is plotted in lin-log space. Since this uses the exponential
atmosphere model, the result should be linear.</p>
<img alt="../_images/scenarioDragDeorbitexponential3.svg" class="align-center" src="../_images/scenarioDragDeorbitexponential3.svg" />
<p>The magnitude of drag force over time is plotted in lin-log space.</p>
<img alt="../_images/scenarioDragDeorbitexponential4.svg" class="align-center" src="../_images/scenarioDragDeorbitexponential4.svg" />
<p>The same plots are generated using the MSIS model:</p>
<img alt="../_images/scenarioDragDeorbitmsis1.svg" class="align-center" src="../_images/scenarioDragDeorbitmsis1.svg" />
<img alt="../_images/scenarioDragDeorbitmsis2.svg" class="align-center" src="../_images/scenarioDragDeorbitmsis2.svg" />
<img alt="../_images/scenarioDragDeorbitmsis3.svg" class="align-center" src="../_images/scenarioDragDeorbitmsis3.svg" />
<img alt="../_images/scenarioDragDeorbitmsis4.svg" class="align-center" src="../_images/scenarioDragDeorbitmsis4.svg" />
</section>
<dl class="py function">
<dt class="sig sig-object py" id="scenarioDragDeorbit.run">
<span class="sig-prename descclassname"><span class="pre">scenarioDragDeorbit.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initialAlt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deorbitAlt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'exponential'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scenarioDragDeorbit.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenarioDragDeorbit.run" title="Link to this definition"></a></dt>
<dd><p>Initialize a satellite with drag and propagate until it falls below a deorbit altitude. Note that an excessively
low deorbit_alt can lead to intersection with the Earth prior to deorbit being detected, causing some terms to blow
up and the simulation to terminate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_plots</strong> (<em>bool</em>) – Toggle plotting on/off</p></li>
<li><p><strong>initialAlt</strong> (<em>float</em>) – Starting altitude in km</p></li>
<li><p><strong>deorbitAlt</strong> (<em>float</em>) – Terminal altitude in km</p></li>
<li><p><strong>model</strong> (<em>str</em>) – [“exponential”, “msis”]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of figure handles</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="scenarioAttitudeGG.html" class="btn btn-neutral float-left" title="scenarioAttitudeGG" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scenarioGroundDownlink.html" class="btn btn-neutral float-right" title="scenarioGroundDownlink" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>