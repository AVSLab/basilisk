

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Module: polyhedralGravityModel &mdash; Basilisk 2.8.3
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=5e07a493"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../../_static/copybutton.js?v=3cd7d658"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Module: sphericalHarmonicsGravityModel" href="sphericalHarmonicsGravityModel.html" />
    <link rel="prev" title="gravCoeffOps" href="gravCoeffOps.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            Basilisk
              <img src="../../../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../Install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Learn.html">Learning Basilisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Support.html">Support</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/index.html">architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../fswAlgorithms/index.html">fswAlgorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moduleTemplates/index.html">moduleTemplates</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">simulation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../deviceInterface/index.html">deviceInterface</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">dynamics</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../DynOutput/index.html">DynOutput</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ExtPulsedTorque/index.html">ExtPulsedTorque</a></li>
<li class="toctree-l4"><a class="reference internal" href="../FuelTank/index.html">FuelTank</a></li>
<li class="toctree-l4"><a class="reference internal" href="../GravityGradientEffector/index.html">GravityGradientEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../HingedRigidBodies/index.html">HingedRigidBodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Integrators/index.html">Integrators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LinearSpringMassDamper/index.html">LinearSpringMassDamper</a></li>
<li class="toctree-l4"><a class="reference internal" href="../MtbEffector/index.html">MtbEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../NHingedRigidBodies/index.html">NHingedRigidBodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../RadiationPressure/index.html">RadiationPressure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Thrusters/index.html">Thrusters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../VSCMGs/index.html">VSCMGs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_GeneralModuleFiles/index.html">_GeneralModuleFiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constraintEffector/index.html">constraintEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dragEffector/index.html">dragEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dualHingedRigidBodies/index.html">dualHingedRigidBodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../extForceTorque/index.html">extForceTorque</a></li>
<li class="toctree-l4"><a class="reference internal" href="../facetDragEffector/index.html">facetDragEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../facetSRPDynamicEffector/index.html">facetSRPDynamicEffector</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">gravityEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hingedRigidBodyMotor/index.html">hingedRigidBodyMotor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linearTranslationalBodies/index.html">linearTranslationalBodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../msmForceTorque/index.html">msmForceTorque</a></li>
<li class="toctree-l4"><a class="reference internal" href="../prescribedMotion/index.html">prescribedMotion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reactionWheels/index.html">reactionWheels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spacecraft/index.html">spacecraft</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spacecraftSystem/index.html">spacecraftSystem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sphericalPendulum/index.html">sphericalPendulum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spinningBodies/index.html">spinningBodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stateArchitecture/index.html">stateArchitecture</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../environment/index.html">environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mujocoDynamics/index.html">mujocoDynamics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../navigation/index.html">navigation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../onboardDataHandling/index.html">onboardDataHandling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../power/index.html">power</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sensors/index.html">sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../simSynch/index.html">simSynch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../thermal/index.html">thermal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vizard/index.html">vizard</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../utilities/index.html">utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Documentation</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">simulation</a></li>
          <li class="breadcrumb-item"><a href="../index.html">dynamics</a></li>
          <li class="breadcrumb-item"><a href="index.html">gravityEffector</a></li>
      <li class="breadcrumb-item active">Module: polyhedralGravityModel</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/Documentation/simulation/dynamics/gravityEffector/polyhedralGravityModel.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-polyhedralgravitymodel">
<span id="polyhedralgravitymodel"></span><h1>Module: polyhedralGravityModel<a class="headerlink" href="#module-polyhedralgravitymodel" title="Link to this heading"></a></h1>
<section id="executive-summary">
<h2>Executive Summary<a class="headerlink" href="#executive-summary" title="Link to this heading"></a></h2>
<p>This module encodes the polyhedron gravity model as described in <a class="reference external" href="https://doi.org/10.1007/BF00053511">Werner and Scheeres 1996</a>. It inherits from the abstract class <code class="docutils literal notranslate"><span class="pre">gravityModel</span></code> and computes the gravity acceleration and potential with the constant density polyhedron equations.</p>
<p>The gravity acceleration is evaluated as</p>
<div class="math notranslate nohighlight" id="equation-eq-acc-poly">
<span class="eqno">(1)<a class="headerlink" href="#equation-eq-acc-poly" title="Link to this equation"></a></span>\[\mathbf{a}^{P}=\frac{\mu}{V}\left(-\sum_{e\in\text{edges}}\mathbf{E}_e\mathbf{r}_eL_e
+\sum_{f\in\text{faces}}\mathbf{F}_f\mathbf{r}_fw_f\right)\]</div>
<p>and the gravity potential as</p>
<div class="math notranslate nohighlight" id="equation-eq-u-poly">
<span class="eqno">(2)<a class="headerlink" href="#equation-eq-u-poly" title="Link to this equation"></a></span>\[U=\frac{\mu}{2V}\left(\sum_{e\in\text{edges}}\mathbf{r}^T_e\mathbf{E}_e\mathbf{r}_e
-\sum_{f\in\text{faces}}\mathbf{r}^T_f\mathbf{F}_f\mathbf{r}_f\right)\]</div>
</section>
<section id="module-assumptions-and-limitations">
<h2>Module Assumptions and Limitations<a class="headerlink" href="#module-assumptions-and-limitations" title="Link to this heading"></a></h2>
<p>The evaluation point is referred to geographical coordinates with respect to the polyhedron gravity body. In other words, the input position is expressed in the planet centred rotating frame. The output gravity acceleration is also expressed in the previous frame.</p>
<p>The module assumes the polyhedron body has constant density.</p>
<p>The polyhedron shape is defined by triangular faces.</p>
<p>The module requires the standard gravity parameter to be provided by the user. Then, the body volume is internally computed from the polyhedron data to ensure consistency with the shape.</p>
</section>
<section id="detailed-module-description">
<h2>Detailed Module Description<a class="headerlink" href="#detailed-module-description" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">polyhedralGravityModel</span></code> module handles the following behavior:</p>
<ol class="arabic simple">
<li><p>Vertexes positions and faces indexes (corresponding to vertexes) are loaded from a polyhedron shape file.</p></li>
<li><p>The module initializes and stores all the variables that have no dependency with the evaluation point: edge-facet dyad matrices, facet normals, facet centers and length of edges.</p></li>
<li><p>By looping over edges and faces at the same time, the gravity acceleration and potential can be computed for an evaluation point.</p></li>
</ol>
</section>
<section id="user-guide">
<h2>User Guide<a class="headerlink" href="#user-guide" title="Link to this heading"></a></h2>
<p>To use the polyhedron gravity model, instantiate the <code class="docutils literal notranslate"><span class="pre">simIncludeGravBody.gravBodyFactory()</span></code> and use the corresponding method to create a custom gravity body (Eros in this example). Then, use the gravity body method to attach a polyhedron gravity model and set the path to the polyhedron shape file as input argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mu</span> <span class="o">=</span> <span class="mf">4.46275472004</span> <span class="o">*</span> <span class="mf">1e5</span> <span class="c1"># Eros standard gravity parameter</span>
<span class="n">file_poly</span> <span class="o">=</span> <span class="s1">&#39;eros007790.tab&#39;</span>  <span class="c1"># Path to a shape file of Eros</span>
<span class="n">gravFactory</span> <span class="o">=</span> <span class="n">simIncludeGravBody</span><span class="o">.</span><span class="n">gravBodyFactory</span><span class="p">()</span> <span class="c1"># Instantiate gravity factory</span>
<span class="n">erosGravBody</span> <span class="o">=</span> <span class="n">gravFactory</span><span class="o">.</span><span class="n">createCustomGravObject</span><span class="p">(</span><span class="s1">&#39;eros_poly&#39;</span><span class="p">,</span> <span class="n">mu</span><span class="o">=</span><span class="n">mu</span><span class="p">)</span> <span class="c1"># Create Eros gravity body</span>
<span class="n">erosGravBody</span><span class="o">.</span><span class="n">isCentralBody</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1"># (Optional) If the body is to be central</span>
<span class="n">erosGravBody</span><span class="o">.</span><span class="n">usePolyhedralGravityModel</span><span class="p">(</span><span class="n">file_poly</span><span class="p">)</span> <span class="c1"># Declare the use of a polyhedron model for Eros and set the shape file</span>
</pre></div>
</div>
<p>For orbital propagation, the list of gravity bodies have to be appended to a spacecraft as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">scObject</span> <span class="o">=</span> <span class="n">spacecraft</span><span class="o">.</span><span class="n">Spacecraft</span><span class="p">()</span> <span class="c1"># Creates spacecraft instance</span>
<span class="n">scObject</span><span class="o">.</span><span class="n">gravField</span><span class="o">.</span><span class="n">gravBodies</span> <span class="o">=</span> <span class="n">spacecraft</span><span class="o">.</span><span class="n">GravBodyVector</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">gravFactory</span><span class="o">.</span><span class="n">gravBodies</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="c1"># Attach list of created gravity bodies to spacecraft</span>
</pre></div>
</div>
<p>For gravity evaluations, the polyhedron gravity has to be initialized</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">erosGravBody</span><span class="o">.</span><span class="n">initializeParameters</span><span class="p">()</span> <span class="c1"># Initializes polyhedron module internal variables</span>
<span class="n">pos</span> <span class="o">=</span> <span class="p">[</span><span class="mi">40</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="mi">30</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="mf">1e3</span><span class="p">]</span> <span class="c1"># Evaluation point</span>
<span class="n">acc</span> <span class="o">=</span> <span class="n">erosGravBody</span><span class="o">.</span><span class="n">computeField</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span> <span class="c1"># Gravity evaluation</span>
</pre></div>
</div>
</section>
<section id="supported-polyhedron-shape-files">
<h2>Supported polyhedron shape files<a class="headerlink" href="#supported-polyhedron-shape-files" title="Link to this heading"></a></h2>
<p>Polyhedron shape files contain vertexes coordinates and the vertexes indexes that form each triangular face. The vertexes coordinates are assumed to be expressed in kilometers. The following file formats .tab, .obj and .txt are supported as inputs:</p>
<p>The .tab files do not have a header and have 4 columns where the first one denotes if the row refers to a vertex (v) coordinates or the face (f) composed of three vertexes</p>
<figure class="align-center" id="id1">
<span id="glpixelsketchtab"></span><a class="reference internal image-reference" href="../../../../_images/poly_tab_example.jpg"><img alt="../../../../_images/poly_tab_example.jpg" src="../../../../_images/poly_tab_example.jpg" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure 1: Example of .tab polyhedron shape file</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The .obj files content is equivalent to the .tab extension but they admit comments (#) and separate the vertexes and faces content with an empty line</p>
<figure class="align-center" id="id2">
<span id="glpixelsketchobj"></span><a class="reference internal image-reference" href="../../../../_images/poly_obj_example.jpg"><img alt="../../../../_images/poly_obj_example.jpg" src="../../../../_images/poly_obj_example.jpg" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure 2: Example of .obj polyhedron shape file</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The .txt file has a first line as a header where the number of vertexes (first column) and faces (second column) are indicated. Then, it has 3 columns where vertexes coordinates and subsequently the faces correspondence with vertexes are provided</p>
<figure class="align-center" id="id3">
<span id="glpixelsketchtxt"></span><a class="reference internal image-reference" href="../../../../_images/poly_txt_example.jpg"><img alt="../../../../_images/poly_txt_example.jpg" src="../../../../_images/poly_txt_example.jpg" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure 3: Example of .txt polyhedron shape file</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Additional file formats could be added to the function <code class="docutils literal notranslate"><span class="pre">loadPolyFromFileToList(fileName:</span> <span class="pre">str)</span></code> under <code class="docutils literal notranslate"><span class="pre">gravCoeffOpps.py</span></code>.</p>
<hr class="docutils" />
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv422PolyhedralGravityModel">
<span id="_CPPv322PolyhedralGravityModel"></span><span id="_CPPv222PolyhedralGravityModel"></span><span id="PolyhedralGravityModel"></span><span class="target" id="class_polyhedral_gravity_model"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PolyhedralGravityModel</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="../_GeneralModuleFiles/gravityModel.html#_CPPv412GravityModel" title="GravityModel"><span class="n"><span class="pre">GravityModel</span></span></a><a class="headerlink" href="#_CPPv422PolyhedralGravityModel" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;polyhedralGravityModel.h&gt;</em></div>
<p>The Polyhedral gravity model.</p>
<p>In this class, a polyhedron is defined by its triangular facets. Each facet is defined by three vertices (they are triangles), and each vertex is defined by its position relative to the center of mass of the body. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel20initializeParametersEv">
<span id="_CPPv3N22PolyhedralGravityModel20initializeParametersEv"></span><span id="_CPPv2N22PolyhedralGravityModel20initializeParametersEv"></span><span id="PolyhedralGravityModel::initializeParameters"></span><span class="target" id="class_polyhedral_gravity_model_1a3d97c470f2a49f979bfe385606790ce3"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">optional</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">initializeParameters</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel20initializeParametersEv" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize all parameters necessary for the computation of gravity.</p>
<p>The attribute <code class="docutils literal notranslate"><span class="pre">muBody</span></code> must be set separately.</p>
<p>Will return an error message (string) if <code class="docutils literal notranslate"><span class="pre">xyzVertex</span></code> or <code class="docutils literal notranslate"><span class="pre">orderFacet</span></code> were not set. Otherwise, returns an empty optional. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel20initializeParametersERK12GravBodyData">
<span id="_CPPv3N22PolyhedralGravityModel20initializeParametersERK12GravBodyData"></span><span id="_CPPv2N22PolyhedralGravityModel20initializeParametersERK12GravBodyData"></span><span id="PolyhedralGravityModel::initializeParameters__GravBodyDataCR"></span><span class="target" id="class_polyhedral_gravity_model_1adecff6ff58badce2870ab5a7e2c08935"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">optional</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">initializeParameters</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../_GeneralModuleFiles/gravityEffector.html#_CPPv412GravBodyData" title="GravBodyData"><span class="n"><span class="pre">GravBodyData</span></span></a><span class="p"><span class="pre">&amp;</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel20initializeParametersERK12GravBodyData" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize all parameters necessary for the computation of gravity.</p>
<p>The attribute <code class="docutils literal notranslate"><span class="pre">muBody</span></code> is read from the given <code class="docutils literal notranslate"><span class="pre">GravBodyData</span></code>.</p>
<p>Will return an error message (string) if <code class="docutils literal notranslate"><span class="pre">xyzVertex</span></code> or <code class="docutils literal notranslate"><span class="pre">orderFacet</span></code> were not set. Otherwise, returns an empty optional. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK22PolyhedralGravityModel12computeFieldERKN5Eigen8Vector3dE">
<span id="_CPPv3NK22PolyhedralGravityModel12computeFieldERKN5Eigen8Vector3dE"></span><span id="_CPPv2NK22PolyhedralGravityModel12computeFieldERKN5Eigen8Vector3dE"></span><span id="PolyhedralGravityModel::computeField__Eigen::Vector3dCRC"></span><span class="target" id="class_polyhedral_gravity_model_1ad0f4fb28b57c6d8444419e532d81b81d"></span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Vector3d</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">computeField</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Vector3d</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">pos_BP_P</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4NK22PolyhedralGravityModel12computeFieldERKN5Eigen8Vector3dE" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the gravity acceleration at a position around this body.</p>
<p>The position is given in the gravity body-centred rotating reference frame. Likewise, the resulting acceleration is obtained in the gravity body-centred rotating reference frame </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK22PolyhedralGravityModel22computePotentialEnergyERKN5Eigen8Vector3dE">
<span id="_CPPv3NK22PolyhedralGravityModel22computePotentialEnergyERKN5Eigen8Vector3dE"></span><span id="_CPPv2NK22PolyhedralGravityModel22computePotentialEnergyERKN5Eigen8Vector3dE"></span><span id="PolyhedralGravityModel::computePotentialEnergy__Eigen::Vector3dCRC"></span><span class="target" id="class_polyhedral_gravity_model_1a3439395340971c070c1a0383ca3b801c"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">computePotentialEnergy</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Vector3d</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">pos_BP_P</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4NK22PolyhedralGravityModel22computePotentialEnergyERKN5Eigen8Vector3dE" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the gravitational potential energy at a position around this body.</p>
<p>The position is given in the body-centred rotating reference frame. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel6muBodyE">
<span id="_CPPv3N22PolyhedralGravityModel6muBodyE"></span><span id="_CPPv2N22PolyhedralGravityModel6muBodyE"></span><span id="PolyhedralGravityModel::muBody__double"></span><span class="target" id="class_polyhedral_gravity_model_1a521a3fb6ac100d47c06c3968c568d70f"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">muBody</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel6muBodyE" title="Link to this definition"></a><br /></dt>
<dd><p>[m^3/s^2] Gravitation parameter for the planet </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel9xyzVertexE">
<span id="_CPPv3N22PolyhedralGravityModel9xyzVertexE"></span><span id="_CPPv2N22PolyhedralGravityModel9xyzVertexE"></span><span id="PolyhedralGravityModel::xyzVertex__Eigen::MatrixX3d"></span><span class="target" id="class_polyhedral_gravity_model_1afb4964c73e1b03913f6f39ebe656bbc7"></span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">MatrixX3d</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xyzVertex</span></span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel9xyzVertexE" title="Link to this definition"></a><br /></dt>
<dd><p>This matrix contains the position of every vertex of this polyhedron, in meters. Each row corresponds to a different vertex, while each column corresponds to x, y, z respectively. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel10orderFacetE">
<span id="_CPPv3N22PolyhedralGravityModel10orderFacetE"></span><span id="_CPPv2N22PolyhedralGravityModel10orderFacetE"></span><span id="PolyhedralGravityModel::orderFacet__Eigen::MatrixX3i"></span><span class="target" id="class_polyhedral_gravity_model_1a58ea4cf2fc98e8f4c7d6ebf3542c259d"></span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">MatrixX3i</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">orderFacet</span></span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel10orderFacetE" title="Link to this definition"></a><br /></dt>
<dd><p>This matrix defines the facets of the matrix. Each row contains three numbers, each of them corresponding to the index of a vertex, as defined in xyzVertex. These three vertices define a single facet of the polyhedron.</p>
<p>Note that the order of the vertex index is important: the facets must all be outward pointing. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-functions">Private Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel16initializeFacetsEv">
<span id="_CPPv3N22PolyhedralGravityModel16initializeFacetsEv"></span><span id="_CPPv2N22PolyhedralGravityModel16initializeFacetsEv"></span><span id="PolyhedralGravityModel::initializeFacets"></span><span class="target" id="class_polyhedral_gravity_model_1a4d0fd710b825638b75f555f12792ffd5"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">initializeFacets</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel16initializeFacetsEv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel15initializeEdgesEv">
<span id="_CPPv3N22PolyhedralGravityModel15initializeEdgesEv"></span><span id="_CPPv2N22PolyhedralGravityModel15initializeEdgesEv"></span><span id="PolyhedralGravityModel::initializeEdges"></span><span class="target" id="class_polyhedral_gravity_model_1afa8423fb3aeba51d713bd5c2f72e5e5a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">initializeEdges</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel15initializeEdgesEv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel7addEdgeEN5Eigen8Vector2iEii">
<span id="_CPPv3N22PolyhedralGravityModel7addEdgeEN5Eigen8Vector2iEii"></span><span id="_CPPv2N22PolyhedralGravityModel7addEdgeEN5Eigen8Vector2iEii"></span><span id="PolyhedralGravityModel::addEdge__Eigen::Vector2i.i.i"></span><span class="target" id="class_polyhedral_gravity_model_1a6c9d8eed2ac0c0b059649241b29e6dcc"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">addEdge</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Vector2i</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">edge</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">idx_edge</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">idx_facet</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel7addEdgeEN5Eigen8Vector2iEii" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-members">Private Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel7volPolyE">
<span id="_CPPv3N22PolyhedralGravityModel7volPolyE"></span><span id="_CPPv2N22PolyhedralGravityModel7volPolyE"></span><span id="PolyhedralGravityModel::volPoly__double"></span><span class="target" id="class_polyhedral_gravity_model_1a84d8cbd9fe52140be7fe02f20858dd9e"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">volPoly</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel7volPolyE" title="Link to this definition"></a><br /></dt>
<dd><p>[m^3] Volume of the polyhedral </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel11normalFacetE">
<span id="_CPPv3N22PolyhedralGravityModel11normalFacetE"></span><span id="_CPPv2N22PolyhedralGravityModel11normalFacetE"></span><span id="PolyhedralGravityModel::normalFacet__Eigen::MatrixX3d"></span><span class="target" id="class_polyhedral_gravity_model_1a114d8f8cea93fe34fb1546f8f839683d"></span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">MatrixX3d</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">normalFacet</span></span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel11normalFacetE" title="Link to this definition"></a><br /></dt>
<dd><p>This matrix contains the outward normal of each facet [-]. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel8xyzFacetE">
<span id="_CPPv3N22PolyhedralGravityModel8xyzFacetE"></span><span id="_CPPv2N22PolyhedralGravityModel8xyzFacetE"></span><span id="PolyhedralGravityModel::xyzFacet__Eigen::MatrixX3d"></span><span class="target" id="class_polyhedral_gravity_model_1ad299cb038a7c99cf13dd4e008eaee6c5"></span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">MatrixX3d</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xyzFacet</span></span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel8xyzFacetE" title="Link to this definition"></a><br /></dt>
<dd><p>This matrix contains the center of each facet [m]. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel10edgeVertexE">
<span id="_CPPv3N22PolyhedralGravityModel10edgeVertexE"></span><span id="_CPPv2N22PolyhedralGravityModel10edgeVertexE"></span><span id="PolyhedralGravityModel::edgeVertex__Eigen::MatrixXi"></span><span class="target" id="class_polyhedral_gravity_model_1acebe1ad5b3e49e7764e8a0b4765f5ca6"></span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">MatrixXi</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">edgeVertex</span></span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel10edgeVertexE" title="Link to this definition"></a><br /></dt>
<dd><p>This matrix contains the vertex initial and final indexes for each edge [-]. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel9edgeFacetE">
<span id="_CPPv3N22PolyhedralGravityModel9edgeFacetE"></span><span id="_CPPv2N22PolyhedralGravityModel9edgeFacetE"></span><span id="PolyhedralGravityModel::edgeFacet__Eigen::MatrixXi"></span><span class="target" id="class_polyhedral_gravity_model_1a8c0e45d98946ec64eadcaa1a91e09e9c"></span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">MatrixXi</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">edgeFacet</span></span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel9edgeFacetE" title="Link to this definition"></a><br /></dt>
<dd><p>This matrix contains the shared facet indexes for each edge [-] </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel10edgeLengthE">
<span id="_CPPv3N22PolyhedralGravityModel10edgeLengthE"></span><span id="_CPPv2N22PolyhedralGravityModel10edgeLengthE"></span><span id="PolyhedralGravityModel::edgeLength__Eigen::VectorXd"></span><span class="target" id="class_polyhedral_gravity_model_1a88b916c9170656f6a455ff4247d30160"></span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">VectorXd</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">edgeLength</span></span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel10edgeLengthE" title="Link to this definition"></a><br /></dt>
<dd><p>This vector contains the length of each edge [m] </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel6FfDyadE">
<span id="_CPPv3N22PolyhedralGravityModel6FfDyadE"></span><span id="_CPPv2N22PolyhedralGravityModel6FfDyadE"></span><span id="PolyhedralGravityModel::FfDyad__std::vector:Eigen::Matrix3d:"></span><span class="target" id="class_polyhedral_gravity_model_1ae0dfa8dce39eb9f3bb89142309a80d1b"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Matrix3d</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">FfDyad</span></span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel6FfDyadE" title="Link to this definition"></a><br /></dt>
<dd><p>The entries of this vector correspond to the facet normal dyad product nf nf’ [-] </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22PolyhedralGravityModel6EeDyadE">
<span id="_CPPv3N22PolyhedralGravityModel6EeDyadE"></span><span id="_CPPv2N22PolyhedralGravityModel6EeDyadE"></span><span id="PolyhedralGravityModel::EeDyad__std::vector:Eigen::Matrix3d:"></span><span class="target" id="class_polyhedral_gravity_model_1a831c13763f5bfe6c7505a7cf9619a757"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../../mujocoDynamics/_GeneralModuleFiles/MJSpec.html#_CPPv45Eigen" title="Eigen"><span class="n"><span class="pre">Eigen</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Matrix3d</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">EeDyad</span></span></span><a class="headerlink" href="#_CPPv4N22PolyhedralGravityModel6EeDyadE" title="Link to this definition"></a><br /></dt>
<dd><p>The entries of this vector correspond to the edge dyad product as nFA n12’ + nFB n21’ (Figure 7 Werner&amp;Scheeres 1996) [-] </p>
</dd></dl>

</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="gravCoeffOps.html" class="btn btn-neutral float-left" title="gravCoeffOps" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sphericalHarmonicsGravityModel.html" class="btn btn-neutral float-right" title="Module: sphericalHarmonicsGravityModel" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>