

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>scenarioCSS &mdash; Basilisk 2.9.0
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=182a64a0"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=3cd7d658"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="scenarioCSSFilters" href="scenarioCSSFilters.html" />
    <link rel="prev" title="scenarioAlbedo" href="scenarioAlbedo.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../index.html" class="icon icon-home">
            Basilisk
              <img src="../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Build.html">Building from Source</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Learn.html">Learning Basilisk</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Learn/bskPrinciples.html">Fundamentals of Basilisk Simulations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Integrated Example Scripts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#orbital-simulations">Orbital Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#attitude-simulations">Attitude Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#orbit-control">Orbit Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#planetary-environments">Planetary Environments</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#spacecraft-sensors">Spacecraft Sensors</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html#coarse-sun-sensors">Coarse Sun Sensors</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#three-axis-magnetometers">Three-Axis Magnetometers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#spacecraft-sub-systems">Spacecraft Sub-Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#multi-body-dynamics-simulations-with-mujoco">Multi-Body Dynamics Simulations with MuJoCo</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#constrained-spacecraft-dynamics-simulations">Constrained Spacecraft Dynamics Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#complex-spacecraft-dynamics-simulations">Complex Spacecraft Dynamics Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#prescribed-motion-spacecraft-dynamics-simulations">Prescribed Motion Spacecraft Dynamics Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#mission-simulations">Mission Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#spacecraft-formation-flying">Spacecraft Formation Flying</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#small-body-navigation-simulations">Small Body Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#bsksim-architecture"><code class="docutils literal notranslate"><span class="pre">bskSim()</span></code> Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#multisatbsksim-architecture"><code class="docutils literal notranslate"><span class="pre">MultiSatBskSim()</span></code> Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#optical-navigation-simulations">Optical Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#monte-carlo-simulations">Monte Carlo Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#advanced-simulation-options">Advanced Simulation Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#multi-threading-basilisk-simulations">Multi-Threading Basilisk Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#advanced-visualizations">Advanced Visualizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Learn/makingModules.html">Basics of Writing Basilisk Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Learn.html">Learning Basilisk</a></li>
          <li class="breadcrumb-item"><a href="index.html">Integrated Example Scripts</a></li>
      <li class="breadcrumb-item active">scenarioCSS</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/examples/scenarioCSS.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scenariocss">
<span id="id1"></span><h1>scenarioCSS<a class="headerlink" href="#scenariocss" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="overview">
<span id="module-scenarioCSS"></span><h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>This script sets up a 6-DOF spacecraft in deep space without any gravitational bodies.
Only rotational  motion is simulated.  The script illustrates how to setup CSS
sensor units and log their data.  It is possible  to setup individual CSS sensors,
or setup a constellation or array of CSS sensors.</p>
<p>The script is found in the folder <code class="docutils literal notranslate"><span class="pre">basilisk/examples</span></code> and executed by using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">scenarioCSS</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>When the simulation completes a plot is shown for the CSS sensor signal history.</p>
<p>The simulation layout options (A) and (B) are shown in the following illustration.  A single simulation process is created which contains both the spacecraft simulation module, as well as two individual CSS sensor units.  In scenario (A) the CSS units are individually executed by the simulation, while scenario (B) uses a CSS constellation class that executes a list of CSS evaluations at the same time.</p>
<img alt="../_images/test_scenarioCSS.svg" class="align-center" src="../_images/test_scenarioCSS.svg" />
<p>The dynamics simulation is setup using a <a class="reference internal" href="../Documentation/simulation/dynamics/spacecraft/spacecraft.html#spacecraft"><span class="std std-ref">Module: spacecraft</span></a> module where a specific
spacecraft location is specified.  Note that both the rotational and translational
degrees of freedom of the spacecraft hub are turned on here to get a 6-DOF simulation.
The position  vector is required when computing the relative heading between the sun
and the spacecraft locations.  The  spacecraft position is held fixed, while the
orientation rotates constantly about the 3rd body axis.</p>
<p>The Field-Of-View variable fov must be specified.  This is the angle between the
sensor bore-sight and the edge of the field of view.  Beyond this angle all sensor
signals are set to zero. The scaleFactor variable scales a normalized CSS response
to this value if facing the sun head on.  The input message name InputSunMsg specifies
an input message that contains the sun’s position. If sensor corruptions are to be
modeled, this can be set through the variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CSS1</span><span class="o">.</span><span class="n">KellyFactor</span>
<span class="n">CSS1</span><span class="o">.</span><span class="n">SenBias</span>
<span class="n">CSS1</span><span class="o">.</span><span class="n">SenNoiseStd</span>
</pre></div>
</div>
<p>The Kelly factor has values between 0 (off) and 1 and distorts the nominal cosine
response.  The SenBias  variable determines a normalized bias to be applied to the
CSS model, and SenNoiseStd provides Gaussian noise.</p>
<p>To create additional CSS sensor units, copies of the first CSS unit can be made.
This means only the parameters different in the additional units must be set.</p>
<p>A key parameter that remains is the CSS sensor unit normal vector.  There are
several options to set this vector (in body frame components).  The first
method is to set <span class="math notranslate nohighlight">\(\hat{\mathbf n}\)</span> or <code class="docutils literal notranslate"><span class="pre">nHat_B</span></code> directly.  This is
done with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CSS1</span><span class="o">.</span><span class="n">nHat_B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">CSS2</span><span class="o">.</span><span class="n">nHat_B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
</pre></div>
</div>
<p>Another option is to use a frame associated relative to a common CSS platform
<span class="math notranslate nohighlight">\(\cal P\)</span>.  The bundled CSS units are often symmetrically arranged on a
platform such as in a pyramid configuration.  The the platform frame is  specified through:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CSS1</span><span class="o">.</span><span class="n">setBodyToPlatformDCM</span><span class="p">(</span><span class="mf">90.</span><span class="o">*</span><span class="n">macros</span><span class="o">.</span><span class="n">D2R</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
</pre></div>
</div>
<p>where the three orientation angles are 3-2-1 Euler angles.  These platform angles
are initialized to zero.  Next, the CSS unit direction vectors can be specified
through the azimuth and elevation angles (<span class="math notranslate nohighlight">\(\phi\)</span>, <span class="math notranslate nohighlight">\(\theta\)</span>).  These are (3)-(-2) Euler angles.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CSS1</span><span class="o">.</span><span class="n">phi</span> <span class="o">=</span> <span class="mf">90.</span><span class="o">*</span><span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
<span class="n">CSS1</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="mf">0.</span><span class="o">*</span><span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
</pre></div>
</div>
<p>If no platform orientation is specified, then naturally these azimuth and elevation angles are
measured relative to the body frame <span class="math notranslate nohighlight">\(\cal B\)</span>.</p>
<p>An optional input message is the solar eclipse message <code class="docutils literal notranslate"><span class="pre">sunEclipseInMsg</span></code>.
If this message input name is specified for a CSS unit, then the eclipse
information is taken into account.  If this message name is not set, then
the CSS defaults to the spacecraft always being in the sun.</p>
</section>
<section id="illustration-of-simulation-results">
<h2>Illustration of Simulation Results<a class="headerlink" href="#illustration-of-simulation-results" title="Link to this heading"></a></h2>
<p>The following images illustrate the expected simulation run returns for a range of script configurations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show_plots</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">useCSSConstellation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">usePlatform</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">useEclipse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">useKelly</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
</div>
<p>This scenario simulates the CSS units being setup individually without any corruption.
The sensor unit normal axes are directly set, and no eclipse is modeled.
The signals of the two CSS units range from a maximum of 2 if the CSS axis is pointing
at the sun to zero.  The limited field of view of 80 degrees causes the sensor signal
to be clipped when the sun light incidence angle gets too small.</p>
<img alt="../_images/scenarioCSS0000.svg" class="align-center" src="../_images/scenarioCSS0000.svg" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show_plots</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">useCSSConstellation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">usePlatform</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">useEclipse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">useKelly</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
</div>
<p>The resulting CSS sensor signals should be identical to the first scenario as the
chosen platform orientation and CSS azimuth and elevation angles are chosen to
yield the same senor normal unit axes.</p>
<img alt="../_images/scenarioCSS0100.svg" class="align-center" src="../_images/scenarioCSS0100.svg" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show_plots</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">useCSSConstellation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">usePlatform</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">useEclipse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">useKelly</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
</div>
<p>The resulting CSS signals are scaled by a factor of 0.5 and are shown below.</p>
<img alt="../_images/scenarioCSS0010.svg" class="align-center" src="../_images/scenarioCSS0010.svg" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show_plots</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">useCSSConstellation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">usePlatform</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">useEclipse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">useKelly</span><span class="o">=</span><span class="kc">True</span>
</pre></div>
</div>
<p>This causes the CSS signals to become slightly warped, and depart from the nominal
cosine  behavior.</p>
<img alt="../_images/scenarioCSS0001.svg" class="align-center" src="../_images/scenarioCSS0001.svg" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show_plots</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">useCSSConstellation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">usePlatform</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">useEclipse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">useKelly</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
</div>
<p>The resulting simulation results are shown below to be identical to the first setup as expected.</p>
<img alt="../_images/scenarioCSS1000.svg" class="align-center" src="../_images/scenarioCSS1000.svg" />
</section>
<dl class="py function">
<dt class="sig sig-object py" id="scenarioCSS.run">
<span class="sig-prename descclassname"><span class="pre">scenarioCSS.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useCSSConstellation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usePlatform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useEclipse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useKelly</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/scenarioCSS.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenarioCSS.run" title="Link to this definition"></a></dt>
<dd><p>At the end of the python script you can specify the following example parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_plots</strong> (<em>bool</em>) – Determines if the script should display plots</p></li>
<li><p><strong>useCSSConstellation</strong> (<em>bool</em>) – Flag indicating if the CSS cluster/configuration class should be used.</p></li>
<li><p><strong>usePlatform</strong> (<em>bool</em>) – Flag specifying if the CSS platform orientation should be set.</p></li>
<li><p><strong>useEclipse</strong> (<em>bool</em>) – Flag indicating if the eclipse input message is used.</p></li>
<li><p><strong>useKelly</strong> (<em>bool</em>) – Flag specifying if the Kelly corruption factor is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="scenarioAlbedo.html" class="btn btn-neutral float-left" title="scenarioAlbedo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scenarioCSSFilters.html" class="btn btn-neutral float-right" title="scenarioCSSFilters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>