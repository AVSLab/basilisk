

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RigidBodyKinematics &mdash; Basilisk 2.8.41
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=53003e83"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=3cd7d658"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../index.html" class="icon icon-home">
            Basilisk
              <img src="../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Build.html">Building from Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Learn.html">Learning Basilisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module code</a></li>
      <li class="breadcrumb-item active">RigidBodyKinematics</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for RigidBodyKinematics</h1><div class="highlight"><pre>
<span></span>
<span class="c1"># ISC License</span>
<span class="c1">#</span>
<span class="c1"># Copyright (c) 2016, Autonomous Vehicle Systems Lab, University of Colorado at Boulder</span>
<span class="c1">#</span>
<span class="c1"># Permission to use, copy, modify, and/or distribute this software for any</span>
<span class="c1"># purpose with or without fee is hereby granted, provided that the above</span>
<span class="c1"># copyright notice and this permission notice appear in all copies.</span>
<span class="c1">#</span>
<span class="c1"># THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES</span>
<span class="c1"># WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</span>
<span class="c1"># MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR</span>
<span class="c1"># ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</span>
<span class="c1"># WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</span>
<span class="c1"># ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</span>
<span class="c1"># OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span>




<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>

<span class="c1"># Import required modules:</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">linalg</span> <span class="k">as</span> <span class="n">la</span>

<span class="n">M_PI</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
<span class="n">D2R</span> <span class="o">=</span> <span class="n">M_PI</span> <span class="o">/</span> <span class="mf">180.</span>
<span class="n">R2D</span> <span class="o">=</span> <span class="mf">180.</span> <span class="o">/</span> <span class="n">M_PI</span>


<div class="viewcode-block" id="Picheck">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.Picheck">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Picheck</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Picheck(x)</span>
<span class="sd">        Makes sure that the angle x lies within +/- Pi.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">M_PI</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">M_PI</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="o">-</span><span class="n">M_PI</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">M_PI</span>
    <span class="k">return</span> <span class="n">x</span></div>



<div class="viewcode-block" id="C2EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2EP</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2EP</span>
<span class="sd">        Q = C2EP(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">        C into the corresponding 4x1 euler parameter vector Q,</span>
<span class="sd">        where the first component of Q is the non-dimensional</span>
<span class="sd">        Euler parameter Beta_0 &gt;= 0. Transformation is done</span>
<span class="sd">        using the Stanley method.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
    <span class="n">b2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">tr</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
                   <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">tr</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
                   <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">tr</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
                   <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">tr</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span>
                   <span class="p">])</span>
    <span class="n">case</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">b2</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">b2</span>
    <span class="k">if</span> <span class="n">case</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">b2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">case</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">case</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">b2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">case</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">b2</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">b</span></div>



<div class="viewcode-block" id="C2Euler121">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler121">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler121</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler121</span>

<span class="sd">    	Q = C2Euler121(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (1-2-1) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler123">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler123">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler123</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler123</span>

<span class="sd">    	Q = C2Euler123(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (1-2-3) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler131">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler131">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler131</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler131</span>

<span class="sd">    	Q = C2Euler131(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (1-3-1) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler132">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler132">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler132</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler132</span>

<span class="sd">    	Q = C2Euler132(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (1-3-2) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler212">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler212">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler212</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler212</span>

<span class="sd">    	Q = C2Euler212(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (2-1-2) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler213">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler213">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler213</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler213</span>

<span class="sd">        Q = C2Euler213(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (2-1-3) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler231">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler231">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler231</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler231</span>

<span class="sd">    	Q = C2Euler231(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (2-3-1) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler232">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler232">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler232</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler232</span>

<span class="sd">    	Q = C2Euler232(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (2-3-2) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler312">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler312">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler312</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler312</span>

<span class="sd">    	Q = C2Euler312(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (3-1-2) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler313">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler313">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler313</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler313</span>

<span class="sd">    	Q = C2Euler313(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (3-1-3) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler321">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler321">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler321</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler321</span>

<span class="sd">    	Q = C2Euler321(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (3-2-1) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Euler323">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Euler323">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Euler323</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Euler323</span>

<span class="sd">    	Q = C2Euler323(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding (3-2-3) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="o">-</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2Gibbs</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2Gibbs</span>

<span class="sd">    	Q = C2Gibbs(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding 3x1 gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">b</span> <span class="o">=</span> <span class="n">C2EP</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2MRP</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2MRP</span>

<span class="sd">    	Q = C2MRP(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding 3x1 MRP vector Q where the</span>
<span class="sd">    	MRP vector is chosen such that :math:`|Q| &lt;= 1`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">b</span> <span class="o">=</span> <span class="n">C2EP</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="C2PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.C2PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">C2PRV</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    C2PRV</span>

<span class="sd">    	Q = C2PRV(C) translates the 3x3 direction cosine matrix</span>
<span class="sd">    	C into the corresponding 3x1 principal rotation vector Q,</span>
<span class="sd">    	where the first component of Q is the principal rotation angle</span>
<span class="sd">    	phi (0&lt;= phi &lt;= Pi)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">C</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">p</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">sp</span><span class="p">,</span>
        <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="o">*</span> <span class="n">sp</span><span class="p">,</span>
        <span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">sp</span>
    <span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="addEP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEP</span><span class="p">(</span><span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEP(B1,B2)</span>

<span class="sd">    	Q = addEP(B1,B2) provides the euler parameter vector</span>
<span class="sd">    	which corresponds to performing to successive</span>
<span class="sd">    	rotations B1 and B2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">b2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">b2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">b2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">b2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">b2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">b2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">b2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="addEuler121">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler121">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler121</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler121(E1,E2)</span>

<span class="sd">    	Q = addEuler121(E1,E2) computes the overall (1-2-1) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(1-2-1) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp1</span><span class="p">))</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>

    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="addEuler123">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler123">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler123</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler123(E1,E2)</span>

<span class="sd">    	Q = addEuler123(E1,E2) computes the overall (1-2-3) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(1-2-3) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler1232C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">euler1232C</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">C1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">C2Euler123</span><span class="p">(</span><span class="n">C</span><span class="p">)</span></div>



<div class="viewcode-block" id="addEuler131">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler131">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler131</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler131(E1,E2)</span>

<span class="sd">    	Q = addEuler131(E1,E2) computes the overall (1-3-1) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(1-3-1) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp1</span><span class="p">))</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>

    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="addEuler132">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler132">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler132</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler132(E1,E2)</span>

<span class="sd">    	Q = addEuler132(E1,E2) computes the overall (1-3-2) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(1-3-2) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler1322C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">euler1322C</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">C1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">C2Euler132</span><span class="p">(</span><span class="n">C</span><span class="p">)</span></div>



<div class="viewcode-block" id="addEuler212">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler212">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler212</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler212(E1,E2)</span>

<span class="sd">    	Q = addEuler212(E1,E2) computes the overall (2-1-2) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(2-1-2) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp1</span><span class="p">))</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="addEuler213">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler213">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler213</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler213(E1,E2)</span>

<span class="sd">    	Q = addEuler213(E1,E2) computes the overall (2-1-3) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(2-1-3) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler2132C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">euler2132C</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">C1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">C2Euler213</span><span class="p">(</span><span class="n">C</span><span class="p">)</span></div>



<div class="viewcode-block" id="addEuler231">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler231">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler231</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler231(E1,E2)</span>

<span class="sd">    	Q = addEuler231(E1,E2) computes the overall (2-3-1) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(2-3-1) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler2312C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">euler2312C</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">C1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">C2Euler231</span><span class="p">(</span><span class="n">C</span><span class="p">)</span></div>



<div class="viewcode-block" id="addEuler232">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler232">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler232</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler232(E1,E2)</span>

<span class="sd">    	Q = addEuler232(E1,E2) computes the overall (2-3-2) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(2-3-2) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp1</span><span class="p">))</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="addEuler312">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler312">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler312</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler312(E1,E2)</span>

<span class="sd">    	Q = addEuler312(E1,E2) computes the overall (3-1-2) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(3-1-2) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler3122C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">euler3122C</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">C1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">C2Euler312</span><span class="p">(</span><span class="n">C</span><span class="p">)</span></div>



<div class="viewcode-block" id="addEuler313">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler313">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler313</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler313(E1,E2)</span>

<span class="sd">    	Q = addEuler313(E1,E2) computes the overall (3-1-3) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(3-1-3) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp1</span><span class="p">))</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="addEuler321">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler321">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler321</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler321(E1,E2)</span>

<span class="sd">    	Q = addEuler321(E1,E2) computes the overall (3-2-1) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(3-2-1) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler3212C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">euler3212C</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C2</span><span class="p">,</span> <span class="n">C1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">C2Euler321</span><span class="p">(</span><span class="n">C</span><span class="p">)</span></div>



<div class="viewcode-block" id="addEuler323">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addEuler323">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addEuler323</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addEuler323(E1,E2)</span>

<span class="sd">    	Q = addEuler323(E1,E2) computes the overall (3-2-3) euler</span>
<span class="sd">    	angle vector corresponding to two successive</span>
<span class="sd">    	(3-2-3) rotations E1 and E2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp1</span><span class="p">))</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp3</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="addGibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addGibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addGibbs</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    addGibbs(Q1,Q2)</span>

<span class="sd">    	Q = addGibbs(Q1,Q2) provides the gibbs vector</span>
<span class="sd">    	which corresponds to performing to successive</span>
<span class="sd">    	rotations Q1 and Q2.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">q1</span> <span class="o">+</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">result</span></div>



<div class="viewcode-block" id="addMRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addMRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addMRP</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     addMRP(Q1,Q2)</span>

<span class="sd">    	Q = addMRP(Q1,Q2) provides the MRP vector</span>
<span class="sd">    	which corresponds to performing to successive</span>
<span class="sd">    	rotations Q1 and Q2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">den</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q2</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">den</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-5</span><span class="p">:</span>
        <span class="n">q2</span> <span class="o">=</span> <span class="o">-</span><span class="n">q2</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q2</span><span class="p">,</span><span class="n">q2</span><span class="p">)</span>
        <span class="n">den</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q2</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span>
    <span class="n">num</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q1</span><span class="p">))</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q2</span><span class="p">,</span> <span class="n">q2</span><span class="p">))</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span>

    <span class="n">q</span> <span class="o">=</span> <span class="n">num</span> <span class="o">/</span> <span class="n">den</span>

    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q</span><span class="p">,</span><span class="n">q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">q</span> <span class="o">=</span> <span class="o">-</span> <span class="n">q</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q</span><span class="p">,</span><span class="n">q</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="PRV2elem">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2elem">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2elem</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2elem(R)</span>

<span class="sd">    	Q = PRV2elem(R) translates a prinicpal rotation vector R</span>
<span class="sd">    	into the corresponding principal rotation element set Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">q0</span> <span class="o">&lt;</span> <span class="mf">1e-12</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">q0</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">q0</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">q0</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="addPRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.addPRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addPRV</span><span class="p">(</span><span class="n">qq1</span><span class="p">,</span> <span class="n">qq2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     addPRV(Q1,Q2)</span>

<span class="sd">    	Q = addPRV(Q1,Q2) provides the principal rotation vector</span>
<span class="sd">    	which corresponds to performing to successive</span>
<span class="sd">    	prinicipal rotations Q1 and Q2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">PRV2elem</span><span class="p">(</span><span class="n">qq1</span><span class="p">)</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">PRV2elem</span><span class="p">(</span><span class="n">qq2</span><span class="p">)</span>
    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span>
    <span class="n">sp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span>
    <span class="n">e1</span> <span class="o">=</span> <span class="n">q1</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">q2</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>

    <span class="n">p</span> <span class="o">=</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp2</span> <span class="o">-</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">))</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span>
    <span class="n">e</span> <span class="o">=</span> <span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">e2</span> <span class="o">+</span> <span class="n">cp2</span> <span class="o">*</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">e1</span> <span class="o">+</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">))</span>
    <span class="n">q</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="n">sp</span><span class="p">)</span> <span class="o">*</span> <span class="n">e</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="BinvEP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEP</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEP(Q)</span>

<span class="sd">    	B = BinvEP(Q) returns the 3x4 matrix which relates</span>
<span class="sd">    	the derivative of euler parameter vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = 2 [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler121">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler121">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler121</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler121(Q)</span>

<span class="sd">    	B = BinvEuler121(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (1-2-1) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler123">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler123">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler123</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler123(Q)</span>

<span class="sd">    	B = BinvEuler123(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (1-2-3) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler131">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler131">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler131</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler131(Q)</span>

<span class="sd">    	B = BinvEuler131(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (1-3-1) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler132">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler132">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler132</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler132(Q)</span>

<span class="sd">    	B = BinvEuler132(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (1-3-2) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler212">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler212">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler212</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler212(Q)</span>

<span class="sd">    	B = BinvEuler212(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (2-1-2) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler213">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler213">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler213</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler213(Q)</span>

<span class="sd">    	B = BinvEuler213(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (2-1-3) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler231">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler231">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler231</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler231(Q)</span>

<span class="sd">    	B = BinvEuler231(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (2-3-1) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler232">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler232">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler232</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler232(Q)</span>

<span class="sd">    	B = BinvEuler232(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (2-3-2) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler312">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler312">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler312</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler312(Q)</span>

<span class="sd">    	B = BinvEuler312(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (3-1-2) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler313">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler313">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler313</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler313(Q)</span>

<span class="sd">    	B = BinvEuler313(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (3-1-3) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler321">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler321">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler321</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler321(Q)</span>

<span class="sd">    	B = BinvEuler321(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (3-2-1) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvEuler323">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvEuler323">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvEuler323</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvEuler323(Q)</span>

<span class="sd">    	B = BinvEuler323(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of the (3-2-3) euler angle vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvGibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvGibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvGibbs</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvGibbs(Q)</span>

<span class="sd">    	B = BinvGibbs(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of gibbs vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = 2 [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">q</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvMRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvMRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvMRP</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvMRP(Q)</span>

<span class="sd">    	B = BinvMRP(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of MRP vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = 4 [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">s2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">s2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">s2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">s2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">s2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BinvPRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BinvPRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BinvPRV</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BinvPRV(Q)</span>

<span class="sd">    	B = BinvPRV(Q) returns the 3x3 matrix which relates</span>
<span class="sd">    	the derivative of principal rotation vector Q to the</span>
<span class="sd">    	body angular velocity vector w.</span>

<span class="sd">    		w = [B(Q)]^(-1) dQ/dt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">p</span> <span class="o">=</span> <span class="n">la</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="n">c1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">p</span><span class="p">))</span> <span class="o">/</span> <span class="n">p</span> <span class="o">/</span> <span class="n">p</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">p</span><span class="p">))</span> <span class="o">/</span> <span class="n">p</span> <span class="o">/</span> <span class="n">p</span> <span class="o">/</span> <span class="n">p</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">c2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c1</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c1</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">c2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c1</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">c2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEP</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEP(Q)</span>

<span class="sd">    	B = BmatEP(Q) returns the 4x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	Euler parameter vector Q.</span>

<span class="sd">    		dQ/dt = 1/2 [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler121">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler121">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler121</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler121(Q)</span>

<span class="sd">    	B = BmatEuler121(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(1-2-1) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">s2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler123">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler123">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler123</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler123(Q)</span>

<span class="sd">    	B = BmatEuler123(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(1-2-3) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">c2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler131">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler131">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler131</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler131(Q)</span>

<span class="sd">    	B = BmatEuler131(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(1-3-1) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">s2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler132">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler132">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler132</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler132(Q)</span>

<span class="sd">    	B = BmatEuler132(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(1-3-2) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">c2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler212">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler212">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler212</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler212(Q)</span>

<span class="sd">    	B = BmatEuler212(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(2-1-2) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">s2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler213">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler213">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler213</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler213(Q)</span>

<span class="sd">    	B = BmatEuler213(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(2-1-3) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">c2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler231">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler231">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler231</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler231(Q)</span>

<span class="sd">    	B = BmatEuler231(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(2-3-1) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">c2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler232">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler232">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler232</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler232(Q)</span>

<span class="sd">    	B = BmatEuler232(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(2-3-2) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">s2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler312">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler312">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler312</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler312(Q)</span>

<span class="sd">    	B = BmatEuler312(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(3-1-2) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">c2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler313">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler313">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler313</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler313(Q)</span>

<span class="sd">    	B = BmatEuler313(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(3-1-3) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span> <span class="o">*</span> <span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span> <span class="o">*</span> <span class="n">s2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s3</span> <span class="o">*</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c3</span> <span class="o">*</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">s2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler321">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler321">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler321</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler321(Q)</span>

<span class="sd">    	B = BmatEuler321(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(3-2-1) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">c2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatEuler323">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatEuler323">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatEuler323</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatEuler323(Q)</span>

<span class="sd">    	B = BmatEuler323(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	(3-2-3) euler angle vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">B</span> <span class="o">/</span> <span class="n">s2</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatGibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatGibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatGibbs</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatGibbs(Q)</span>

<span class="sd">    	B = BmatGibbs(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	Gibbs vector Q.</span>

<span class="sd">    		dQ/dt = 1/2 [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BmatMRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatMRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatMRP</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatMRP(Q)</span>

<span class="sd">    	B = BmatMRP(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	MRP vector Q.</span>

<span class="sd">    		dQ/dt = 1/4 [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">s2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">s2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">s2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="BdotmatMRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BdotmatMRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BdotmatMRP</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">dq</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BdotmatMRP(Q, dQ)</span>

<span class="sd">    	B = BdotmatMRP(Q, dQ) returns the derivative of the 3x3 BmatMRP</span>
<span class="sd">        matrix, which is used to calculate the second order derivative</span>
<span class="sd">        of the MRP vector Q.</span>

<span class="sd">    	(d^2Q)/(dt^2) = 1/4 ( [B(Q)] dw + [Bdot(Q,dQ)] w )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">Bdot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">s</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">dq</span><span class="p">)</span>
    <span class="n">Bdot</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">dq</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">Bdot</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="n">dq</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">dq</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">Bdot</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span> <span class="n">dq</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">dq</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">dq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">Bdot</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span> <span class="n">dq</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">dq</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">Bdot</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">dq</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">Bdot</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="n">dq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">dq</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">dq</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">Bdot</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="n">dq</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">dq</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">dq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">Bdot</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span> <span class="n">dq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">dq</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">dq</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">Bdot</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">dq</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">Bdot</span></div>



<div class="viewcode-block" id="BmatPRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.BmatPRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">BmatPRV</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BmatPRV(Q)</span>

<span class="sd">    	B = BmatPRV(Q) returns the 3x3 matrix which relates the</span>
<span class="sd">    	body angular velocity vector w to the derivative of</span>
<span class="sd">    	principal rotation vector Q.</span>

<span class="sd">    		dQ/dt = [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">p</span> <span class="o">/</span> <span class="n">p</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">p</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">c</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">c</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">c</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">c</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">c</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">c</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">c</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">c</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">c</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">B</span></div>



<div class="viewcode-block" id="dEP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEP</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEP(Q,W)</span>

<span class="sd">    	dq = dEP(Q,W) returns the euler parameter derivative</span>
<span class="sd">    	for a given euler parameter vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt = 1/2 [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="mf">.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEP</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler121">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler121">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler121</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler121(Q,W)</span>

<span class="sd">    	dq = dEuler121(Q,W) returns the (1-2-1) euler angle derivative</span>
<span class="sd">    	vector for a given (1-2-1) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler121</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler123">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler123">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler123</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler123(Q,W)</span>

<span class="sd">    	dq = dEuler123(Q,W) returns the (1-2-3) euler angle derivative</span>
<span class="sd">    	vector for a given (1-2-3) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">        dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler123</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler131">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler131">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler131</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler131(Q,W)</span>

<span class="sd">    	dq = dEuler131(Q,W) returns the (1-3-1) euler angle derivative</span>
<span class="sd">    	vector for a given (1-3-1) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler131</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler132">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler132">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler132</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler132(Q,W)</span>

<span class="sd">    	dq = dEuler132(Q,W) returns the (1-3-2) euler angle derivative</span>
<span class="sd">    	vector for a given (1-3-2) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler132</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler212">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler212">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler212</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler212(Q,W)</span>

<span class="sd">    	dq = dEuler212(Q,W) returns the (2-1-2) euler angle derivative</span>
<span class="sd">    	vector for a given (2-1-2) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler212</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler213">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler213">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler213</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler213(Q,W)</span>

<span class="sd">    	dq = dEuler213(Q,W) returns the (2-1-3) euler angle derivative</span>
<span class="sd">    	vector for a given (2-1-3) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler213</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler231">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler231">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler231</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler231(Q,W)</span>

<span class="sd">    	dq = dEuler231(Q,W) returns the (2-3-1) euler angle derivative</span>
<span class="sd">    	vector for a given (2-3-1) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler231</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler232">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler232">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler232</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler232(Q,W)</span>

<span class="sd">    	dq = dEuler232(Q,W) returns the (2-3-2) euler angle derivative</span>
<span class="sd">    	vector for a given (2-3-2) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler232</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler312">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler312">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler312</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler312(Q,W)</span>

<span class="sd">    	dq = dEuler312(Q,W) returns the (3-1-2) euler angle derivative</span>
<span class="sd">    	vector for a given (3-1-2) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler312</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler313">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler313">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler313</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler313(Q,W)</span>

<span class="sd">    	dq = dEuler313(Q,W) returns the (3-1-3) euler angle derivative</span>
<span class="sd">    	vector for a given (3-1-3) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler313</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler321">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler321">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler321</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler321(Q,W)</span>

<span class="sd">    	dq = dEuler321(Q,W) returns the (3-2-1) euler angle derivative</span>
<span class="sd">    	vector for a given (3-2-1) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler321</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dEuler323">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dEuler323">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dEuler323</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dEuler323(Q,W)</span>

<span class="sd">    	dq = dEuler323(Q,W) returns the (3-2-3) euler angle derivative</span>
<span class="sd">    	vector for a given (3-2-3) euler angle vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatEuler323</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dGibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dGibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dGibbs</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dGibbs(Q,W)</span>

<span class="sd">    	dq = dGibbs(Q,W) returns the gibbs derivative</span>
<span class="sd">    	for a given gibbs vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt = 1/2 [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="mf">.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatGibbs</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dMRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dMRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dMRP</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dMRP(Q,W)</span>

<span class="sd">    	dq = dMRP(Q,W) returns the MRP derivative</span>
<span class="sd">    	for a given MRP vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt = 1/4 [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="mf">.25</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatMRP</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="dMRP2Omega">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dMRP2Omega">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dMRP2Omega</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">dq</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dMRP(Q,dQ)</span>

<span class="sd">    	W = dMRP(Q,dQ) returns the angular rate</span>
<span class="sd">    	for a given MRP set q MRP derivative dq.</span>

<span class="sd">        W = 4 [B(Q)]^(-1) dQ</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">BinvMRP</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">dq</span><span class="p">)</span></div>



<div class="viewcode-block" id="ddMRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.ddMRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">ddMRP</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">dq</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">dw</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dMRP(Q,dQ,W,dW)</span>

<span class="sd">    	ddQ = ddMRP(Q,dQ,W,dW) returns the MRP second derivative</span>
<span class="sd">    	for a given MRP vector q, MRP derivative dq, body</span>
<span class="sd">    	angular velocity vector w and body angulat acceleration</span>
<span class="sd">        vector dw.</span>

<span class="sd">    	(d^2Q)/(dt^2) = 1/4 ( [B(Q)] dw + [Bdot(Q,dQ)] w )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="mf">.25</span> <span class="o">*</span> <span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatMRP</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">dw</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BdotmatMRP</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">dq</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span> <span class="p">)</span></div>


<div class="viewcode-block" id="ddMRP2dOmega">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.ddMRP2dOmega">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">ddMRP2dOmega</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">dq</span><span class="p">,</span> <span class="n">ddq</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ddMRP2dOmega(Q,dQ,ddQ)</span>

<span class="sd">    	dW = ddMRP2dOmega(Q,dQ,ddQ) returns the body angular acceleration</span>
<span class="sd">        dW given the MRP vector Q, the MRP derivative dQ and the MRP</span>
<span class="sd">        second order derivative ddQ.</span>

<span class="sd">    	dW/dt = 4 [B(Q)]^(-1) ( ddQ - [Bdot(Q,dQ)] [B(Q)]^(-1) dQ )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">Binv</span> <span class="o">=</span> <span class="n">BinvMRP</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="n">Bdot</span> <span class="o">=</span> <span class="n">BdotmatMRP</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">dq</span><span class="p">)</span>

    <span class="k">return</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Binv</span><span class="p">,</span> <span class="p">(</span><span class="n">ddq</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Bdot</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Binv</span><span class="p">,</span> <span class="n">dq</span><span class="p">)))</span> <span class="p">)</span></div>



<div class="viewcode-block" id="dPRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.dPRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dPRV</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    dPRV(Q,W)</span>

<span class="sd">    	dq = dPRV(Q,W) returns the PRV derivative</span>
<span class="sd">    	for a given PRV vector Q and body</span>
<span class="sd">    	angular velocity vector w.</span>

<span class="sd">    	dQ/dt =  [B(Q)] w</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">BmatPRV</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span></div>



<div class="viewcode-block" id="elem2PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.elem2PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">elem2PRV</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    elem2PRV(R)</span>

<span class="sd">    	Q = elem2PRV(R) translates a prinicpal rotation</span>
<span class="sd">    	element set R into the corresponding principal</span>
<span class="sd">    	rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="gibbs2C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2C</span>

<span class="sd">    	C = gibbs2C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 3x1 gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">qm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="n">d1</span> <span class="o">=</span> <span class="n">qm</span> <span class="o">*</span> <span class="n">qm</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">d1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">q3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q2</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q2</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">d1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">+</span> <span class="n">q1</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q3</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">+</span> <span class="n">q2</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q3</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q1</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">d1</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">C</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">d1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="gibbs2EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2EP</span><span class="p">(</span><span class="n">q1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2EP(Q1)</span>

<span class="sd">    	Q = gibbs2EP(Q1) translates the gibbs vector Q1</span>
<span class="sd">    	into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">qm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
    <span class="n">ps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">qm</span> <span class="o">*</span> <span class="n">qm</span><span class="p">)</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="mi">1</span> <span class="o">/</span> <span class="n">ps</span><span class="p">,</span>
        <span class="n">q1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">ps</span><span class="p">,</span>
        <span class="n">q1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">ps</span><span class="p">,</span>
        <span class="n">q1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">ps</span>
    <span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="gibbs2Euler121">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler121">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler121</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler121(Q)</span>

<span class="sd">    	E = gibbs2Euler121(Q) translates the gibbs</span>
<span class="sd">        vector Q into the (1-2-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler121</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler123">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler123">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler123</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler123(Q)</span>

<span class="sd">    	E = gibbs2Euler123(Q) translates the gibbs</span>
<span class="sd">    	 vector Q into the (1-2-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler123</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler131">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler131">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler131</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler131(Q)</span>

<span class="sd">    	E = gibbs2Euler131(Q) translates the gibbs</span>
<span class="sd">    	 vector Q into the (1-3-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler131</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler132">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler132">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler132</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler132(Q)</span>

<span class="sd">    	E = gibbs2Euler132(Q) translates the gibbs</span>
<span class="sd">        vector Q into the (1-3-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler132</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler212">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler212">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler212</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler212(Q)</span>

<span class="sd">    	E = gibbs2Euler212(Q) translates the gibbs</span>
<span class="sd">    	 vector Q into the (2-1-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler212</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler213">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler213">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler213</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler213(Q)</span>

<span class="sd">    	E = gibbs2Euler213(Q) translates the gibbs</span>
<span class="sd">    	 vector Q into the (2-1-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler213</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler231">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler231">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler231</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler231(Q)</span>

<span class="sd">    	E = gibbs2Euler231(Q) translates the gibbs</span>
<span class="sd">    	 vector Q into the (2-3-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler231</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler232">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler232">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler232</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler232(Q)</span>

<span class="sd">    	E = gibbs2Euler232(Q) translates the gibbs</span>
<span class="sd">    	 vector Q into the (2-3-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler232</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler312">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler312">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler312</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler312(Q)</span>

<span class="sd">    	E = gibbs2Euler312(Q) translates the gibbs</span>
<span class="sd">    	 vector Q into the (3-1-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler312</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler313">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler313">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler313</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler313(Q)</span>

<span class="sd">    	E = gibbs2Euler313(Q) translates the gibbs</span>
<span class="sd">    	 vector Q into the (3-1-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler313</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler321">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler321">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler321</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler321(Q)</span>

<span class="sd">    	E = gibbs2Euler321(Q) translates the gibbs</span>
<span class="sd">    	 vector Q into the (3-2-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler321</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2Euler323">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2Euler323">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2Euler323</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2Euler323(Q)</span>

<span class="sd">    	E = gibbs2Euler323(Q) translates the gibbs</span>
<span class="sd">    	 vector Q into the (3-2-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler323</span><span class="p">(</span><span class="n">gibbs2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="gibbs2MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2MRP</span><span class="p">(</span><span class="n">q1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2MRP(Q1)</span>

<span class="sd">    	Q = gibbs2MRP(Q1) translates the gibbs vector Q1</span>
<span class="sd">    	into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">q1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q1</span><span class="p">)))</span></div>



<div class="viewcode-block" id="gibbs2PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.gibbs2PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">gibbs2PRV</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    gibbs2PRV(Q)</span>

<span class="sd">    	Q = gibbs2PRV(Q1) translates the gibbs vector Q1</span>
<span class="sd">    	into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">tp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="n">p</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">atan</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">tp</span> <span class="o">*</span> <span class="n">p</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">tp</span> <span class="o">*</span> <span class="n">p</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">tp</span> <span class="o">*</span> <span class="n">p</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="MRP2C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2C</span>

<span class="sd">    	C = MRP2C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 3x1 MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">qm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="n">d1</span> <span class="o">=</span> <span class="n">qm</span> <span class="o">*</span> <span class="n">qm</span>
    <span class="n">S</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">d1</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">d1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">d1</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">d1</span><span class="p">)</span> <span class="o">+</span> <span class="n">S</span> <span class="o">*</span> <span class="n">S</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">S</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">S</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">S</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">d1</span><span class="p">)</span> <span class="o">+</span> <span class="n">S</span> <span class="o">*</span> <span class="n">S</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">S</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">S</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">S</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">d1</span><span class="p">)</span> <span class="o">+</span> <span class="n">S</span> <span class="o">*</span> <span class="n">S</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">C</span> <span class="o">/</span> <span class="n">d</span>
    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="MRP2EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2EP</span><span class="p">(</span><span class="n">q1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2EP(Q1)</span>

<span class="sd">    	Q = MRP2EP(Q1) translates the MRP vector Q1</span>
<span class="sd">    	into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
    <span class="n">ps</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">qm</span> <span class="o">*</span> <span class="n">qm</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">qm</span> <span class="o">*</span> <span class="n">qm</span><span class="p">)</span> <span class="o">/</span> <span class="n">ps</span><span class="p">,</span>
        <span class="mi">2</span> <span class="o">*</span> <span class="n">q1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">ps</span><span class="p">,</span>
        <span class="mi">2</span> <span class="o">*</span> <span class="n">q1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">ps</span><span class="p">,</span>
        <span class="mi">2</span> <span class="o">*</span> <span class="n">q1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">ps</span>
    <span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="MRP2Euler121">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler121">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler121</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler121(Q)</span>

<span class="sd">    	E = MRP2Euler121(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (1-2-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler121</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler123">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler123">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler123</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler123(Q)</span>

<span class="sd">    	E = MRP2Euler123(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (1-2-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler123</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler131">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler131">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler131</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler131(Q)</span>

<span class="sd">    	E = MRP2Euler131(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (1-3-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler131</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler132">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler132">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler132</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler132(Q)</span>

<span class="sd">    	E = MRP2Euler132(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (1-3-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler132</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler212">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler212">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler212</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler212(Q)</span>

<span class="sd">    	E = MRP2Euler212(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (2-1-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler212</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler213">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler213">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler213</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler213(Q)</span>

<span class="sd">    	E = MRP2Euler213(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (2-1-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler213</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler231">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler231">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler231</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler231(Q)</span>

<span class="sd">    	E = MRP2Euler231(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (2-3-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler231</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler232">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler232">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler232</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler232(Q)</span>

<span class="sd">       E = MRP2Euler232(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (2-3-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler232</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler312">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler312">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler312</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler312(Q)</span>

<span class="sd">    	E = MRP2Euler312(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (3-1-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler312</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler313">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler313">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler313</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler313(Q)</span>

<span class="sd">    	E = MRP2Euler313(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (3-1-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler313</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler321">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler321">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler321</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler321(Q)</span>

<span class="sd">    	E = MRP2Euler321(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (3-2-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler321</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Euler323">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Euler323">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Euler323</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Euler323(Q)</span>

<span class="sd">    	E = MRP2Euler323(Q) translates the MRP</span>
<span class="sd">    	 vector Q into the (3-2-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler323</span><span class="p">(</span><span class="n">MRP2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2Gibbs</span><span class="p">(</span><span class="n">q1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2Gibbs(Q1)</span>

<span class="sd">    	Q = MRP2Gibbs(Q1) translates the MRP vector Q1</span>
<span class="sd">    	into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q1</span><span class="p">))</span></div>



<div class="viewcode-block" id="MRP2PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRP2PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRP2PRV</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRP2PRV(Q1)</span>

<span class="sd">    	Q = MRP2PRV(Q1) translates the MRP vector Q1</span>
<span class="sd">    	into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">tp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="n">p</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">atan</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">tp</span> <span class="o">*</span> <span class="n">p</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">tp</span> <span class="o">*</span> <span class="n">p</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">tp</span> <span class="o">*</span> <span class="n">p</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="MRPswitch">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.MRPswitch">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">MRPswitch</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">s2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MRPswitch</span>

<span class="sd">    	S = MRPswitch(Q,s2) checks to see if norm(Q) is larger than s2.</span>
<span class="sd">    	If yes, then the MRP vector Q is mapped to its shadow set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">q2</span> <span class="o">&gt;</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s2</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span> <span class="o">/</span> <span class="n">q2</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">q</span>

    <span class="k">return</span> <span class="n">s</span></div>



<div class="viewcode-block" id="PRV2C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a principal rotation vector to a direction cosine matrix.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    q : array_like, shape (3,)</span>
<span class="sd">        Principal rotation vector. The magnitude equals the rotation angle (rad)</span>
<span class="sd">        and the direction is the rotation axis.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    C : ndarray, shape (3, 3)</span>
<span class="sd">        Direction cosine (rotation) matrix.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">):</span>
        <span class="c1"># No rotation -&gt; identity matrix</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

    <span class="c1"># Normalize principal axis</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">q</span> <span class="o">/</span> <span class="n">angle</span>
    <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span> <span class="o">=</span> <span class="n">e</span>

    <span class="n">cp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="n">d1</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">cp</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="p">[</span><span class="n">q1</span><span class="o">*</span><span class="n">q1</span><span class="o">*</span><span class="n">d1</span> <span class="o">+</span> <span class="n">cp</span><span class="p">,</span>     <span class="n">q1</span><span class="o">*</span><span class="n">q2</span><span class="o">*</span><span class="n">d1</span> <span class="o">+</span> <span class="n">q3</span><span class="o">*</span><span class="n">sp</span><span class="p">,</span> <span class="n">q1</span><span class="o">*</span><span class="n">q3</span><span class="o">*</span><span class="n">d1</span> <span class="o">-</span> <span class="n">q2</span><span class="o">*</span><span class="n">sp</span><span class="p">],</span>
        <span class="p">[</span><span class="n">q2</span><span class="o">*</span><span class="n">q1</span><span class="o">*</span><span class="n">d1</span> <span class="o">-</span> <span class="n">q3</span><span class="o">*</span><span class="n">sp</span><span class="p">,</span> <span class="n">q2</span><span class="o">*</span><span class="n">q2</span><span class="o">*</span><span class="n">d1</span> <span class="o">+</span> <span class="n">cp</span><span class="p">,</span>     <span class="n">q2</span><span class="o">*</span><span class="n">q3</span><span class="o">*</span><span class="n">d1</span> <span class="o">+</span> <span class="n">q1</span><span class="o">*</span><span class="n">sp</span><span class="p">],</span>
        <span class="p">[</span><span class="n">q3</span><span class="o">*</span><span class="n">q1</span><span class="o">*</span><span class="n">d1</span> <span class="o">+</span> <span class="n">q2</span><span class="o">*</span><span class="n">sp</span><span class="p">,</span> <span class="n">q3</span><span class="o">*</span><span class="n">q2</span><span class="o">*</span><span class="n">d1</span> <span class="o">-</span> <span class="n">q1</span><span class="o">*</span><span class="n">sp</span><span class="p">,</span> <span class="n">q3</span><span class="o">*</span><span class="n">q3</span><span class="o">*</span><span class="n">d1</span> <span class="o">+</span> <span class="n">cp</span>    <span class="p">]</span>
    <span class="p">])</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="PRV2EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2EP</span><span class="p">(</span><span class="n">qq1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;&quot;</span>
<span class="sd">    PRV2EP(Q1)</span>

<span class="sd">    	Q = PRV2EP(Q1) translates the principal rotation vector Q1</span>
<span class="sd">    	into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">PRV2elem</span><span class="p">(</span><span class="n">qq1</span><span class="p">)</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">sp</span>
    <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">sp</span>
    <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">q1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">sp</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="PRV2Euler121">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler121">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler121</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler121(Q)</span>

<span class="sd">    	E = PRV2Euler121(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (1-2-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler121</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler123">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler123">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler123</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler123(Q)</span>

<span class="sd">    	E = PRV2Euler123(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (1-2-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler123</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler131">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler131">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler131</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler131(Q)</span>

<span class="sd">    	E = PRV2Euler131(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (1-3-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler131</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler132">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler132">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler132</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler132(Q)</span>

<span class="sd">    	E = PRV2Euler132(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (1-3-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler132</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler212">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler212">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler212</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler212(Q)</span>

<span class="sd">    	E = PRV2Euler212(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (2-1-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler212</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler213">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler213">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler213</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler213(Q)</span>

<span class="sd">    	E = PRV2Euler213(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (2-1-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler213</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler231">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler231">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler231</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler231(Q)</span>

<span class="sd">    	E = PRV2Euler231(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (2-3-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler231</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler232">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler232">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler232</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler232(Q)</span>

<span class="sd">    	E = PRV2Euler232(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (2-3-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler232</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler312">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler312">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler312</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler312(Q)</span>

<span class="sd">    	E = PRV2Euler312(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (3-1-2) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler312</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler313">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler313">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler313</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler313(Q)</span>

<span class="sd">    	E = PRV2Euler313(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (3-1-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler313</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler321">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler321">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler321</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler321(Q)</span>

<span class="sd">    	E = PRV2Euler321(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (3-2-1) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler321</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Euler323">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Euler323">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Euler323</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Euler323(Q)</span>

<span class="sd">    	E = PRV2Euler323(Q) translates the principal rotation</span>
<span class="sd">    	vector Q into the (3-2-3) euler angle vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Euler323</span><span class="p">(</span><span class="n">PRV2EP</span><span class="p">(</span><span class="n">q</span><span class="p">))</span></div>



<div class="viewcode-block" id="PRV2Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2Gibbs</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PRV2Gibbs(Q1)</span>

<span class="sd">    	Q = PRV2Gibbs(Q1) translates the principal rotation vector Q1</span>
<span class="sd">    	into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q</span> <span class="o">=</span> <span class="n">PRV2elem</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="n">tp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">tp</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">tp</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">tp</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="PRV2MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.PRV2MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">PRV2MRP</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     PRV2MRP(Q1)</span>

<span class="sd">    	Q = PRV2MRP(Q1) translates the principal rotation vector Q1</span>
<span class="sd">    	into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q</span> <span class="o">=</span> <span class="n">PRV2elem</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="n">tp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">tp</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">tp</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">tp</span>

    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="subEP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEP</span><span class="p">(</span><span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEP(B1,B2)</span>

<span class="sd">    	Q = subEP(B1,B2) provides the euler parameter vector</span>
<span class="sd">    	which corresponds to relative rotation from B2</span>
<span class="sd">    	to B1.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">b2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">b2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">b2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">b2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">b2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">b2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">b1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="subEuler121">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler121">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler121</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler121(E,E1)</span>

<span class="sd">    	E2 = subEuler121(E,E1) computes the relative</span>
<span class="sd">    	(1-2-1) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">e2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp</span> <span class="o">+</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">*</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span><span class="p">))</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler123">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler123">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler123</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler123(E,E1)</span>

<span class="sd">    	E2 = subEuler123(E,E1) computes the relative</span>
<span class="sd">    	(1-2-3) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">euler1232C</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler1232C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">C1</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">C2Euler123</span><span class="p">(</span><span class="n">C2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler131">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler131">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler131</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler131(E,E1)</span>

<span class="sd">    	E2 = subEuler131(E,E1) computes the relative</span>
<span class="sd">    	(1-3-1) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">e2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp</span> <span class="o">+</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">*</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span><span class="p">))</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler132">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler132">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler132</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler132(E,E1)</span>

<span class="sd">    	E2 = subEuler132(E,E1) computes the relative</span>
<span class="sd">    	(1-3-2) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">euler1322C</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler1322C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">C1</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">C2Euler132</span><span class="p">(</span><span class="n">C2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler212">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler212">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler212</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler212(E,E1)</span>

<span class="sd">    	E2 = subEuler212(E,E1) computes the relative</span>
<span class="sd">    	(2-1-2) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">e2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp</span> <span class="o">+</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">*</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span><span class="p">))</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler213">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler213">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler213</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler213(E,E1)</span>

<span class="sd">    	E2 = subEuler213(E,E1) computes the relative</span>
<span class="sd">    	(2-1-3) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">euler2132C</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler2132C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">C1</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">C2Euler213</span><span class="p">(</span><span class="n">C2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler231">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler231">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler231</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler231(E,E1)</span>

<span class="sd">    	E2 = subEuler231(E,E1) computes the relative</span>
<span class="sd">    	(2-3-1) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">euler2312C</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler2312C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">C1</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">C2Euler231</span><span class="p">(</span><span class="n">C2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler232">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler232">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler232</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler232(E,E1)</span>

<span class="sd">    	E2 = subEuler232(E,E1) computes the relative</span>
<span class="sd">    	(2-3-2) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">e2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp</span> <span class="o">+</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">*</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span><span class="p">))</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler312">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler312">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler312</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler312(E,E1)</span>

<span class="sd">    	E2 = subEuler312(E,E1) computes the relative</span>
<span class="sd">    	(3-1-2) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">euler3122C</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler3122C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">C1</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">C2Euler312</span><span class="p">(</span><span class="n">C2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler313">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler313">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler313</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler313(E,E1)</span>

<span class="sd">    	E2 = subEuler313(E,E1) computes the relative</span>
<span class="sd">    	(3-1-3) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">e2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp</span> <span class="o">+</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">*</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span><span class="p">))</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler321">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler321">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler321</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler321(E,E1)</span>

<span class="sd">    	E2 = subEuler321(E,E1) computes the relative</span>
<span class="sd">    	(3-2-1) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">euler3212C</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">C1</span> <span class="o">=</span> <span class="n">euler3212C</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
    <span class="n">C2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">C1</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">C2Euler321</span><span class="p">(</span><span class="n">C2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subEuler323">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subEuler323">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subEuler323</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subEuler323(E,E1)</span>

<span class="sd">    	E2 = subEuler323(E,E1) computes the relative</span>
<span class="sd">    	(3-2-3) euler angle vector from E1 to E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">dum</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">e1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">e2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp</span> <span class="o">+</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">dum</span><span class="p">))</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp2</span> <span class="o">*</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span><span class="p">))</span>
    <span class="n">e2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">Picheck</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">sp1</span> <span class="o">*</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dum</span><span class="p">),</span> <span class="n">cp1</span> <span class="o">-</span> <span class="n">cp</span> <span class="o">*</span> <span class="n">cp2</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">e2</span></div>



<div class="viewcode-block" id="subGibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subGibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subGibbs</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subGibbs(Q1,Q2)</span>

<span class="sd">    	Q = subGibbs(Q1,Q2) provides the gibbs vector</span>
<span class="sd">    	which corresponds to relative rotation from Q2</span>
<span class="sd">    	to Q1.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">))</span></div>



<div class="viewcode-block" id="subMRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subMRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subMRP</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subMRP(Q1,Q2)</span>

<span class="sd">    	Q = subMRP(Q1,Q2) provides the MRP vector</span>
<span class="sd">    	which corresponds to relative rotation from Q2</span>
<span class="sd">    	to Q1.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">den</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q2</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">den</span> <span class="o">&lt;</span> <span class="mf">1e-5</span><span class="p">:</span>
        <span class="n">q2</span> <span class="o">=</span> <span class="o">-</span><span class="n">q2</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q2</span><span class="p">,</span><span class="n">q2</span><span class="p">)</span>
        <span class="n">den</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q2</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span>
    <span class="n">num</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q2</span><span class="p">,</span> <span class="n">q2</span><span class="p">))</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q1</span><span class="p">))</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span>

    <span class="n">q</span> <span class="o">=</span> <span class="n">num</span> <span class="o">/</span> <span class="n">den</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q</span><span class="p">,</span><span class="n">q</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">q</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="subPRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.subPRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">subPRV</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    subPRV(Q1,Q2)</span>

<span class="sd">    	Q = subPRV(Q1,Q2) provides the prinipal rotation vector</span>
<span class="sd">    	which corresponds to relative principal rotation from Q2</span>
<span class="sd">    	to Q1.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">PRV2elem</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">PRV2elem</span><span class="p">(</span><span class="n">q2</span><span class="p">)</span>
    <span class="n">cp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">cp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">sp1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">sp2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">e1</span> <span class="o">=</span> <span class="n">q1</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">q2</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>

    <span class="n">p</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">cp2</span> <span class="o">+</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">))</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">e</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">cp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">e2</span> <span class="o">+</span> <span class="n">cp2</span> <span class="o">*</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">e1</span> <span class="o">+</span> <span class="n">sp1</span> <span class="o">*</span> <span class="n">sp2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">))</span> <span class="o">/</span> <span class="n">sp</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">p</span> <span class="o">*</span> <span class="n">e</span>

    <span class="k">return</span> <span class="n">q</span></div>



<div class="viewcode-block" id="EP2C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	EP2C</span>

<span class="sd">        C = EP2C(Q) returns the direction math.cosine</span>
<span class="sd">        matrix in terms of the 4x1 euler parameter vector</span>
<span class="sd">        Q.  The first element is the non-dimensional euler</span>
<span class="sd">        parameter, while the remain three elements form</span>
<span class="sd">        the eulerparameter vector.</span>
<span class="sd">	&quot;&quot;&quot;</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">+</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q2</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">-</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">+</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q1</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q2</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q1</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">-</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span>
    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="EP2Euler121">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler121">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler121</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	EP2Euler121(Q)</span>

<span class="sd">        E = EP2Euler121(Q) translates the euler parameter</span>
<span class="sd">        vector Q into the corresponding (1-2-1) euler angle</span>
<span class="sd">        vector E.</span>
<span class="sd">	&quot;&quot;&quot;</span>

    <span class="n">t1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">t1</span> <span class="o">+</span> <span class="n">t2</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler123">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler123">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler123</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	EP2Euler123</span>

<span class="sd">        Q = EP2Euler123(Q) translates the euler parameter vector</span>
<span class="sd">        Q into the corresponding (1-2-3) euler angle set.</span>
<span class="sd">	&quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q1</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">-</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q2</span><span class="p">))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q3</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">+</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler131">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler131">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler131</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	EP2Euler131(Q)</span>

<span class="sd">        E = EP2Euler131(Q) translates the euler parameter</span>
<span class="sd">        vector Q into the corresponding (1-3-1) euler angle</span>
<span class="sd">        vector E.</span>
<span class="sd">	&quot;&quot;&quot;</span>

    <span class="n">t1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">+</span> <span class="n">t1</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler132">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler132">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler132</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2Euler132</span>

<span class="sd">    	E = EP2Euler132(Q) translates the euler parameter vector</span>
<span class="sd">    	Q into the corresponding (1-3-2) euler angle set.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q1</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">-</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">+</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q3</span><span class="p">))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q2</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">+</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler212">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler212">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler212</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2Euler212(Q)</span>

<span class="sd">        E = EP2Euler212(Q) translates the euler parameter</span>
<span class="sd">        vector Q into the corresponding (2-1-2) euler angle</span>
<span class="sd">        vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">t1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">+</span> <span class="n">t1</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler213">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler213">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler213</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2Euler213</span>

<span class="sd">    	Q = EP2Euler213(Q) translates the euler parameter vector</span>
<span class="sd">    	Q into the corresponding (2-1-3) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q2</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">-</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q1</span><span class="p">))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q3</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">-</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">+</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler231">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler231">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler231</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2Euler231</span>

<span class="sd">    	E = EP2Euler231(Q) translates the euler parameter vector</span>
<span class="sd">    	Q into the corresponding (2-3-1) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q2</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">+</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q3</span><span class="p">))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q1</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">-</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">+</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler232">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler232">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler232</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2Euler232(Q)</span>

<span class="sd">    	E = EP2Euler232(Q) translates the euler parameter</span>
<span class="sd">    	vector Q into the corresponding (2-3-2) euler angle</span>
<span class="sd">    	vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">t1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">t1</span> <span class="o">+</span> <span class="n">t2</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler312">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler312">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler312</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2Euler312</span>

<span class="sd">    	E = EP2Euler312(Q) translates the euler parameter vector</span>
<span class="sd">    	Q into the corresponding (3-1-2) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q3</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">-</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">+</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q1</span><span class="p">))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q2</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">-</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler313">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler313">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler313</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2Euler313(Q)</span>

<span class="sd">    	E = EP2Euler313(Q) translates the euler parameter</span>
<span class="sd">    	vector Q into the corresponding (3-1-3) euler angle</span>
<span class="sd">    	vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">t1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">t1</span> <span class="o">+</span> <span class="n">t2</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler321">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler321">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler321</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2Euler321</span>

<span class="sd">    	E = EP2Euler321(Q) translates the euler parameter vector</span>
<span class="sd">    	Q into the corresponding (3-2-1) euler angle set.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q3</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">+</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">-</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q1</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q2</span><span class="p">))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">q2</span> <span class="o">*</span> <span class="n">q3</span> <span class="o">+</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q1</span><span class="p">),</span> <span class="n">q0</span> <span class="o">*</span> <span class="n">q0</span> <span class="o">-</span> <span class="n">q1</span> <span class="o">*</span> <span class="n">q1</span> <span class="o">-</span> <span class="n">q2</span> <span class="o">*</span> <span class="n">q2</span> <span class="o">+</span> <span class="n">q3</span> <span class="o">*</span> <span class="n">q3</span><span class="p">)</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Euler323">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Euler323">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Euler323</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2Euler323(Q)</span>

<span class="sd">    	E = EP2Euler323(Q) translates the euler parameter</span>
<span class="sd">    	vector Q into the corresponding (3-2-3) euler angle</span>
<span class="sd">    	vector E.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">t1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">+</span> <span class="n">t1</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">e</span></div>



<div class="viewcode-block" id="EP2Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2Gibbs</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2Gibbs(Q1)</span>

<span class="sd">    	Q = EP2Gibbs(Q1) translates the euler parameter vector Q1</span>
<span class="sd">    	into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="EP2MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2MRP</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2MRP(Q1)</span>
<span class="sd">        Q = EP2MRP(Q1) translates the euler parameter vector Q1</span>
<span class="sd">        into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">q</span> <span class="o">=</span> <span class="o">-</span><span class="n">q</span>

    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="EP2PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.EP2PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">EP2PRV</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EP2PRV(Q1)</span>

<span class="sd">    	Q = EP2PRV(Q1) translates the euler parameter vector Q1</span>
<span class="sd">    	into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">p</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">p</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">p</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">/</span> <span class="n">sp</span> <span class="o">*</span> <span class="n">p</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler1">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	EULER1 	Elementary rotation matrix</span>
<span class="sd">	Returns the elementary rotation matrix about the first body axis.</span>
<span class="sd">	&quot;&quot;&quot;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">m</span></div>



<div class="viewcode-block" id="euler2">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	EULER2 	Elementary rotation matrix</span>
<span class="sd">	Returns the elementary rotation matrix about the</span>
<span class="sd">	second body axis.</span>
<span class="sd">	&quot;&quot;&quot;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">m</span></div>



<div class="viewcode-block" id="euler3">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	EULER3 	Elementary rotation matrix</span>
<span class="sd">	Returns the elementary rotation matrix about the</span>
<span class="sd">	third body axis.</span>
<span class="sd">	&quot;&quot;&quot;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">m</span></div>



<div class="viewcode-block" id="euler1212C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1212C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1212C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Euler1212C</span>

<span class="sd">        C = euler1212C(Q) returns the direction cosine</span>
<span class="sd">        matrix in terms of the 1-2-1 euler angles.</span>
<span class="sd">        Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">	&quot;&quot;&quot;</span>
    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct1</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">-</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler1212EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1212EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1212EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Euler1212EP(E)</span>

<span class="sd">        Q = euler1212EP(E) translates the 121 euler angle</span>
<span class="sd">        vector E into the euler parameter vector Q.</span>
<span class="sd">	&quot;&quot;&quot;</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span> <span class="o">-</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span> <span class="o">-</span> <span class="n">e3</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler1212Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1212Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1212Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Euler1212Gibbs(E)</span>

<span class="sd">        Q = euler1212Gibbs(E) translates the (1-2-1) euler</span>
<span class="sd">        angle vector E into the gibbs vector Q.</span>
<span class="sd">	&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler1212EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1212MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1212MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1212MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1212MRP(E)</span>

<span class="sd">    	Q = euler1212MRP(E) translates the (1-2-1) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler1212EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1212PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1212PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1212PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1212PRV(E)</span>

<span class="sd">    	Q = euler1212PRV(E) translates the (1-2-1) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler1212EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1232C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1232C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1232C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1232C</span>

<span class="sd">    	C = euler1232C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 1-2-3 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span> <span class="o">-</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler1232EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1232EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1232EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1232EP(E)</span>

<span class="sd">    	Q = euler1232EP(E) translates the 123 euler angle</span>
<span class="sd">    	vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">c1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">-</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">+</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">-</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span> <span class="o">+</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler1232Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1232Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1232Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1232Gibbs(E)</span>

<span class="sd">    	Q = euler1232Gibbs(E) translates the (1-2-3) euler</span>
<span class="sd">    	angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler1232EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1232MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1232MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1232MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1232MRP(E)</span>

<span class="sd">    	Q = euler1232MRP(E) translates the (1-2-3) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler1232EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1232PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1232PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1232PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1232PRV(E)</span>

<span class="sd">    	Q = euler1232PRV(E) translates the (1-2-3) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler1232EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1312C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1312C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1312C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1312C</span>

<span class="sd">    	C = euler1312C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 1-3-1 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">-</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler1312EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1312EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1312EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1312EP(E)</span>

<span class="sd">    	Q = euler1312EP(E) translates the 131 euler angle</span>
<span class="sd">    	vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler1312Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1312Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1312Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1312Gibbs(E)</span>

<span class="sd">    	Q = euler1312Gibbs(E) translates the (1-3-1) euler</span>
<span class="sd">    	angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler1312EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1312MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1312MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1312MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1312MRP(E)</span>

<span class="sd">    	Q = euler1312MRP(E) translates the (1-3-1) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler1312EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1312PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1312PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1312PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1312PRV(E)</span>

<span class="sd">    	Q = euler1312PRV(E) translates the (1-3-1) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler1312EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1322C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1322C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1322C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1322C</span>

<span class="sd">    	C = euler1322C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 1-3-2 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">+</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">-</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">+</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler1322EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1322EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1322EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1322EP(E)</span>

<span class="sd">    	Q = euler1322EP(E) translates the 132 euler angle</span>
<span class="sd">    	vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">c1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">+</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">-</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span> <span class="o">-</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">+</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler1322Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1322Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1322Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1322Gibbs(E)</span>

<span class="sd">    	Q = euler1322Gibbs(E) translates the (1-3-2) euler</span>
<span class="sd">    	angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler1322EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1322MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1322MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1322MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1322MRP(E)</span>

<span class="sd">    	Q = euler1322MRP(E) translates the (1-3-2) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler1322EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler1322PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler1322PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler1322PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler1322PRV(E)</span>

<span class="sd">    	Q = euler1322PRV(E) translates the (1-3-2) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler1322EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2122C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2122C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2122C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2122C</span>

<span class="sd">    	C = euler2122C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 2-1-2 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">-</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler2132C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2132C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2132C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2132C</span>

<span class="sd">    	C = euler2132C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 2-1-3 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">+</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">-</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">+</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler2312C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2312C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2312C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2312C</span>

<span class="sd">    	C = euler2312C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 2-3-1 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">+</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler2322C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2322C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2322C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2322C</span>

<span class="sd">    	C = euler2322C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 2-3-2 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">-</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct1</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler3122C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3122C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3122C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3122C</span>

<span class="sd">    	C = euler3122C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 1-2-3 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span> <span class="o">-</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler3132C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3132C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3132C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3132C</span>

<span class="sd">    	C = euler3132C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 3-1-3 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">ct1</span> <span class="o">-</span> <span class="n">st3</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">st3</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">st3</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">st3</span> <span class="o">*</span> <span class="n">ct1</span> <span class="o">-</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">st3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">st2</span> <span class="o">*</span> <span class="n">ct1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler3212C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3212C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3212C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3212C</span>
<span class="sd">    	C = euler3212C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 3-2-1 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">st3</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">ct1</span> <span class="o">-</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">st3</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">ct1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">st3</span> <span class="o">*</span> <span class="n">ct2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">ct1</span> <span class="o">+</span> <span class="n">st3</span> <span class="o">*</span> <span class="n">st1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">-</span> <span class="n">st3</span> <span class="o">*</span> <span class="n">ct1</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">ct2</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler3232C">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3232C">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3232C</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3232C</span>

<span class="sd">    	C = euler3232C(Q) returns the direction cosine</span>
<span class="sd">    	matrix in terms of the 3-2-3 euler angles.</span>
<span class="sd">    	Input Q must be a 3x1 vector of euler angles.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">st1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">ct1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">st2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">ct2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">st3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">ct3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">+</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct3</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">ct3</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">-</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">ct3</span> <span class="o">-</span> <span class="n">ct2</span> <span class="o">*</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">st2</span> <span class="o">*</span> <span class="n">st3</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct1</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">st1</span> <span class="o">*</span> <span class="n">st2</span>
    <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">ct2</span>

    <span class="k">return</span> <span class="n">C</span></div>



<div class="viewcode-block" id="euler2122EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2122EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2122EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2122EP(E)</span>

<span class="sd">    	Q = euler2122EP(E) translates the 212 euler angle</span>
<span class="sd">    	vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler2132EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2132EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2132EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2132EP(E)</span>

<span class="sd">    	Q = euler2132EP(E) translates the 213 euler angle</span>
<span class="sd">    	vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">c1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">+</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">+</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">-</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span> <span class="o">-</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler2312EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2312EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2312EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2312EP(E)</span>

<span class="sd">    	Q = euler2312EP(E) translates the 231 euler angle</span>
<span class="sd">    	vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">c1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">-</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span> <span class="o">+</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">+</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">-</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler2322EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2322EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2322EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2322EP(E)</span>

<span class="sd">    	Q = euler2322EP(E) translates the 232 euler angle</span>
<span class="sd">    	vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span> <span class="o">-</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span> <span class="o">-</span> <span class="n">e3</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler3122EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3122EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3122EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3122EP(E)</span>

<span class="sd">    	Q = euler3122EP(E) translates the 312 euler angle</span>
<span class="sd">    	vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">c1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">-</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">-</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span> <span class="o">+</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">+</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler3132EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3132EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3132EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3132EP(E)</span>

<span class="sd">    	Q = euler3132EP(E) translates the 313 euler angle</span>
<span class="sd">    	vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span> <span class="o">-</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span> <span class="o">-</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler3212EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3212EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3212EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3212EP(E)</span>
<span class="sd">        Q = euler3212EP(E) translates the 321 euler angle</span>
<span class="sd">        vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">c1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">+</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span> <span class="o">-</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">+</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">s3</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">*</span> <span class="n">c2</span> <span class="o">*</span> <span class="n">c3</span> <span class="o">-</span> <span class="n">c1</span> <span class="o">*</span> <span class="n">s2</span> <span class="o">*</span> <span class="n">s3</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler3232EP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3232EP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3232EP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3232EP(E)</span>
<span class="sd">        Q = euler3232EP(E) translates the 323 euler angle</span>
<span class="sd">        vector E into the euler parameter vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">e3</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="n">q0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="o">-</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">e1</span> <span class="o">+</span> <span class="n">e3</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">q0</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span></div>



<div class="viewcode-block" id="euler2122Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2122Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2122Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2122Gibbs(E)</span>

<span class="sd">    	Q = euler2122Gibbs(E) translates the (2-1-2) euler</span>
<span class="sd">    	angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler2122EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2122MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2122MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2122MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2122MRP(E)</span>

<span class="sd">    	Q = euler2122MRP(E) translates the (2-1-2) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler2122EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2122PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2122PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2122PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2122PRV(E)</span>

<span class="sd">    	Q = euler2122PRV(E) translates the (2-1-2) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler2122EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2132Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2132Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2132Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2132Gibbs(E)</span>

<span class="sd">    	Q = euler2132Gibbs(E) translates the (2-1-3) euler</span>
<span class="sd">    	angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler2132EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2132MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2132MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2132MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2132MRP(E)</span>

<span class="sd">    	Q = euler2132MRP(E) translates the (2-1-3) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler2132EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2132PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2132PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2132PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2132PRV(E)</span>

<span class="sd">    	Q = euler2132PRV(E) translates the (2-1-3) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler2132EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2312Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2312Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2312Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2312Gibbs(E)</span>

<span class="sd">    	Q = euler2312Gibbs(E) translates the (2-3-1) euler</span>
<span class="sd">    	angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler2312EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2312MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2312MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2312MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2312MRP(E)</span>

<span class="sd">    	Q = euler2312MRP(E) translates the (2-3-1) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler2312EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2312PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2312PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2312PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2312PRV(E)</span>

<span class="sd">    	Q = euler2312PRV(E) translates the (2-3-1) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler2312EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2322Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2322Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2322Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2322Gibbs(E)</span>

<span class="sd">    	Q = euler2322Gibbs(E) translates the (2-3-2) euler</span>
<span class="sd">    	angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler2322EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2322MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2322MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2322MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2322MRP(E)</span>

<span class="sd">    	Q = euler2322MRP(E) translates the (2-3-2) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler2322EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler2322PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler2322PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler2322PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler2322PRV(E)</span>

<span class="sd">    	Q = euler2322PRV(E) translates the (2-3-2) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler2322EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3122Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3122Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3122Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3122Gibbs(E)</span>

<span class="sd">    	Q = euler3122Gibbs(E) translates the (3-1-2) euler</span>
<span class="sd">    	angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler3122EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3122MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3122MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3122MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3122MRP(E)</span>

<span class="sd">    	Q = euler3122MRP(E) translates the (3-1-2) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler3122EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3122PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3122PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3122PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3122PRV(E)</span>

<span class="sd">    	Q = euler3122PRV(E) translates the (3-1-2) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler3122EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3132Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3132Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3132Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3132Gibbs(E)</span>

<span class="sd">    	Q = euler3132Gibbs(E) translates the (3-1-3) euler</span>
<span class="sd">    	angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler3132EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3132MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3132MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3132MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3132MRP(E)</span>

<span class="sd">    	Q = euler3132MRP(E) translates the (3-1-3) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler3132EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3132PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3132PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3132PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3132PRV(E)</span>

<span class="sd">    	Q = euler3132PRV(E) translates the (3-1-3) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler3132EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3212Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3212Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3212Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3212Gibbs(E)</span>

<span class="sd">    	Q = euler3212Gibbs(E) translates the (3-2-1) euler</span>
<span class="sd">    	angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler3212EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3212MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3212MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3212MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3212MRP(E)</span>
<span class="sd">        Q = euler3212MRP(E) translates the (3-2-1) euler</span>
<span class="sd">        angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler3212EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3212PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3212PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3212PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">     euler3212PRV(E)</span>

<span class="sd">    	Q = euler3212PRV(E) translates the (3-2-1) euler</span>
<span class="sd">    	angle vector E into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler3212EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3232Gibbs">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3232Gibbs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3232Gibbs</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3232Gibbs(E)</span>
<span class="sd">        Q = euler3232Gibbs(E) translates the (3-2-3) euler</span>
<span class="sd">        angle vector E into the gibbs vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2Gibbs</span><span class="p">(</span><span class="n">euler3232EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3232MRP">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3232MRP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3232MRP</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3232MRP(E)</span>

<span class="sd">    	Q = euler3232MRP(E) translates the (3-2-3) euler</span>
<span class="sd">    	angle vector E into the MRP vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2MRP</span><span class="p">(</span><span class="n">euler3232EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<div class="viewcode-block" id="euler3232PRV">
<a class="viewcode-back" href="../Documentation/utilities/RigidBodyKinematics.html#RigidBodyKinematics.euler3232PRV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">euler3232PRV</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    euler3232PRV(E)</span>

<span class="sd">    	Q = euler3232PRV(E) translates the (3-2-3) euler</span>
<span class="sd">    	angle vector Q1 into the principal rotation vector Q.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">EP2PRV</span><span class="p">(</span><span class="n">euler3232EP</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>



<span class="k">def</span><span class="w"> </span><span class="nf">Mi</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">case</span> <span class="o">=</span> <span class="n">i</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">case</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>
    <span class="k">elif</span> <span class="n">case</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>
    <span class="k">elif</span> <span class="n">case</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">s</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mi() error: incorrect axis&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;selected&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">C</span>

<span class="k">def</span><span class="w"> </span><span class="nf">v3Tilde</span><span class="p">(</span><span class="n">vector</span><span class="p">):</span>
    <span class="n">x1</span> <span class="o">=</span> <span class="n">vector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="n">vector</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">x3</span> <span class="o">=</span> <span class="n">vector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="n">xTilde</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">x3</span><span class="p">,</span> <span class="n">x2</span><span class="p">]</span>
        <span class="p">,[</span><span class="n">x3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">x1</span><span class="p">]</span>
        <span class="p">,[</span><span class="o">-</span><span class="n">x2</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
              <span class="p">]</span>

    <span class="k">return</span> <span class="n">xTilde</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>