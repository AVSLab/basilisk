

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>scenarioCSS &mdash; Basilisk 2.10.0-beta
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=b0911c87"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=3cd7d658"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../index.html" class="icon icon-home">
            Basilisk
              <img src="../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Build.html">Building from Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Learn.html">Learning Basilisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module code</a></li>
      <li class="breadcrumb-item active">scenarioCSS</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for scenarioCSS</h1><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1">#  ISC License</span>
<span class="c1">#</span>
<span class="c1">#  Copyright (c) 2016, Autonomous Vehicle Systems Lab, University of Colorado at Boulder</span>
<span class="c1">#</span>
<span class="c1">#  Permission to use, copy, modify, and/or distribute this software for any</span>
<span class="c1">#  purpose with or without fee is hereby granted, provided that the above</span>
<span class="c1">#  copyright notice and this permission notice appear in all copies.</span>
<span class="c1">#</span>
<span class="c1">#  THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES</span>
<span class="c1">#  WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</span>
<span class="c1">#  MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR</span>
<span class="c1">#  ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</span>
<span class="c1">#  WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</span>
<span class="c1">#  ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</span>
<span class="c1">#  OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span>
<span class="c1">#</span>

<span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Overview</span>
<span class="sd">--------</span>

<span class="sd">This script sets up a 6-DOF spacecraft in deep space without any gravitational bodies.</span>
<span class="sd">Only rotational  motion is simulated.  The script illustrates how to setup CSS</span>
<span class="sd">sensor units and log their data.  It is possible  to setup individual CSS sensors,</span>
<span class="sd">or setup a constellation or array of CSS sensors.</span>

<span class="sd">The script is found in the folder ``basilisk/examples`` and executed by using::</span>

<span class="sd">    python3 scenarioCSS.py</span>

<span class="sd">When the simulation completes a plot is shown for the CSS sensor signal history.</span>

<span class="sd">The simulation layout options (A) and (B) are shown in the following illustration.  A single simulation process is created which contains both the spacecraft simulation module, as well as two individual CSS sensor units.  In scenario (A) the CSS units are individually executed by the simulation, while scenario (B) uses a CSS constellation class that executes a list of CSS evaluations at the same time.</span>

<span class="sd">.. image:: /_images/static/test_scenarioCSS.svg</span>
<span class="sd">   :align: center</span>

<span class="sd">The dynamics simulation is setup using a :ref:`Spacecraft` module where a specific</span>
<span class="sd">spacecraft location is specified.  Note that both the rotational and translational</span>
<span class="sd">degrees of freedom of the spacecraft hub are turned on here to get a 6-DOF simulation.</span>
<span class="sd">The position  vector is required when computing the relative heading between the sun</span>
<span class="sd">and the spacecraft locations.  The  spacecraft position is held fixed, while the</span>
<span class="sd">orientation rotates constantly about the 3rd body axis.</span>

<span class="sd">The Field-Of-View variable fov must be specified.  This is the angle between the</span>
<span class="sd">sensor bore-sight and the edge of the field of view.  Beyond this angle all sensor</span>
<span class="sd">signals are set to zero. The scaleFactor variable scales a normalized CSS response</span>
<span class="sd">to this value if facing the sun head on.  The input message name InputSunMsg specifies</span>
<span class="sd">an input message that contains the sun&#39;s position. If sensor corruptions are to be</span>
<span class="sd">modeled, this can be set through the variables::</span>

<span class="sd">   CSS1.KellyFactor</span>
<span class="sd">   CSS1.SenBias</span>
<span class="sd">   CSS1.SenNoiseStd</span>

<span class="sd">The Kelly factor has values between 0 (off) and 1 and distorts the nominal cosine</span>
<span class="sd">response.  The SenBias  variable determines a normalized bias to be applied to the</span>
<span class="sd">CSS model, and SenNoiseStd provides Gaussian noise.</span>

<span class="sd">To create additional CSS sensor units, copies of the first CSS unit can be made.</span>
<span class="sd">This means only the parameters different in the additional units must be set.</span>

<span class="sd">A key parameter that remains is the CSS sensor unit normal vector.  There are</span>
<span class="sd">several options to set this vector (in body frame components).  The first</span>
<span class="sd">method is to set :math:`\hat{\mathbf n}` or ``nHat_B`` directly.  This is</span>
<span class="sd">done with::</span>

<span class="sd">   CSS1.nHat_B = np.array([1.0, 0.0, 0.0])</span>
<span class="sd">   CSS2.nHat_B = np.array([0.0, -1.0, 0.0])</span>

<span class="sd">Another option is to use a frame associated relative to a common CSS platform</span>
<span class="sd">:math:`\cal P`.  The bundled CSS units are often symmetrically arranged on a</span>
<span class="sd">platform such as in a pyramid configuration.  The the platform frame is  specified through::</span>

<span class="sd">   CSS1.setBodyToPlatformDCM(90.*macros.D2R, 0., 0.)</span>

<span class="sd">where the three orientation angles are 3-2-1 Euler angles.  These platform angles</span>
<span class="sd">are initialized to zero.  Next, the CSS unit direction vectors can be specified</span>
<span class="sd">through the azimuth and elevation angles (:math:`\phi`, :math:`\theta`).  These are (3)-(-2) Euler angles. ::</span>

<span class="sd">   CSS1.phi = 90.*macros.D2R</span>
<span class="sd">   CSS1.theta = 0.*macros.D2R</span>

<span class="sd">If no platform orientation is specified, then naturally these azimuth and elevation angles are</span>
<span class="sd">measured relative to the body frame :math:`\cal B`.</span>

<span class="sd">An optional input message is the solar eclipse message ``sunEclipseInMsg``.</span>
<span class="sd">If this message input name is specified for a CSS unit, then the eclipse</span>
<span class="sd">information is taken into account.  If this message name is not set, then</span>
<span class="sd">the CSS defaults to the spacecraft always being in the sun.</span>

<span class="sd">Illustration of Simulation Results</span>
<span class="sd">----------------------------------</span>

<span class="sd">The following images illustrate the expected simulation run returns for a range of script configurations.</span>

<span class="sd">::</span>

<span class="sd">    show_plots = True, useCSSConstellation=False, usePlatform=False, useEclipse=False, useKelly=False</span>

<span class="sd">This scenario simulates the CSS units being setup individually without any corruption.</span>
<span class="sd">The sensor unit normal axes are directly set, and no eclipse is modeled.</span>
<span class="sd">The signals of the two CSS units range from a maximum of 2 if the CSS axis is pointing</span>
<span class="sd">at the sun to zero.  The limited field of view of 80 degrees causes the sensor signal</span>
<span class="sd">to be clipped when the sun light incidence angle gets too small.</span>

<span class="sd">.. image:: /_images/Scenarios/scenarioCSS0000.svg</span>
<span class="sd">   :align: center</span>

<span class="sd">::</span>

<span class="sd">   show_plots = True, useCSSConstellation=False, usePlatform=True, useEclipse=False, useKelly=False</span>

<span class="sd">The resulting CSS sensor signals should be identical to the first scenario as the</span>
<span class="sd">chosen platform orientation and CSS azimuth and elevation angles are chosen to</span>
<span class="sd">yield the same senor normal unit axes.</span>

<span class="sd">.. image:: /_images/Scenarios/scenarioCSS0100.svg</span>
<span class="sd">   :align: center</span>

<span class="sd">::</span>

<span class="sd">   show_plots = True, useCSSConstellation=False, usePlatform=False, useEclipse=True, useKelly=False</span>

<span class="sd">The resulting CSS signals are scaled by a factor of 0.5 and are shown below.</span>

<span class="sd">.. image:: /_images/Scenarios/scenarioCSS0010.svg</span>
<span class="sd">  :align: center</span>

<span class="sd">::</span>

<span class="sd">    show_plots = True, useCSSConstellation=False, usePlatform=False, useEclipse=False, useKelly=True</span>

<span class="sd">This causes the CSS signals to become slightly warped, and depart from the nominal</span>
<span class="sd">cosine  behavior.</span>

<span class="sd">.. image:: /_images/Scenarios/scenarioCSS0001.svg</span>
<span class="sd">   :align: center</span>

<span class="sd">::</span>

<span class="sd">    show_plots = True, useCSSConstellation=True, usePlatform=False, useEclipse=False, useKelly=False</span>

<span class="sd">The resulting simulation results are shown below to be identical to the first setup as expected.</span>

<span class="sd">.. image:: /_images/Scenarios/scenarioCSS1000.svg</span>
<span class="sd">   :align: center</span>

<span class="sd">&quot;&quot;&quot;</span>



<span class="c1">#</span>
<span class="c1"># Basilisk Scenario Script and Integrated Test</span>
<span class="c1">#</span>
<span class="c1"># Purpose:  Demonstrates how to setup CSS sensors on a rigid spacecraft</span>
<span class="c1"># Author:   Hanspeter Schaub</span>
<span class="c1"># Creation Date:  July 21, 2017</span>
<span class="c1">#</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="c1"># The path to the location of Basilisk</span>
<span class="c1"># Used to get the location of supporting data.</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk</span><span class="w"> </span><span class="kn">import</span> <span class="n">__path__</span>
<span class="c1"># import message declarations</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.architecture</span><span class="w"> </span><span class="kn">import</span> <span class="n">messaging</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.simulation</span><span class="w"> </span><span class="kn">import</span> <span class="n">coarseSunSensor</span>
<span class="c1"># import simulation related support</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.simulation</span><span class="w"> </span><span class="kn">import</span> <span class="n">spacecraft</span>
<span class="c1"># import general simulation support files</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimulationBaseClass</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">macros</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">orbitalMotion</span> <span class="k">as</span> <span class="n">om</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">unitTestSupport</span>  <span class="c1"># general support file with common unit test functions</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">vizSupport</span>

<span class="n">bskPath</span> <span class="o">=</span> <span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


<div class="viewcode-block" id="run">
<a class="viewcode-back" href="../examples/scenarioCSS.html#scenarioCSS.run">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="n">show_plots</span><span class="p">,</span> <span class="n">useCSSConstellation</span><span class="p">,</span> <span class="n">usePlatform</span><span class="p">,</span> <span class="n">useEclipse</span><span class="p">,</span> <span class="n">useKelly</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    At the end of the python script you can specify the following example parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        show_plots (bool): Determines if the script should display plots</span>
<span class="sd">        useCSSConstellation (bool): Flag indicating if the CSS cluster/configuration class should be used.</span>
<span class="sd">        usePlatform (bool): Flag specifying if the CSS platform orientation should be set.</span>
<span class="sd">        useEclipse (bool): Flag indicating if the eclipse input message is used.</span>
<span class="sd">        useKelly (bool): Flag specifying if the Kelly corruption factor is used.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Create simulation variable names</span>
    <span class="n">simTaskName</span> <span class="o">=</span> <span class="s2">&quot;simTask&quot;</span>
    <span class="n">simProcessName</span> <span class="o">=</span> <span class="s2">&quot;simProcess&quot;</span>

    <span class="c1">#  Create a sim module as an empty container</span>
    <span class="n">scSim</span> <span class="o">=</span> <span class="n">SimulationBaseClass</span><span class="o">.</span><span class="n">SimBaseClass</span><span class="p">()</span>

    <span class="c1"># set the simulation time variable used later on</span>
    <span class="n">simulationTime</span> <span class="o">=</span> <span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">300.</span><span class="p">)</span>

    <span class="c1">#</span>
    <span class="c1">#  create the simulation process</span>
    <span class="c1">#</span>
    <span class="n">dynProcess</span> <span class="o">=</span> <span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewProcess</span><span class="p">(</span><span class="n">simProcessName</span><span class="p">)</span>

    <span class="c1"># create the dynamics task and specify the integration update time</span>
    <span class="n">simulationTimeStep</span> <span class="o">=</span> <span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">1.</span><span class="p">)</span>
    <span class="n">dynProcess</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewTask</span><span class="p">(</span><span class="n">simTaskName</span><span class="p">,</span> <span class="n">simulationTimeStep</span><span class="p">))</span>

    <span class="c1">#</span>
    <span class="c1">#   setup the simulation tasks/objects</span>
    <span class="c1">#</span>

    <span class="c1"># initialize spacecraft object and set properties</span>
    <span class="n">scObject</span> <span class="o">=</span> <span class="n">spacecraft</span><span class="o">.</span><span class="n">Spacecraft</span><span class="p">()</span>
    <span class="n">scObject</span><span class="o">.</span><span class="n">ModelTag</span> <span class="o">=</span> <span class="s2">&quot;spacecraftBody&quot;</span>
    <span class="c1"># define the simulation inertia</span>
    <span class="n">I</span> <span class="o">=</span> <span class="p">[</span><span class="mf">900.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span>
         <span class="mf">0.</span><span class="p">,</span> <span class="mf">800.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span>
         <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">600.</span><span class="p">]</span>
    <span class="n">scObject</span><span class="o">.</span><span class="n">hub</span><span class="o">.</span><span class="n">mHub</span> <span class="o">=</span> <span class="mf">750.0</span>                     <span class="c1"># kg - spacecraft mass</span>
    <span class="n">scObject</span><span class="o">.</span><span class="n">hub</span><span class="o">.</span><span class="n">r_BcB_B</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]]</span>  <span class="c1"># m - position vector of body-fixed point B relative to CM</span>
    <span class="n">scObject</span><span class="o">.</span><span class="n">hub</span><span class="o">.</span><span class="n">IHubPntBc_B</span> <span class="o">=</span> <span class="n">unitTestSupport</span><span class="o">.</span><span class="n">np2EigenMatrix3d</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>

    <span class="c1">#</span>
    <span class="c1"># set initial spacecraft states</span>
    <span class="c1">#</span>
    <span class="n">scObject</span><span class="o">.</span><span class="n">hub</span><span class="o">.</span><span class="n">r_CN_NInit</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]]</span>              <span class="c1"># m   - r_CN_N</span>
    <span class="n">scObject</span><span class="o">.</span><span class="n">hub</span><span class="o">.</span><span class="n">v_CN_NInit</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]]</span>                 <span class="c1"># m/s - v_CN_N</span>
    <span class="n">scObject</span><span class="o">.</span><span class="n">hub</span><span class="o">.</span><span class="n">sigma_BNInit</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]]</span>               <span class="c1"># sigma_BN_B</span>
    <span class="n">scObject</span><span class="o">.</span><span class="n">hub</span><span class="o">.</span><span class="n">omega_BN_BInit</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.</span><span class="o">*</span><span class="n">macros</span><span class="o">.</span><span class="n">D2R</span><span class="p">]]</span>   <span class="c1"># rad/s - omega_BN_B</span>

    <span class="c1"># add spacecraft object to the simulation process</span>
    <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span><span class="p">)</span>

    <span class="c1">#</span>
    <span class="c1"># create simulation messages</span>
    <span class="c1">#</span>
    <span class="n">sunPositionMsgData</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">SpicePlanetStateMsgPayload</span><span class="p">(</span><span class="n">PositionVector</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">om</span><span class="o">.</span><span class="n">AU</span><span class="o">*</span><span class="mf">1000.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
    <span class="n">sunPositionMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">SpicePlanetStateMsg</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">sunPositionMsgData</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">useEclipse</span><span class="p">:</span>
        <span class="n">eclipseMsgData</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">EclipseMsgPayload</span><span class="p">(</span><span class="n">illuminationFactor</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">eclipseMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">EclipseMsg</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">eclipseMsgData</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">setupCSS</span><span class="p">(</span><span class="n">CSS</span><span class="p">):</span>
        <span class="n">CSS</span><span class="o">.</span><span class="n">fov</span> <span class="o">=</span> <span class="mf">80.</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
        <span class="n">CSS</span><span class="o">.</span><span class="n">scaleFactor</span> <span class="o">=</span> <span class="mf">2.0</span>
        <span class="n">CSS</span><span class="o">.</span><span class="n">maxOutput</span> <span class="o">=</span> <span class="mf">2.0</span>
        <span class="n">CSS</span><span class="o">.</span><span class="n">minOutput</span> <span class="o">=</span> <span class="mf">0.5</span>
        <span class="n">CSS</span><span class="o">.</span><span class="n">r_B</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.00131</span><span class="p">,</span> <span class="mf">2.36638</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
        <span class="n">CSS</span><span class="o">.</span><span class="n">sunInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">sunPositionMsg</span><span class="p">)</span>
        <span class="n">CSS</span><span class="o">.</span><span class="n">stateInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">scObject</span><span class="o">.</span><span class="n">scStateOutMsg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">useKelly</span><span class="p">:</span>
            <span class="n">CSS</span><span class="o">.</span><span class="n">kellyFactor</span> <span class="o">=</span> <span class="mf">0.2</span>
        <span class="k">if</span> <span class="n">useEclipse</span><span class="p">:</span>
            <span class="n">CSS</span><span class="o">.</span><span class="n">sunEclipseInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">eclipseMsg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">usePlatform</span><span class="p">:</span>
            <span class="n">CSS</span><span class="o">.</span><span class="n">setBodyToPlatformDCM</span><span class="p">(</span><span class="mf">90.</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
            <span class="n">CSS</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="o">-</span><span class="mf">90.</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
            <span class="n">CSS</span><span class="o">.</span><span class="n">phi</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
            <span class="n">CSS</span><span class="o">.</span><span class="n">setUnitDirectionVectorWithPerturbation</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">CSS</span><span class="o">.</span><span class="n">nHat_B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>

    <span class="c1"># In both CSS simulation scenarios (A) and (B) the CSS modules must</span>
    <span class="c1"># first be individually created and configured.</span>
    <span class="c1"># In this simulation each case uses two CSS sensors.  The minimum</span>
    <span class="c1"># variables that must be set for each CSS includes</span>
    <span class="n">CSS1</span> <span class="o">=</span> <span class="n">coarseSunSensor</span><span class="o">.</span><span class="n">CoarseSunSensor</span><span class="p">()</span>
    <span class="n">CSS1</span><span class="o">.</span><span class="n">ModelTag</span> <span class="o">=</span> <span class="s2">&quot;CSS1_sensor&quot;</span>
    <span class="n">setupCSS</span><span class="p">(</span><span class="n">CSS1</span><span class="p">)</span>

    <span class="n">CSS2</span> <span class="o">=</span> <span class="n">coarseSunSensor</span><span class="o">.</span><span class="n">CoarseSunSensor</span><span class="p">()</span>
    <span class="n">CSS2</span><span class="o">.</span><span class="n">ModelTag</span> <span class="o">=</span> <span class="s2">&quot;CSS2_sensor&quot;</span>
    <span class="n">setupCSS</span><span class="p">(</span><span class="n">CSS2</span><span class="p">)</span>
    <span class="n">CSS2</span><span class="o">.</span><span class="n">CSSGroupID</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">CSS2</span><span class="o">.</span><span class="n">r_B</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">3.05</span><span class="p">,</span> <span class="mf">0.55</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">usePlatform</span><span class="p">:</span>
        <span class="n">CSS2</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="mf">0.</span><span class="o">*</span><span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
        <span class="n">CSS2</span><span class="o">.</span><span class="n">setUnitDirectionVectorWithPerturbation</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">CSS2</span><span class="o">.</span><span class="n">nHat_B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>

    <span class="n">CSS3</span> <span class="o">=</span> <span class="n">coarseSunSensor</span><span class="o">.</span><span class="n">CoarseSunSensor</span><span class="p">()</span>
    <span class="n">CSS3</span><span class="o">.</span><span class="n">ModelTag</span> <span class="o">=</span> <span class="s2">&quot;CSS3_sensor&quot;</span>
    <span class="n">setupCSS</span><span class="p">(</span><span class="n">CSS3</span><span class="p">)</span>
    <span class="n">CSS3</span><span class="o">.</span><span class="n">CSSGroupID</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">CSS3</span><span class="o">.</span><span class="n">fov</span> <span class="o">=</span> <span class="mf">45.0</span><span class="o">*</span><span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
    <span class="n">CSS3</span><span class="o">.</span><span class="n">r_B</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">3.05</span><span class="p">,</span> <span class="mf">0.55</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">usePlatform</span><span class="p">:</span>
        <span class="n">CSS3</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="mf">90.</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
        <span class="n">CSS3</span><span class="o">.</span><span class="n">setUnitDirectionVectorWithPerturbation</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">CSS3</span><span class="o">.</span><span class="n">nHat_B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>

    <span class="n">cssList</span> <span class="o">=</span> <span class="p">[</span><span class="n">CSS1</span><span class="p">,</span> <span class="n">CSS2</span><span class="p">,</span> <span class="n">CSS3</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">useCSSConstellation</span><span class="p">:</span>
        <span class="c1"># If instead of individual CSS a cluster of CSS units is to be evaluated as one,</span>
        <span class="c1"># then they can be grouped into a list, and added to the Basilisk execution</span>
        <span class="c1"># stack as a single entity.  This is done with</span>
        <span class="n">cssArray</span> <span class="o">=</span> <span class="n">coarseSunSensor</span><span class="o">.</span><span class="n">CSSConstellation</span><span class="p">()</span>
        <span class="n">cssArray</span><span class="o">.</span><span class="n">ModelTag</span> <span class="o">=</span> <span class="s2">&quot;css_array&quot;</span>
        <span class="n">cssArray</span><span class="o">.</span><span class="n">sensorList</span> <span class="o">=</span> <span class="n">coarseSunSensor</span><span class="o">.</span><span class="n">CSSVector</span><span class="p">(</span><span class="n">cssList</span><span class="p">)</span>
        <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">simTaskName</span><span class="p">,</span> <span class="n">cssArray</span><span class="p">)</span>
        <span class="c1"># Here the CSSConstellation() module will call the individual CSS</span>
        <span class="c1"># update functions, collect all the sensor</span>
        <span class="c1"># signals, and store the output in a single output message</span>
        <span class="c1"># containing an array of CSS sensor signals.</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># In this scenario (A) setup the CSS unit are each evaluated separately through</span>
        <span class="c1"># This means that each CSS unit creates a individual output messages.</span>
        <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">simTaskName</span><span class="p">,</span> <span class="n">CSS1</span><span class="p">)</span>
        <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">simTaskName</span><span class="p">,</span> <span class="n">CSS2</span><span class="p">)</span>
        <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">simTaskName</span><span class="p">,</span> <span class="n">CSS3</span><span class="p">)</span>

    <span class="c1">#</span>
    <span class="c1">#   Setup data logging before the simulation is initialized</span>
    <span class="c1">#</span>
    <span class="k">if</span> <span class="n">useCSSConstellation</span><span class="p">:</span>
        <span class="n">cssConstLog</span> <span class="o">=</span> <span class="n">cssArray</span><span class="o">.</span><span class="n">constellationOutMsg</span><span class="o">.</span><span class="n">recorder</span><span class="p">()</span>
        <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">simTaskName</span><span class="p">,</span> <span class="n">cssConstLog</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">css1Log</span> <span class="o">=</span> <span class="n">CSS1</span><span class="o">.</span><span class="n">cssDataOutMsg</span><span class="o">.</span><span class="n">recorder</span><span class="p">()</span>
        <span class="n">css2Log</span> <span class="o">=</span> <span class="n">CSS2</span><span class="o">.</span><span class="n">cssDataOutMsg</span><span class="o">.</span><span class="n">recorder</span><span class="p">()</span>
        <span class="n">css3Log</span> <span class="o">=</span> <span class="n">CSS3</span><span class="o">.</span><span class="n">cssDataOutMsg</span><span class="o">.</span><span class="n">recorder</span><span class="p">()</span>
        <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">simTaskName</span><span class="p">,</span> <span class="n">css1Log</span><span class="p">)</span>
        <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">simTaskName</span><span class="p">,</span> <span class="n">css2Log</span><span class="p">)</span>
        <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">simTaskName</span><span class="p">,</span> <span class="n">css3Log</span><span class="p">)</span>

    <span class="c1"># optional saving off to Vizard compatible file</span>
    <span class="k">if</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">vizFound</span><span class="p">:</span>
        <span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span><span class="p">,</span>
                                                  <span class="c1"># saveFile=__file__,</span>
                                                  <span class="c1"># liveStream=True,</span>
                                                  <span class="n">cssList</span><span class="o">=</span><span class="p">[</span><span class="n">cssList</span><span class="p">]</span>
                                                  <span class="p">)</span>
        <span class="n">vizSupport</span><span class="o">.</span><span class="n">setInstrumentGuiSetting</span><span class="p">(</span><span class="n">viz</span><span class="p">,</span> <span class="n">viewCSSPanel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">viewCSSCoverage</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                           <span class="n">viewCSSBoresight</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">showCSSLabels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#</span>
    <span class="c1">#   initialize Simulation</span>
    <span class="c1">#</span>
    <span class="n">scSim</span><span class="o">.</span><span class="n">InitializeSimulation</span><span class="p">()</span>

    <span class="c1">#</span>
    <span class="c1">#   configure a simulation stop time and execute the simulation run</span>
    <span class="c1">#</span>
    <span class="n">scSim</span><span class="o">.</span><span class="n">ConfigureStopTime</span><span class="p">(</span><span class="n">simulationTime</span><span class="p">)</span>
    <span class="n">scSim</span><span class="o">.</span><span class="n">ExecuteSimulation</span><span class="p">()</span>

    <span class="c1">#</span>
    <span class="c1">#   retrieve the logged data</span>
    <span class="c1">#</span>
    <span class="n">dataCSSArray</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">dataCSS1</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">dataCSS2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">dataCSS3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">useCSSConstellation</span><span class="p">:</span>
        <span class="n">dataCSSArray</span> <span class="o">=</span> <span class="n">cssConstLog</span><span class="o">.</span><span class="n">CosValue</span><span class="p">[:,</span> <span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">cssList</span><span class="p">)]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dataCSS1</span> <span class="o">=</span> <span class="n">css1Log</span><span class="o">.</span><span class="n">OutputData</span>
        <span class="n">dataCSS2</span> <span class="o">=</span> <span class="n">css2Log</span><span class="o">.</span><span class="n">OutputData</span>
        <span class="n">dataCSS3</span> <span class="o">=</span> <span class="n">css3Log</span><span class="o">.</span><span class="n">OutputData</span>
    <span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>

    <span class="c1">#</span>
    <span class="c1">#   plot the results</span>
    <span class="c1">#</span>
    <span class="n">fileNameString</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>        <span class="c1"># clears out plots from earlier test runs</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">useCSSConstellation</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cssList</span><span class="p">)):</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cssConstLog</span><span class="o">.</span><span class="n">times</span><span class="p">()</span><span class="o">*</span><span class="n">macros</span><span class="o">.</span><span class="n">NANO2SEC</span><span class="p">,</span> <span class="n">dataCSSArray</span><span class="p">[:,</span> <span class="n">idx</span><span class="p">],</span>
                         <span class="n">color</span><span class="o">=</span><span class="n">unitTestSupport</span><span class="o">.</span><span class="n">getLineColor</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
                         <span class="n">label</span><span class="o">=</span><span class="s1">&#39;CSS$_{&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;}$&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">timeAxis</span> <span class="o">=</span> <span class="n">css1Log</span><span class="o">.</span><span class="n">times</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">timeAxis</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">NANO2SEC</span><span class="p">,</span> <span class="n">dataCSS1</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="n">unitTestSupport</span><span class="o">.</span><span class="n">getLineColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                 <span class="n">label</span><span class="o">=</span><span class="s1">&#39;CSS$_</span><span class="si">{1}</span><span class="s1">$&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">timeAxis</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">NANO2SEC</span><span class="p">,</span> <span class="n">dataCSS2</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="n">unitTestSupport</span><span class="o">.</span><span class="n">getLineColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                 <span class="n">label</span><span class="o">=</span><span class="s1">&#39;CSS$_</span><span class="si">{2}</span><span class="s1">$&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">timeAxis</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">NANO2SEC</span><span class="p">,</span> <span class="n">dataCSS3</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="n">unitTestSupport</span><span class="o">.</span><span class="n">getLineColor</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                 <span class="n">label</span><span class="o">=</span><span class="s1">&#39;CSS$_</span><span class="si">{3}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time [sec]&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;CSS Signals &#39;</span><span class="p">)</span>
    <span class="n">figureList</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">pltName</span> <span class="o">=</span> <span class="n">fileNameString</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">useCSSConstellation</span><span class="p">))</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">usePlatform</span><span class="p">))</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">useEclipse</span><span class="p">))</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">useKelly</span><span class="p">))</span>
    <span class="n">figureList</span><span class="p">[</span><span class="n">pltName</span><span class="p">]</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>


    <span class="k">if</span> <span class="n">show_plots</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># close the plots being saved off to avoid over-writing old and new figures</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">figureList</span></div>



<span class="c1">#</span>
<span class="c1"># This statement below ensures that the unit test scrip can be run as a</span>
<span class="c1"># stand-along python script</span>
<span class="c1">#</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">run</span><span class="p">(</span>
         <span class="kc">True</span><span class="p">,</span>        <span class="c1"># show_plots</span>
         <span class="kc">False</span><span class="p">,</span>       <span class="c1"># useCSSConstellation</span>
         <span class="kc">False</span><span class="p">,</span>       <span class="c1"># usePlatform</span>
         <span class="kc">True</span><span class="p">,</span>       <span class="c1"># useEclipse</span>
         <span class="kc">False</span>        <span class="c1"># useKelly</span>
       <span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>