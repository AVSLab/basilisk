

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recording Messages &mdash; Basilisk 2.8.41
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=53003e83"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=3cd7d658"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Creating Stand-Alone Messages" href="bskPrinciples-5.html" />
    <link rel="prev" title="Connecting Messages" href="bskPrinciples-3.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Basilisk
              <img src="../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Learn.html">Learning Basilisk</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../bskPrinciples.html">Fundamentals of Basilisk Simulations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-0.html">What is Basilisk</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-1.html">Basilisk Process and Task Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-2.html">Adding Basilisk Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-2a.html">Execution of Basilisk Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-2b.html">Seeing the Order of Process, Task and Module Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-3.html">Connecting Messages</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Recording Messages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-message-recorder">Adding a Message Recorder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pulling-the-recorded-message-data">Pulling the Recorded Message Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clearing-the-message-recorder-data-log">Clearing the Message Recorder Data Log</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reading-the-current-value-of-a-message">Reading the Current Value of a Message</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-5.html">Creating Stand-Alone Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-6.html">Setting and Recording Module Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-7.html">Advanced: Redirecting Module Output to Stand-Alone Message</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-8.html">Advanced: Enabling and Disabling Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-9.html">Advanced: Using <code class="docutils literal notranslate"><span class="pre">DynamicObject</span></code> Basilisk Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-10.html">Advanced: Handling <code class="docutils literal notranslate"><span class="pre">BasiliskException</span></code> in Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-11.html">Advanced: Effector Module Branching</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html">Integrated Example Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../makingModules.html">Basics of Writing Basilisk Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../Learn.html">Learning Basilisk</a></li>
          <li class="breadcrumb-item"><a href="../bskPrinciples.html">Fundamentals of Basilisk Simulations</a></li>
      <li class="breadcrumb-item active">Recording Messages</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Learn/bskPrinciples/bskPrinciples-4.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <iframe width="560" height="315" src="https://www.youtube.com/embed/qlcV0NCEtSg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><section id="recording-messages">
<span id="bskprinciples-4"></span><h1>Recording Messages<a class="headerlink" href="#recording-messages" title="Link to this heading"></a></h1>
<aside class="sidebar">
<p class="sidebar-title">Source Code</p>
<p>The python code shown below can be downloaded <a class="reference download internal" download="" href="../../_downloads/20aa32ff9b4e32ef8a29608bc1825ab0/bsk-4.py"><code class="xref download docutils literal notranslate"><span class="pre">here</span></code></a>.</p>
</aside>
<p>Great, now that we have a functioning simulation where Basilisk modules are set up with their messages connected, how do we get access to the simulation data?  This is done by creating recorder modules that will store a time history of the generated messages.</p>
<img alt="../../_images/qs-bsk-4.svg" class="align-center" src="../../_images/qs-bsk-4.svg" />
<p>The figure above illustrates a sample Basilisk simulation.  The single test module <code class="docutils literal notranslate"><span class="pre">cModule1</span></code> has its output message connected to its input message.  This creates a feedback loop that will cause the output message to change.  See the module code to understand the underlying simple math.  To record the message state at various time steps, recorder modules will be created that perform this task.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The method of recording a message is the same, regardless if it is a C or C++ module, or the message has a C or C++ interface.</p>
</div>
<p>The simulation code is included below.  As the recorded message data will be plotted in this script, the <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> library is included at the top, as well as the helper package <code class="docutils literal notranslate"><span class="pre">unitTestSupport</span></code> from <code class="docutils literal notranslate"><span class="pre">Basilisk.utilities</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="linenos"> 5</span><span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.moduleTemplates</span><span class="w"> </span><span class="kn">import</span> <span class="n">cModuleTemplate</span>
<span class="linenos"> 6</span><span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimulationBaseClass</span>
<span class="linenos"> 7</span><span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">macros</span>
<span class="linenos"> 8</span><span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">unitTestSupport</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">():</span>
<span class="linenos">12</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">13</span><span class="sd">    Illustration of recording messages</span>
<span class="linenos">14</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">15</span>
<span class="linenos">16</span>    <span class="c1">#  Create a sim module as an empty container</span>
<span class="linenos">17</span>    <span class="n">scSim</span> <span class="o">=</span> <span class="n">SimulationBaseClass</span><span class="o">.</span><span class="n">SimBaseClass</span><span class="p">()</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="c1">#  create the simulation process</span>
<span class="linenos">20</span>    <span class="n">dynProcess</span> <span class="o">=</span> <span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewProcess</span><span class="p">(</span><span class="s2">&quot;dynamicsProcess&quot;</span><span class="p">)</span>
<span class="linenos">21</span>
<span class="linenos">22</span>    <span class="c1"># create the dynamics task and specify the integration update time</span>
<span class="linenos">23</span>    <span class="n">dynProcess</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewTask</span><span class="p">(</span><span class="s2">&quot;dynamicsTask&quot;</span><span class="p">,</span> <span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">1.</span><span class="p">)))</span>
<span class="linenos">24</span>
<span class="linenos">25</span>    <span class="c1"># create modules</span>
<span class="linenos">26</span>    <span class="n">mod1</span> <span class="o">=</span> <span class="n">cModuleTemplate</span><span class="o">.</span><span class="n">cModuleTemplate</span><span class="p">()</span>
<span class="linenos">27</span>    <span class="n">mod1</span><span class="o">.</span><span class="n">ModelTag</span> <span class="o">=</span> <span class="s2">&quot;cModule1&quot;</span>
<span class="linenos">28</span>    <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="s2">&quot;dynamicsTask&quot;</span><span class="p">,</span> <span class="n">mod1</span><span class="p">)</span>
<span class="linenos">29</span>    <span class="n">mod1</span><span class="o">.</span><span class="n">dataInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">mod1</span><span class="o">.</span><span class="n">dataOutMsg</span><span class="p">)</span>
<span class="linenos">30</span>
<span class="linenos">31</span>    <span class="c1"># setup message recording</span>
<span class="linenos">32</span>    <span class="n">msgRec</span> <span class="o">=</span> <span class="n">mod1</span><span class="o">.</span><span class="n">dataOutMsg</span><span class="o">.</span><span class="n">recorder</span><span class="p">()</span>
<span class="linenos">33</span>    <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="s2">&quot;dynamicsTask&quot;</span><span class="p">,</span> <span class="n">msgRec</span><span class="p">)</span>
<span class="linenos">34</span>    <span class="n">msgRec2</span> <span class="o">=</span> <span class="n">mod1</span><span class="o">.</span><span class="n">dataOutMsg</span><span class="o">.</span><span class="n">recorder</span><span class="p">(</span><span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">20.</span><span class="p">))</span>
<span class="linenos">35</span>    <span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="s2">&quot;dynamicsTask&quot;</span><span class="p">,</span> <span class="n">msgRec2</span><span class="p">)</span>
<span class="linenos">36</span>
<span class="linenos">37</span>    <span class="c1">#  initialize Simulation:</span>
<span class="linenos">38</span>    <span class="n">scSim</span><span class="o">.</span><span class="n">InitializeSimulation</span><span class="p">()</span>
<span class="linenos">39</span>
<span class="linenos">40</span>    <span class="c1">#   configure a simulation stop time and execute the simulation run</span>
<span class="linenos">41</span>    <span class="n">scSim</span><span class="o">.</span><span class="n">ConfigureStopTime</span><span class="p">(</span><span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">60.0</span><span class="p">))</span>
<span class="linenos">42</span>    <span class="n">scSim</span><span class="o">.</span><span class="n">ExecuteSimulation</span><span class="p">()</span>
<span class="linenos">43</span>
<span class="linenos">44</span>    <span class="c1"># plot recorded data</span>
<span class="linenos">45</span>    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
<span class="linenos">46</span>    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">47</span>    <span class="n">figureList</span> <span class="o">=</span> <span class="p">{}</span>
<span class="linenos">48</span>    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="linenos">49</span>        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">msgRec</span><span class="o">.</span><span class="n">times</span><span class="p">()</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">NANO2SEC</span><span class="p">,</span> <span class="n">msgRec</span><span class="o">.</span><span class="n">dataVector</span><span class="p">[:,</span> <span class="n">idx</span><span class="p">],</span>
<span class="linenos">50</span>                 <span class="n">color</span><span class="o">=</span><span class="n">unitTestSupport</span><span class="o">.</span><span class="n">getLineColor</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="linenos">51</span>                 <span class="n">label</span><span class="o">=</span><span class="s1">&#39;$x_{&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;}$&#39;</span><span class="p">)</span>
<span class="linenos">52</span>        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">msgRec2</span><span class="o">.</span><span class="n">times</span><span class="p">()</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">NANO2SEC</span><span class="p">,</span> <span class="n">msgRec2</span><span class="o">.</span><span class="n">dataVector</span><span class="p">[:,</span> <span class="n">idx</span><span class="p">],</span>
<span class="linenos">53</span>                 <span class="s1">&#39;--&#39;</span><span class="p">,</span>
<span class="linenos">54</span>                 <span class="n">color</span><span class="o">=</span><span class="n">unitTestSupport</span><span class="o">.</span><span class="n">getLineColor</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="linenos">55</span>                 <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$\hat x_{&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;}$&#39;</span><span class="p">)</span>
<span class="linenos">56</span>    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
<span class="linenos">57</span>    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time [sec]&#39;</span><span class="p">)</span>
<span class="linenos">58</span>    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Module Data [units]&#39;</span><span class="p">)</span>
<span class="linenos">59</span>    <span class="k">if</span> <span class="s2">&quot;pytest&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
<span class="linenos">60</span>        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="linenos">61</span>    <span class="n">figureList</span><span class="p">[</span><span class="s2">&quot;bsk-4&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">62</span>    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
<span class="linenos">63</span>
<span class="linenos">64</span>    <span class="k">return</span> <span class="n">figureList</span>
<span class="linenos">65</span>
<span class="linenos">66</span>
<span class="linenos">67</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">68</span>    <span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<section id="adding-a-message-recorder">
<h2>Adding a Message Recorder<a class="headerlink" href="#adding-a-message-recorder" title="Link to this heading"></a></h2>
<p>After the single BSK module instance is created and added to the task list, new code is provided to set up the message recorders.  The general syntax is as follows.  Assume you want to record <code class="docutils literal notranslate"><span class="pre">module.someOutMsg</span></code>.  Note that this message can be either an output or input message.  The corresponding recorder module is created using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">someMsgRec</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">someOutMsg</span><span class="o">.</span><span class="n">recorder</span><span class="p">()</span>
<span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="s2">&quot;taskName&quot;</span><span class="p">,</span> <span class="n">someMsgRec</span><span class="p">)</span>
</pre></div>
</div>
<p>The first line in the code block above creates the BSK message recorder object which is setup to record <code class="docutils literal notranslate"><span class="pre">someOutMsg</span></code>.  As with any Basilisk module, it next needs to be added to a task to be executed each update cycle.  As is, the recorder is set up to record the message at the same frequency as the task list update frequency.  If you want to reduce the number of data points being recorded, you can provide an option argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">someMsgRec</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">someOutMsg</span><span class="o">.</span><span class="n">recorder</span><span class="p">(</span><span class="n">minUpdateTime</span><span class="p">)</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">minUpdateTime</span></code> is the minimum time interval that must pass before this recorder object will record the message.</p>
<p>In the full script above, the recorder module <code class="docutils literal notranslate"><span class="pre">msgRec</span></code> is set up to record the message at the <code class="docutils literal notranslate"><span class="pre">dynamicsTask</span></code> update rate.  In contrast, the module <code class="docutils literal notranslate"><span class="pre">msgRec20</span></code> is setup to record the message only after 20s have passed.  Note that the <code class="docutils literal notranslate"><span class="pre">minUpdateTime</span></code> argument must be provided again in nano-seconds.</p>
<p>That is all that is required to set up message recording.  Next the code initializes the simulation and executes it.</p>
</section>
<section id="pulling-the-recorded-message-data">
<h2>Pulling the Recorded Message Data<a class="headerlink" href="#pulling-the-recorded-message-data" title="Link to this heading"></a></h2>
<p>After the simulation completes, the recorded data is stored inside the <code class="docutils literal notranslate"><span class="pre">msgRec</span></code> and <code class="docutils literal notranslate"><span class="pre">msgRec20</span></code> recorders.  To access the variables of the message, simply use <code class="docutils literal notranslate"><span class="pre">msgRec.variable</span></code> where <code class="docutils literal notranslate"><span class="pre">variable</span></code> is the message structure variable you seek to access.  To access the array of time values where the message was recorded use <code class="docutils literal notranslate"><span class="pre">msgRec.times()</span></code>.    A second time array is available that stores the times where the messages are written with <code class="docutils literal notranslate"><span class="pre">msgRec.timesWritten()</span></code>.  Why two time arrays?  Consider an output message that is only updated every 3s, but the message is being read and recorded every second.  The <code class="docutils literal notranslate"><span class="pre">.timesWritten()</span></code> values will repeat until a new output message is created.</p>
<p><a class="reference internal" href="../../Documentation/moduleTemplates/cModuleTemplate/cModuleTemplate.html#cmoduletemplate"><span class="std std-ref">Module: cModuleTemplate</span></a> output message only contains the array <code class="docutils literal notranslate"><span class="pre">dataVector</span></code>.  In this simulation it is recorded at the rate of 1Hz in <code class="docutils literal notranslate"><span class="pre">msgRec</span></code>, and every 20s in the recorder <code class="docutils literal notranslate"><span class="pre">msgRec20</span></code>.  The simulation creates the following plot:</p>
<img alt="../../_images/bsk-4.svg" class="align-center" src="../../_images/bsk-4.svg" />
</section>
<section id="clearing-the-message-recorder-data-log">
<h2>Clearing the Message Recorder Data Log<a class="headerlink" href="#clearing-the-message-recorder-data-log" title="Link to this heading"></a></h2>
<p>Note that the message recorder will continuously add message data to its internal data vectors.  If you start and stop the simulation, pull the data, resume the simulation and so on, this message data recording process is cumulative.  If you stop the simulation and want to clear the message recorder data log so that only new data is recorded, you can clear the message recorder module data buffer using the <code class="docutils literal notranslate"><span class="pre">.clear()</span></code> method.  For example, assume a message recorder <code class="docutils literal notranslate"><span class="pre">scRec</span></code> has been setup and needs to be cleared, this is done with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scRec</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="reading-the-current-value-of-a-message">
<h2>Reading the Current Value of a Message<a class="headerlink" href="#reading-the-current-value-of-a-message" title="Link to this heading"></a></h2>
<p>If you have a message <code class="docutils literal notranslate"><span class="pre">msg</span></code> and want to pull a current copy of the message data or payload, you can use
this method on both C and C++ wrapped message objects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">msgCopy</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<p>Message payloads can be printed to visualize their content:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">payload</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">AlbedoMsgPayload</span><span class="p">(</span>
    <span class="n">AfluxAtInstrument</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="n">AfluxAtInstrumentMax</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span>
    <span class="n">albedoAtInstrumentMax</span><span class="o">=</span><span class="mf">3.0</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
</pre></div>
</div>
<p>displays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AlbedoMsgPayload</span><span class="p">(</span><span class="n">AfluxAtInstrument</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">AfluxAtInstrumentMax</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">albedoAtInstrument</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">albedoAtInstrumentMax</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span>
</pre></div>
</div>
<p>For large payloads, <a class="reference external" href="https://docs.python.org/3/library/pprint.html">pretty-printing</a> will perform automatic line breaks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
</pre></div>
</div>
<p>displays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AlbedoMsgPayload</span><span class="p">(</span><span class="n">AfluxAtInstrument</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                 <span class="n">AfluxAtInstrumentMax</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span>
                 <span class="n">albedoAtInstrument</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                 <span class="n">albedoAtInstrumentMax</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bskPrinciples-3.html" class="btn btn-neutral float-left" title="Connecting Messages" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bskPrinciples-5.html" class="btn btn-neutral float-right" title="Creating Stand-Alone Messages" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>