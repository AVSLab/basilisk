

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Basilisk Process and Task Creation &mdash; Basilisk 2.8.3
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5e07a493"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=3cd7d658"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Adding Basilisk Modules" href="bskPrinciples-2.html" />
    <link rel="prev" title="What is Basilisk" href="bskPrinciples-0.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Basilisk
              <img src="../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Learn.html">Learning Basilisk</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../bskPrinciples.html">Fundamentals of Basilisk Simulations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-0.html">What is Basilisk</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Basilisk Process and Task Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-2.html">Adding Basilisk Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-2a.html">Execution of Basilisk Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-2b.html">Seeing the Order of Process, Task and Module Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-3.html">Connecting Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-4.html">Recording Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-5.html">Creating Stand-Alone Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-6.html">Setting and Recording Module Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-7.html">Advanced: Redirecting Module Output to Stand-Alone Message</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-8.html">Advanced: Enabling and Disabling Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-9.html">Advanced: Using <code class="docutils literal notranslate"><span class="pre">DynamicObject</span></code> Basilisk Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-10.html">Advanced: Handling <code class="docutils literal notranslate"><span class="pre">BasiliskException</span></code> in Simulations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html">Integrated Example Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../makingModules.html">Basics of Writing Basilisk Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../Learn.html">Learning Basilisk</a></li>
          <li class="breadcrumb-item"><a href="../bskPrinciples.html">Fundamentals of Basilisk Simulations</a></li>
      <li class="breadcrumb-item active">Basilisk Process and Task Creation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Learn/bskPrinciples/bskPrinciples-1.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <iframe width="560" height="315" src="https://www.youtube.com/embed/6YmZyu0f-qI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><section id="basilisk-process-and-task-creation">
<span id="bskprinciples-1"></span><h1>Basilisk Process and Task Creation<a class="headerlink" href="#basilisk-process-and-task-creation" title="Link to this heading">ÔÉÅ</a></h1>
<aside class="sidebar">
<p class="sidebar-title">Source Code</p>
<p>The python code shown below can be downloaded <a class="reference download internal" download="" href="../../_downloads/e34f975f936847aca3724dfddd503384/bsk-1.py"><code class="xref download docutils literal notranslate"><span class="pre">here</span></code></a>.</p>
</aside>
<p>To execute modules within the simulation, their evaluation is controlled through the Basilisk <code class="docutils literal notranslate"><span class="pre">Process</span></code> and <code class="docutils literal notranslate"><span class="pre">Task</span></code> containers.  The BSK <code class="docutils literal notranslate"><span class="pre">Task</span></code> contains a series of modules which are all executed with the same update rate.  A <code class="docutils literal notranslate"><span class="pre">Process</span></code> is essentially a task group which can contain several related tasks.  For example, in a multi-satellite simulation you could create a <code class="docutils literal notranslate"><span class="pre">Process</span></code> for each satellite to keep the associated tasks and embedded modules organized. The illustration below shows a sample layout where the dynamics of <code class="docutils literal notranslate"><span class="pre">bskSat</span></code> satellite is added to a separate process from the flight software (FSW) algorithms being executed on this satellite.  Within each process there are several tasks set up which are evaluated at specified rates.  The dynamics process contains a <code class="docutils literal notranslate"><span class="pre">Dynamics</span></code> task to evaluate the spacecraft translational and rotational motion, as well as a <code class="docutils literal notranslate"><span class="pre">Sensors</span></code> task to create sensor output messages.</p>
<img alt="../../_images/qs-bsk-1.svg" class="align-center" src="../../_images/qs-bsk-1.svg" />
<p>The python code example below illustrates a prototypical BSK simulation setup.  The <code class="docutils literal notranslate"><span class="pre">Process</span></code> and <code class="docutils literal notranslate"><span class="pre">Task</span></code> creation are controlled through the utility package <code class="docutils literal notranslate"><span class="pre">SimulationBaseClass</span></code>.  This is loaded to provide the core Basilisk capabilities including</p>
<ul class="simple">
<li><p>making processes and tasks</p></li>
<li><p>adding modules to tasks</p></li>
<li><p>initializing a simulation</p></li>
<li><p>executing a simulation</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">macros</span></code> utility is loaded to provide some convenient helper functions.</p>
<p>Next, a method <code class="docutils literal notranslate"><span class="pre">run()</span></code> is created that will execute the BSK simulation.  The name of this method is arbitrary.  The <code class="docutils literal notranslate"><span class="pre">SimBaseClass()</span></code> instance <code class="docutils literal notranslate"><span class="pre">scSim</span></code> is the core Basilisk simulation container to which simulation components are added.  Now a process is created using the <code class="docutils literal notranslate"><span class="pre">CreateNewProcess(name)</span></code> method where <code class="docutils literal notranslate"><span class="pre">name</span></code> is a string containing the process name.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimulationBaseClass</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">Basilisk.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">macros</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">():</span>
<span class="linenos"> 7</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 8</span><span class="sd">    Illustration of Basilisk process and task creation</span>
<span class="linenos"> 9</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">10</span>
<span class="linenos">11</span>    <span class="c1">#  Create a sim module as an empty container</span>
<span class="linenos">12</span>    <span class="n">scSim</span> <span class="o">=</span> <span class="n">SimulationBaseClass</span><span class="o">.</span><span class="n">SimBaseClass</span><span class="p">()</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="c1">#  create the simulation process</span>
<span class="linenos">15</span>    <span class="n">dynProcess</span> <span class="o">=</span> <span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewProcess</span><span class="p">(</span><span class="s2">&quot;dynamicsProcess&quot;</span><span class="p">)</span>
<span class="linenos">16</span>    <span class="n">fswProcess</span> <span class="o">=</span> <span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewProcess</span><span class="p">(</span><span class="s2">&quot;fswProcess&quot;</span><span class="p">)</span>
<span class="linenos">17</span>
<span class="linenos">18</span>    <span class="c1"># create the dynamics task and specify the integration update time</span>
<span class="linenos">19</span>    <span class="n">dynProcess</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewTask</span><span class="p">(</span><span class="s2">&quot;dynamicsTask&quot;</span><span class="p">,</span> <span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">5.</span><span class="p">)))</span>
<span class="linenos">20</span>    <span class="n">dynProcess</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewTask</span><span class="p">(</span><span class="s2">&quot;sensorTask&quot;</span><span class="p">,</span> <span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">10.</span><span class="p">)))</span>
<span class="linenos">21</span>    <span class="n">fswProcess</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewTask</span><span class="p">(</span><span class="s2">&quot;fswTask&quot;</span><span class="p">,</span> <span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">10.</span><span class="p">)))</span>
<span class="linenos">22</span>
<span class="linenos">23</span>    <span class="c1">#  initialize Simulation:</span>
<span class="linenos">24</span>    <span class="n">scSim</span><span class="o">.</span><span class="n">InitializeSimulation</span><span class="p">()</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="c1">#   configure a simulation stop time and execute the simulation run</span>
<span class="linenos">27</span>    <span class="n">scSim</span><span class="o">.</span><span class="n">ConfigureStopTime</span><span class="p">(</span><span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">20.0</span><span class="p">))</span>
<span class="linenos">28</span>    <span class="n">scSim</span><span class="o">.</span><span class="n">ExecuteSimulation</span><span class="p">()</span>
<span class="linenos">29</span>
<span class="linenos">30</span>    <span class="k">return</span>
<span class="linenos">31</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">34</span>    <span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>The next step is the creation of three BSK processes: two processes for dynamics, and one process for FSW.  Note that the process order of execution is determined here by the order in that they are created.  There is an optional priority argument that can be provided to over-ride this execution order using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dynProcess</span> <span class="o">=</span> <span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewProcess</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
</pre></div>
</div>
<p>The higher process with a higher priority value is executed before processes with lower priority.
The integer priority defaults to -1 which means that this process is executed after all processes with a specified priority, and in the order that the non-priority processes were created.</p>
<p>The next steps create task lists that are contained in a process or task group.  The first argument is the string name that identifies the task being created.  The second argument is the task update rate in nano-seconds.  Here the <code class="docutils literal notranslate"><span class="pre">macros.sec2nano()</span></code> method is a convenient tool to convert seconds to nano-seconds.  When the BSK simulation increments its time variable, it does so in nano-second time steps, the smallest time unit in Basilisk.  It is chosen to be small enough such that no dynamics, sensor or algorithm module should require a smaller time step.  However, it is still large enough such that with a 64-bit unsigned integer we can simulate a mission lifetime of 584 years.</p>
<p>As with the <code class="docutils literal notranslate"><span class="pre">Process</span></code> creation, the <code class="docutils literal notranslate"><span class="pre">Task</span></code> creation by default has a priority of -1. This means that the task
lists are evaluated after any prioritized task lists within the process and in the order they are created.
To set a positive priority value to a task use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dynProcess</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewTask</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">updateRate</span><span class="p">,</span> <span class="n">priority</span><span class="p">))</span>
</pre></div>
</div>
<p>It is possible to hold a task initially dormant for a period of time by specifying the optional <code class="docutils literal notranslate"><span class="pre">FirstStart</span></code>
input parameter in units of nano-seconds.  The task will then be first executed at this time <code class="docutils literal notranslate"><span class="pre">FirstStart</span></code>.
But, afterwards the task execution resumes at the original <code class="docutils literal notranslate"><span class="pre">updateRate</span></code> interval.  For example, consider:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dynProcess</span><span class="o">.</span><span class="n">addTask</span><span class="p">(</span><span class="n">scSim</span><span class="o">.</span><span class="n">CreateNewTask</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">updateRate</span><span class="p">,</span> <span class="n">priority</span><span class="p">,</span> <span class="n">FirstStart</span><span class="o">=</span><span class="n">delayStartTime</span><span class="p">))</span>
</pre></div>
</div>
<p>For example, if the first task execution occurs at <code class="docutils literal notranslate"><span class="pre">delayStartTime</span></code> of 1s, and <code class="docutils literal notranslate"><span class="pre">updateRate</span></code> is set to 5s,
then the task is exectuted at 1s, 5s, 10s, 15s, etc.</p>
<p>To initialize processes and tasks, call the <code class="docutils literal notranslate"><span class="pre">InitializeSimulation()</span></code> method which ensures all Basilisk compute and initialized and the modules with a task are reset.</p>
<p>Next, the simulation length is set through <code class="docutils literal notranslate"><span class="pre">ConfigureStopTime(stopTime)</span></code> where again the stop time must be provided in nano-seconds.  Note that this is the absolute stop time.  If you run the simulation for 5 seconds, then change some parameters, and then want to continue the simulation for an additional 5 seconds, the second stop time must be the accumulated simulation time of 10 seconds.  This is illustrated below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scSim</span><span class="o">.</span><span class="n">ConfigureStopTime</span><span class="p">(</span><span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">5.0</span><span class="p">))</span>
<span class="n">scSim</span><span class="o">.</span><span class="n">ExecuteSimulation</span><span class="p">()</span>
<span class="n">scSim</span><span class="o">.</span><span class="n">ConfigureStopTime</span><span class="p">(</span><span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mf">10.0</span><span class="p">))</span>
<span class="n">scSim</span><span class="o">.</span><span class="n">ExecuteSimulation</span><span class="p">()</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bskPrinciples-0.html" class="btn btn-neutral float-left" title="What is Basilisk" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bskPrinciples-2.html" class="btn btn-neutral float-right" title="Adding Basilisk Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>