

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Automation Script to Create a New Basilisk Module &mdash; Basilisk 2.8.3
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5e07a493"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=3cd7d658"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Common Basilisk Support Files" href="makingModules-5.html" />
    <link rel="prev" title="Module Unit Test File" href="makingModules-4.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Basilisk
              <img src="../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Learn.html">Learning Basilisk</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bskPrinciples.html">Fundamentals of Basilisk Simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html">Integrated Example Scripts</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../makingModules.html">Basics of Writing Basilisk Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="makingModules-1.html">Module Design Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="makingModules-2.html">Creating New Message Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="cModules.html">Making C Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="cppModules.html">Making C++ Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyModules.html">Making Python Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="makingModules-3.html">Module RST Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="makingModules-4.html">Module Unit Test File</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Automation Script to Create a New Basilisk Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#header-file">Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#c-c-file">C/C++ File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#swig-file">Swig File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rst-module-documentation">RST Module Documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unit-test-file">Unit Test File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-guide">User Guide</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="makingModules-5.html">Common Basilisk Support Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="advancedTopics.html">Advanced Topics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../Learn.html">Learning Basilisk</a></li>
          <li class="breadcrumb-item"><a href="../makingModules.html">Basics of Writing Basilisk Modules</a></li>
      <li class="breadcrumb-item active">Automation Script to Create a New Basilisk Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Learn/makingModules/makingDraftModule.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="automation-script-to-create-a-new-basilisk-module">
<span id="makingdraftmodule"></span><h1>Automation Script to Create a New Basilisk Module<a class="headerlink" href="#automation-script-to-create-a-new-basilisk-module" title="Link to this heading"></a></h1>
<p>The script <code class="docutils literal notranslate"><span class="pre">src/utilities/makeDraftModule.py</span></code> provides a convenient tool to create a new Basilisk C or C++ module.
Note that this is a standard Basilisk module and not a dynamic or state effector.  The user provides the script
the basic module info such a module name, location, input and output message names, descriptions, type, etc., and
the script then generates a skeleton C or C++ Basilisk module, the associated swig interface <code class="docutils literal notranslate"><span class="pre">*.i</span></code> file, a start
at the RST documentation for this module, as well as a functioning unit test file for this module.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The script cannot setup vectors or lists of input or output messages.  In such cases, it is recommended to
add a placeholder input/output message of the correct type, and then hand-edit the code to make this a
vector of message objects.</p>
</div>
<section id="header-file">
<h2>Header File<a class="headerlink" href="#header-file" title="Link to this heading"></a></h2>
<p>The header file will contain the required includes to import the input/output message type definitions.
The message description strings are used to provide RST/Doxygen compatible comment strings for the
message definitions.</p>
</section>
<section id="c-c-file">
<h2>C/C++ File<a class="headerlink" href="#c-c-file" title="Link to this heading"></a></h2>
<p>In the C-module the script generates the required <code class="docutils literal notranslate"><span class="pre">init</span></code> calls for each output message.  In C++
there is typically no need for writing a <code class="docutils literal notranslate"><span class="pre">SelfInit()</span></code> function as the C++ wrapped output messages
are connected to themselves on construction.</p>
<p>Next, the <code class="docutils literal notranslate"><span class="pre">Reset()</span></code> method is setup to check all input messages are connected.  This assumes that all
input messages are required. If this is not the case, simply delete the associate message connection
checking.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Update()</span></code> method sets up buffer variables to hold all the input messages, zero’s the output message
buffer variables, reads in all input messages, and then write the output message buffer to the
output message objects.</p>
</section>
<section id="swig-file">
<h2>Swig File<a class="headerlink" href="#swig-file" title="Link to this heading"></a></h2>
<p>The module <code class="docutils literal notranslate"><span class="pre">*.i</span></code> file is setup to include the required input and output message payload types.</p>
</section>
<section id="rst-module-documentation">
<h2>RST Module Documentation<a class="headerlink" href="#rst-module-documentation" title="Link to this heading"></a></h2>
<p>The module RST documentation file uses the provided module description string to create the module
executive summary.  Further, a table is created listing all input and output messages, their type and also
their description</p>
</section>
<section id="unit-test-file">
<h2>Unit Test File<a class="headerlink" href="#unit-test-file" title="Link to this heading"></a></h2>
<p>A draft unit test python file is created in the local <code class="docutils literal notranslate"><span class="pre">_UnitTest</span></code> folder.  This script</p>
<ul class="simple">
<li><p>imports the new module</p></li>
<li><p>sets up a proces and task to run this module</p></li>
<li><p>creates empty input messages object for all the module input messages</p></li>
<li><p>sets up a recorder for all the module output messages</p></li>
<li><p>run the script</p></li>
</ul>
<p>The user can then expand this script to properly configure the module variables and input message contents
to create a fully implemented module unit test.</p>
</section>
<section id="user-guide">
<h2>User Guide<a class="headerlink" href="#user-guide" title="Link to this heading"></a></h2>
<p>To run the script to make a C++ Basilisk module draft, edit the content of the <code class="docutils literal notranslate"><span class="pre">fillCppInfo()</span></code> method.
To create a C module, edit the method <code class="docutils literal notranslate"><span class="pre">fillCInfo()</span></code>.  Next, in the main routine only run the needed method.</p>
<p>Note, once created, if you make edits and re-run this script it will delete the older module folder and create a new
one.  Thus, this script cannot be used to add input or output messages if you have already started
to flesh out the rest of the module code.  It is intended to be run only once before you start to edit the
module code.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="makingModules-4.html" class="btn btn-neutral float-left" title="Module Unit Test File" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="makingModules-5.html" class="btn btn-neutral float-right" title="Common Basilisk Support Files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>