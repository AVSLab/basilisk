

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Building the Software Framework &mdash; Basilisk 2.8.3
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5e07a493"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=3cd7d658"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Building Custom Modules" href="buildExtModules.html" />
    <link rel="prev" title="Setup On Windows" href="installOnWindows.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../index.html" class="icon icon-home">
            Basilisk
              <img src="../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../Install.html">Install</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pullCloneBSK.html">Download Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="installOnLinux.html">Setup On Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="installOnMacOS.html">Setup On macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="installOnWindows.html">Setup On Windows</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Building the Software Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#one-step-configuring-and-building-the-basilisk-framework">One-Step Configuring and Building the Basilisk Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="#doing-incremental-builds">Doing Incremental Builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-project-tests">Running Project Tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="buildExtModules.html">Building Custom Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="customPython.html">Using a Custom Python Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="installBuildConan.html">Advanced: Directly Building the Software Framework Using Conan</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipInstall.html">Advanced: Building and Installing Pre-Compiled Basilisk Wheels</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Learn.html">Learning Basilisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Install.html">Install</a></li>
      <li class="breadcrumb-item active">Building the Software Framework</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Install/installBuild.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="toctree-wrapper compound">
</div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/t9VrmrVfJ0M" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><section id="building-the-software-framework">
<span id="configurebuild"></span><h1>Building the Software Framework<a class="headerlink" href="#building-the-software-framework" title="Link to this heading"></a></h1>
<p>This documents discusses the various  build options that can be
used when configuring and compiling Basilisk. The build system makes use of the <code class="docutils literal notranslate"><span class="pre">conan</span></code>
<a class="reference external" href="https://docs.conan.io/en/latest/">package manager</a> which provides for cross platform manner support.
As a result the Basilisk build instructions are platform agnostic.</p>
<p>This page is broken up into distinct manners of building Basilisk starting with the simplest method that should work
for the majority of users.  This is followed by increasingly more detailed discussions on the build system for users
who want to customize.</p>
<section id="one-step-configuring-and-building-the-basilisk-framework">
<h2>One-Step Configuring and Building the Basilisk Framework<a class="headerlink" href="#one-step-configuring-and-building-the-basilisk-framework" title="Link to this heading"></a></h2>
<p>If you just installed the Basilisk source code, or changed any source file, you will want to recreate the Basilisk IDE
project or makefile to compile it.  This creates or updates the project file to included the latest Basilisk source
code.  From the Basilisk root directory, this is done simply using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">conanfile</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>This one-line step will use <code class="docutils literal notranslate"><span class="pre">conan</span></code> to:</p>
<ul class="simple">
<li><p>pull and compile any resource dependencies such a protobuffer, etc.</p></li>
<li><p>configure the Xcode (macOS) or Visual Studio (Windows) IDE project in the <code class="docutils literal notranslate"><span class="pre">dist3</span></code> folder,
or create the makefile for Linux systems</p></li>
<li><p>build the project.</p></li>
</ul>
<p>By default the build is for Python3 with the support for <a class="reference internal" href="../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>
included to enable recording data for or live-streaming to <a class="reference internal" href="../Vizard/Vizard.html#vizard"><span class="std std-ref">Vizard</span></a>.</p>
<p>The script accepts the following options to customize this process.</p>
<span id="buildtable1label"></span><table class="docutils align-default" id="id2">
<caption><span class="caption-text">Options for One-Step Configure/Build Process</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 15.0%" />
<col style="width: 15.0%" />
<col style="width: 10.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Values</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">vizInterface</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>True</p></td>
<td><p>Includes the <a class="reference external" href="https://developers.google.com/protocol-buffers">Google Protobuffer</a> library to package
up Vizard data messages, and the <a class="reference external" href="https://zeromq.org">Zero-MQ</a> library to communicate with Vizard.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">opNav</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>False</p></td>
<td><p>Includes <a class="reference external" href="https://opencv.org">OpenCV</a> library to create visual navigation modules that use OpenCV to
process sensor images.  If this option is selected,
then the dependencies of  <code class="docutils literal notranslate"><span class="pre">vizInterface</span></code> are also loaded as some components require the same libraries.
Note that OpenCL related dependencies can take a while to compile, 10-20minutes is not unusual.  However,
once install they don’t need to be rebuilt unless <code class="docutils literal notranslate"><span class="pre">.conan</span></code> is deleted or the dependency changes.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">clean</span></code></p></td>
<td></td>
<td><p>None</p></td>
<td><p>If flag is set, this forces the distribution folder <code class="docutils literal notranslate"><span class="pre">dist3</span></code> to be deleted to create a fresh setup and build</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">buildProject</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>True</p></td>
<td><p>If set to True, this option will compile the project right away after creating the IDE or make file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">buildType</span></code></p></td>
<td><p>Release, Debug</p></td>
<td><p>Release</p></td>
<td><p>Sets the build type.  This does not apply to the IDE project like Xcode and Visual Studio which
control the build type through their interface.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">generator</span></code></p></td>
<td><p>see <a class="reference external" href="https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html">here</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">XCode</span></code> (macOS), <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">16</span> <span class="pre">2019</span></code> (Windows), <code class="docutils literal notranslate"><span class="pre">None</span></code> (Linux)</p></td>
<td><p>If not set the <code class="docutils literal notranslate"><span class="pre">cmake</span></code> build generator is automatically selected to be <code class="docutils literal notranslate"><span class="pre">XCode</span></code> for macOS,
<code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">16</span> <span class="pre">2019</span></code> on Windows, and <code class="docutils literal notranslate"><span class="pre">None</span></code> for Linux which create a make file on this platform.
It can also be set through this
flag.  If unsure what generators are supported on your platform, open a terminal window and
type <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">--help</span></code> to get a list of supported generator strings.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">autoKey</span></code></p></td>
<td><p>String ‘s’ or ‘u’</p></td>
<td><p>Empty</p></td>
<td><p>This is used to automatically respond to the python packaging installation requests to install the
package for the user (u) or system (s).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">allOptPkg</span></code></p></td>
<td></td>
<td><p>None</p></td>
<td><p>If flag is set the Basilisk python package depenencies to build documentation are installed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pathToExternalModules</span></code></p></td>
<td><p>String</p></td>
<td><p>Empty</p></td>
<td><p>path to external modules folder, see <a class="reference internal" href="buildExtModules.html#buildextmodules"><span class="std std-ref">Building Custom Modules</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mujoco</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>False</p></td>
<td><p><span class="beta-label">[BETA] Mujoco Support</span> Includes the <a class="reference external" href="https://mujoco.org">MuJoCo</a> dependencies</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mujocoReplay</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>False</p></td>
<td><p><span class="beta-label">[BETA] Mujoco Support</span> Includes the <a class="reference external" href="https://mujoco.org">MuJoCo</a> visualization dependencies</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">recorderPropertyRollback</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>False</p></td>
<td><p>Version 2.8 changed the output format when querying non-numeric types in message recorders.
By using this flag, the previuos behavior is recovered. Note that this build flag will disappear
in the near future.</p></td>
</tr>
</tbody>
</table>
<p>Thus, for example, to create a build with <code class="docutils literal notranslate"><span class="pre">opNav</span></code> modes enabled, but no <a class="reference internal" href="../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>, and using a
clean distribution folder, and that is built right away, you could use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">conanfile</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">clean</span> <span class="o">--</span><span class="n">opNav</span> <span class="kc">True</span> <span class="o">--</span><span class="n">vizInterface</span> <span class="kc">False</span> <span class="o">--</span><span class="n">buildProject</span> <span class="kc">True</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">buildProject</span></code> argument here is optional as its default value is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you switch between building for release (default) and debug, you must re-run this command again.  Otherwise
you will not have the correct conan dependencies included for your build type.  In the IDE like Xcode, for
example, if you do a regular build you are building for debug, not for release.  Thus, be mindful of how
you are building the code.</p>
</div>
</section>
<section id="doing-incremental-builds">
<h2>Doing Incremental Builds<a class="headerlink" href="#doing-incremental-builds" title="Link to this heading"></a></h2>
<p>If you are developing new Basilisk capabilities you will be looking to do incremental builds.  Note that running
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">conanfile.py</span></code> will delete the auto-created messaging related files and their compiled products.
Compiling the messaging related files is a large component of the Basilisk build time.  Thus, running
this command is required if you make changes to the message file definitions, or add a new message file.  However,
it is not the preferred manner to compile Basilisk if you just need to do an incremental build.</p>
<p>Rather, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">conanfile.py</span> <span class="pre">--buildProject</span> <span class="pre">False</span></code> to create the IDE file for your platform
such as Xcode projeect file on macOS, MS Visual Studio project file on Windows, etc.  Next,
open the project file in your IDE and compile Basilisk there.  The initial build is a clean build and will take a
similar amount of time to compile the messaging related files.  However, after making changes to a particular module,
only this Basilisk module will need to be compiled and the compile times are drastically reduced.</p>
</section>
<section id="running-project-tests">
<h2>Running Project Tests<a class="headerlink" href="#running-project-tests" title="Link to this heading"></a></h2>
<p>The project employs two testing frameworks, specifically <a class="reference external" href="https://pytest.org">Pytest</a> for python
executed tests and <a class="reference external" href="https://github.com/google/googletest">Google Test</a> for C/C++ executed tests.</p>
<p>To run all tests execute the following from the project root directory</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python run_all_test.py</span>
</pre></div>
</div>
<p>To run only the python test use the following commands.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd src</span>
<span class="go">pytest</span>
</pre></div>
</div>
<p>To run only the C/C++ tests use</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd dist3</span>
<span class="go">ctest</span>
</pre></div>
</div>
<p>or on macOS <code class="docutils literal notranslate"><span class="pre">ctest</span> <span class="pre">-C</span> <span class="pre">&lt;Release</span> <span class="pre">or</span> <span class="pre">Debug&gt;</span></code>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installOnWindows.html" class="btn btn-neutral float-left" title="Setup On Windows" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="buildExtModules.html" class="btn btn-neutral float-right" title="Building Custom Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>