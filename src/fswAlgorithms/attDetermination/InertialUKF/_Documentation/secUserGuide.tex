% !TEX root = ./Basilisk-spacecraftPointing-20190116.tex

\section{User Guide}
\subsection{Filter Set-up, initialization, and I/O}

In order for the filter to run, the user must set a few parameters:

\begin{itemize}
\item The unscented filter has 3 parameters that need to be set, and are best as: \\
      \texttt{ filterObject.alpha = 0.02} \\
      \texttt{ filterObject.beta = 2.0} \\
      \texttt{ filterObject.kappa = 0.0} 
\item The angle threshold under which the coarse sun sensors do not read the measurement: \\ 
\texttt{FilterContainer.sensorUseThresh = 0.}
\item The process noise matrix: \\
   \texttt{qNoiseIn = numpy.identity(5)} \\
   \texttt{ qNoiseIn[0:3, 0:3] = qNoiseIn[0:3, 0:3]*0.01*0.01} \\
   \texttt{ qNoiseIn[3:5, 3:5] = qNoiseIn[3:5, 3:5]*0.001*0.001} \\
    \texttt{filterObject.qNoise = qNoiseIn.reshape(25).tolist()}
\item The measurement noise value, for instance: \\
 \texttt{FilterContainer.qObsVal = 0.001}
\item The initial covariance: \\
 \texttt{Filter.covar =} \\
  \texttt{ [1., 0.0, 0.0, 0.0, 0.0, \\
                          0.0, 1., 0.0, 0.0, 0.0,\\
                          0.0, 0.0, 1., 0.0, 0.0,\\
                          0.0, 0.0, 0.0, 0.02, 0.0,\\
                          0.0, 0.0, 0.0, 0.0, 0.02]}
 \item The initial state :\\
 \texttt{Filter.state =[0.0, 0.0, 1.0, 0.0, 0.0]}
\end{itemize}

The messages must also be set as such:

\begin{itemize}
\item    \texttt{ filterObject.navStateOutMsgName = "inertial$\_$state$\_$estimate"}
\item    \texttt{ filterObject.filtDataOutMsgName = "inertial$\_$filter$\_$data"}
\item   \texttt{ filterObject.massPropsInMsgName = "adcs$\_$config$\_$data"}
\item   \texttt{filterObject.rwSpeedsInMsgName = "reactionwheel$\_$output$\_$states"}
\item   \texttt{ filterObject.rwParamsInMsgName = "rwa$\_$config$\_$data$\_$parsed"}
\item   \texttt{  filterObject.gyrBuffInMsgName = "gyro$\_$buffer$\_$data"}
\end{itemize}

