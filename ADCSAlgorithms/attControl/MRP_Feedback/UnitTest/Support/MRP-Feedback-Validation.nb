(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     33248,       1029]
NotebookOptionsPosition[     28774,        863]
NotebookOutlinePosition[     29132,        879]
CellTagsIndexPosition[     29089,        876]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Unit Test for MRP_Feedback Module", "Title",
 CellChangeTimes->{{3.6592697255873623`*^9, 3.659269733887673*^9}, {
  3.659443386707211*^9, 3.6594433888524237`*^9}}],

Cell[CellGroupData[{

Cell["Setup", "Section",
 CellChangeTimes->{{3.659269801019622*^9, 3.659269801593212*^9}}],

Cell[BoxData[
 RowBox[{"<<", "RigidBodyKinematics`"}]], "Input",
 CellChangeTimes->{{3.659270592595624*^9, 3.6592705975038033`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"K", " ", "=", " ", "0.15"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Ki", " ", "=", " ", "0.01"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"P", " ", "=", " ", "150."}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"integralLimit", " ", "=", " ", 
   RowBox[{
    RowBox[{"2", "/", "Ki"}], "*", "0.1"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"h", " ", "=", " ", "0.5"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"L", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.659269757150385*^9, 3.65926979478966*^9}, {
  3.6592718312859507`*^9, 3.659271833051729*^9}, {3.659272159869946*^9, 
  3.659272162458373*^9}, {3.659443404941197*^9, 3.6594434185881166`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Inertia", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"1000", ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "800", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "800"}], "}"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.659269805886825*^9, 3.659269806426238*^9}, {
  3.659270107460369*^9, 3.659270121948908*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1000", "0", "0"},
     {"0", "800", "0"},
     {"0", "0", "800"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{{3.6592701181641903`*^9, 3.659270122462553*^9}, 
   3.659443645253743*^9}]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Sigma]BR", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{"0.3", ",", 
     RowBox[{"-", "0.5"}], ",", "0.7"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Omega]BRvecB", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{"0.010", ",", 
     RowBox[{"-", "0.020"}], ",", "0.015"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Omega]RNvecB", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.02"}], ",", 
     RowBox[{"-", "0.01"}], ",", "0.005"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"d\[Omega]RNvecB", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{"0.0002", ",", "0.0003", ",", "0.0001"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Sigma]BN", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{"0.25", ",", 
     RowBox[{"-", "0.45"}], ",", "0.75"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Omega]BNvecB", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.015"}], ",", 
     RowBox[{"-", "0.012"}], ",", "0.005"}], "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.6592703448531027`*^9, 3.659270404081019*^9}, {
  3.659271691968534*^9, 3.6592717153281307`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Feedback Control with h = 0", "Section",
 CellChangeTimes->{{3.65927173265632*^9, 3.659271736181349*^9}, {
  3.659271999452704*^9, 3.659272002038528*^9}, {3.659273050033576*^9, 
  3.6592730519389772`*^9}, {3.6594445042799177`*^9, 3.659444506730401*^9}}],

Cell[CellGroupData[{

Cell["Step-wise Control evaluation", "Subsection",
 CellChangeTimes->{{3.659444519027627*^9, 3.659444525518709*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"h", " ", "=", " ", "0"}], ";"}]], "Input",
 CellChangeTimes->{{3.659273062394906*^9, 3.65927306303195*^9}, 
   3.659443651675418*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"int\[Sigma]", " ", "=", " ", 
  RowBox[{"K", " ", "\[Sigma]BR", " ", "h", " "}]}]], "Input",
 CellChangeTimes->{{3.659445701275066*^9, 3.659445711485091*^9}, 
   3.659446060362873*^9, 3.6594468167402897`*^9, {3.6594468616521606`*^9, 
   3.659446861876567*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.`", ",", "0.`", ",", "0.`"}], "}"}], TraditionalForm]], "Output",\

 CellChangeTimes->{{3.6594457117283783`*^9, 3.659445715181862*^9}, 
   3.659446064210298*^9, 3.659446819653675*^9, {3.65944686232029*^9, 
   3.659446865108121*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"zvecB", " ", "=", " ", 
  RowBox[{"int\[Sigma]", " ", "+", " ", 
   RowBox[{"Inertia", ".", "\[Omega]BRvecB"}]}]}]], "Input",
 CellChangeTimes->{{3.6592718194075403`*^9, 3.659271828253872*^9}, {
   3.659443841966032*^9, 3.6594438612728977`*^9}, {3.659443980470804*^9, 
   3.65944399443045*^9}, {3.6594449058764057`*^9, 3.659444911949094*^9}, 
   3.659445719341874*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"10.`", ",", 
    RowBox[{"-", "16.`"}], ",", "12.`"}], "}"}], TraditionalForm]], "Output",
 CellChangeTimes->{
  3.659271836388042*^9, 3.659272133381937*^9, {3.6592730596229277`*^9, 
   3.6592730651336527`*^9}, 3.659273143174204*^9, 3.659273184235652*^9, 
   3.659443862154201*^9, {3.65944398803904*^9, 3.659443994794074*^9}, {
   3.659444914393643*^9, 3.659444960501442*^9}, {3.6594453481926117`*^9, 
   3.65944535166457*^9}, 3.659445720106514*^9, 3.659446064231927*^9, 
   3.65944681967627*^9, 3.659446865131295*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr0", " ", "=", " ", 
  RowBox[{"K", " ", "\[Sigma]BR"}]}]], "Input",
 CellChangeTimes->{{3.659443625326473*^9, 3.65944364008637*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.045`", ",", 
    RowBox[{"-", "0.075`"}], ",", "0.105`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{{3.659443649024254*^9, 3.659443653175352*^9}, {
   3.65944494005236*^9, 3.659444960524334*^9}, 3.6594453516864643`*^9, 
   3.659446064269455*^9, 3.659446819707718*^9, 3.659446865165452*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{" ", 
  RowBox[{"Lr1", " ", "=", " ", 
   RowBox[{"Lr0", " ", "+", 
    RowBox[{"P", " ", "\[Omega]BRvecB"}]}]}]}]], "Input",
 CellChangeTimes->{{3.659271856259605*^9, 3.659271890855582*^9}, 
   3.6592731114983807`*^9, {3.659443630478674*^9, 3.659443631412465*^9}, 
   3.659443664750947*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"1.545`", ",", 
    RowBox[{"-", "3.075`"}], ",", "2.355`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{
  3.659271892262298*^9, 3.65927196845271*^9, 3.65927208342839*^9, {
   3.659272117693027*^9, 3.6592721334226418`*^9}, {3.659273059656805*^9, 
   3.6592730651642847`*^9}, 3.6592731432243013`*^9, 3.659273184286241*^9, 
   3.659443672629301*^9, {3.6594449400856857`*^9, 3.6594449605543737`*^9}, 
   3.659445351717801*^9, 3.659446064302374*^9, 3.659446819729995*^9, 
   3.6594468651983833`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr2", " ", "=", " ", 
  RowBox[{"Lr1", "+", 
   RowBox[{"P", " ", "Ki", " ", "zvecB"}]}]}]], "Input",
 CellChangeTimes->{{3.6592719446361437`*^9, 3.659271963990047*^9}, {
  3.659273113163576*^9, 3.659273116027234*^9}, {3.659273161371725*^9, 
  3.6592731622121277`*^9}, {3.6594437663180857`*^9, 3.659443767486546*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"16.545`", ",", 
    RowBox[{"-", "27.075`"}], ",", "20.355`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{{3.659271956216487*^9, 3.659271969198279*^9}, 
   3.659272084050108*^9, {3.6592721184709167`*^9, 3.6592721334566298`*^9}, {
   3.659273059689149*^9, 3.65927306520444*^9}, {3.6592731432787247`*^9, 
   3.659273184331862*^9}, 3.659443768855814*^9, 3.659443888052506*^9, {
   3.659444940119095*^9, 3.659444960577776*^9}, 3.65944535174181*^9, 
   3.659446064335513*^9, 3.6594468197575703`*^9, 3.659446865243442*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr3", "=", 
  RowBox[{"Lr2", " ", "-", " ", 
   RowBox[{"Cross", "[", 
    RowBox[{
     RowBox[{"\[Omega]RNvecB", " ", "+", " ", 
      RowBox[{"Ki", " ", "zvecB"}]}], ",", 
     RowBox[{"Inertia", ".", "\[Omega]BNvecB"}]}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.659272014868969*^9, 3.659272078534477*^9}, {
  3.6592721239542217`*^9, 3.659272126587508*^9}, {3.659273117412156*^9, 
  3.659273118401187*^9}, {3.6592731653761177`*^9, 3.6592731658263197`*^9}, {
  3.659443904869441*^9, 3.659443915485898*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"16.025000000000002`", ",", 
    RowBox[{"-", "24.88`"}], ",", "23.673000000000002`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{{3.65927206170304*^9, 3.6592720848860207`*^9}, {
   3.65927211931927*^9, 3.659272133503059*^9}, {3.659273059723317*^9, 
   3.6592730652504*^9}, {3.659273143328114*^9, 3.659273184380588*^9}, 
   3.659443925001444*^9, {3.659444940152158*^9, 3.6594449606131067`*^9}, 
   3.659445351774887*^9, 3.6594460643702173`*^9, 3.6594468197799377`*^9, 
   3.659446865273641*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr4", " ", "=", " ", 
  RowBox[{"Lr3", "-", 
   RowBox[{"Inertia", ".", 
    RowBox[{"(", 
     RowBox[{"d\[Omega]RNvecB", " ", "-", " ", 
      RowBox[{"Cross", "[", 
       RowBox[{"\[Omega]BNvecB", ",", "\[Omega]RNvecB"}], "]"}]}], 
     ")"}]}]}]}]], "Input",
 CellChangeTimes->{{3.659272166127743*^9, 3.659272217323757*^9}, {
  3.6592731207183027`*^9, 3.65927312361103*^9}, {3.6592731679674377`*^9, 
  3.659273168501409*^9}, {3.659444018216361*^9, 3.659444025954715*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"15.815000000000001`", ",", 
    RowBox[{"-", "25.14`"}], ",", "23.521`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{
  3.659272218623152*^9, {3.6592730597556353`*^9, 3.6592730652833977`*^9}, {
   3.659273143378972*^9, 3.6592731844314737`*^9}, 3.659444032531728*^9, {
   3.659444940184799*^9, 3.659444960647689*^9}, 3.6594453518081207`*^9, 
   3.6594460644019814`*^9, 3.659446819808361*^9, 3.6594468652974854`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr5", "=", 
  RowBox[{"Lr4", "+", "L"}]}]], "Input",
 CellChangeTimes->{{3.659272224325376*^9, 3.659272226154723*^9}, {
  3.6592731255715647`*^9, 3.659273126933976*^9}, {3.659273173350112*^9, 
  3.659273178300562*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"15.815000000000001`", ",", 
    RowBox[{"-", "25.14`"}], ",", "23.521`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{
  3.659272227046644*^9, {3.6592730597783823`*^9, 3.659273065316031*^9}, 
   3.6592731434250517`*^9, {3.6592731795434837`*^9, 3.659273184480878*^9}, 
   3.659444039349334*^9, {3.6594449402185297`*^9, 3.659444960679824*^9}, 
   3.659445351841248*^9, 3.659446064426229*^9, 3.659446819831758*^9, 
   3.6594468653323593`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Check", "Subsection",
 CellChangeTimes->{{3.659272705214184*^9, 3.659272705686051*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"zvecB", "-", 
  RowBox[{"{", 
   RowBox[{"10", ",", 
    RowBox[{"-", "16"}], ",", "12"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.65927271003967*^9, 3.659272731401754*^9}, {
  3.6594453242683783`*^9, 3.659445341345069*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.`", ",", "0.`", ",", "0.`"}], "}"}], TraditionalForm]], "Output",\

 CellChangeTimes->{{3.659272717310577*^9, 3.659272723640752*^9}, 
   3.659273072261969*^9, 3.6594449402526207`*^9, {3.6594453420937233`*^9, 
   3.65944535450768*^9}, 3.659446819864971*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr0", " ", "-", " ", 
  RowBox[{"{", 
   RowBox[{"0.045", ",", 
    RowBox[{"-", "0.075"}], ",", "0.105"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.659445367228479*^9, 3.65944537852035*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.`", ",", "0.`", ",", "0.`"}], "}"}], TraditionalForm]], "Output",\

 CellChangeTimes->{3.6594453791596813`*^9, 3.6594468198996572`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr1", "-", 
  RowBox[{"{", 
   RowBox[{"1.545", ",", 
    RowBox[{"-", "3.075"}], ",", "2.355"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.659273186364489*^9, 3.6592731953755827`*^9}, 
   3.659445390795643*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.`", ",", "0.`", ",", "0.`"}], "}"}], TraditionalForm]], "Output",\

 CellChangeTimes->{3.659273195772739*^9, 3.659444940375784*^9, 
  3.659445392087446*^9, 3.659446819932519*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr2", "-", 
  RowBox[{"{", 
   RowBox[{"16.545", ",", 
    RowBox[{"-", "27.075"}], ",", "20.355"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.6592731976706676`*^9, 3.659273206058498*^9}, 
   3.659445400707285*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.`", ",", "0.`", ",", "0.`"}], "}"}], TraditionalForm]], "Output",\

 CellChangeTimes->{3.659273212295128*^9, 3.659444940417581*^9, 
  3.659445401780479*^9, 3.659446819965908*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr3", "-", 
  RowBox[{"{", 
   RowBox[{"16.025", ",", 
    RowBox[{"-", "24.88"}], ",", "23.673"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.659273214399804*^9, 3.65927322286233*^9}, 
   3.659445412036545*^9, {3.659445509236457*^9, 3.6594455095089903`*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{
   "3.552713678800501`*^-15", ",", "0.`", ",", "3.552713678800501`*^-15"}], 
   "}"}], TraditionalForm]], "Output",
 CellChangeTimes->{3.659273223785355*^9, 3.6594449404503*^9, 
  3.659445415590588*^9, 3.659445510442947*^9, 3.6594468199991493`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr4", "-", 
  RowBox[{"{", 
   RowBox[{"15.815", ",", 
    RowBox[{"-", "25.14"}], ",", "23.521"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.6592732264971657`*^9, 3.659273234480751*^9}, 
   3.6594455247321253`*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"1.7763568394002505`*^-15", ",", "0.`", ",", "0.`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{3.659273234923045*^9, 3.659444940485606*^9, 
  3.659445525518162*^9, 3.659446820032373*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr5", "-", 
  RowBox[{"{", 
   RowBox[{"15.815", ",", 
    RowBox[{"-", "25.14"}], ",", "23.521"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.659273236827339*^9, 3.659273250163566*^9}, 
   3.659445534092564*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"1.7763568394002505`*^-15", ",", "0.`", ",", "0.`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{3.659273250498723*^9, 3.659444940517416*^9, 
  3.659445534912324*^9, 3.659446820065222*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Feedback Control with h = 0.5", "Section",
 CellChangeTimes->{{3.65927173265632*^9, 3.659271736181349*^9}, {
  3.659271999452704*^9, 3.659272002038528*^9}, {3.659273050033576*^9, 
  3.6592730519389772`*^9}, {3.6594445042799177`*^9, 3.659444506730401*^9}, {
  3.659445539264501*^9, 3.659445539341771*^9}}],

Cell[CellGroupData[{

Cell["Step-wise Control evaluation", "Subsection",
 CellChangeTimes->{{3.659444519027627*^9, 3.659444525518709*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"h", " ", "=", " ", "0.5"}], ";"}]], "Input",
 CellChangeTimes->{{3.659273062394906*^9, 3.65927306303195*^9}, 
   3.659443651675418*^9, {3.6594445567857027`*^9, 3.659444556851677*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"int\[Sigma]", " ", "=", "  ", 
  RowBox[{"K", " ", "\[Sigma]BR", " ", "h", " "}]}]], "Input",
 CellChangeTimes->{{3.659445701275066*^9, 3.659445734363594*^9}, {
   3.6594460494484997`*^9, 3.6594460501122417`*^9}, {3.659446102550476*^9, 
   3.6594461033827343`*^9}, 3.659446805254889*^9, {3.6594468504590607`*^9, 
   3.6594468507611523`*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.0225`", ",", 
    RowBox[{"-", "0.0375`"}], ",", "0.0525`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{{3.6594457117283783`*^9, 3.659445740023294*^9}, {
   3.659446053018325*^9, 3.6594460692326317`*^9}, 3.659446106291709*^9, {
   3.6594468062459*^9, 3.659446869428879*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"zvecB", " ", "=", " ", 
  RowBox[{"int\[Sigma]", " ", "+", " ", 
   RowBox[{"Inertia", ".", "\[Omega]BRvecB"}]}]}]], "Input",
 CellChangeTimes->{{3.6592718194075403`*^9, 3.659271828253872*^9}, {
   3.659443841966032*^9, 3.6594438612728977`*^9}, {3.659443980470804*^9, 
   3.65944399443045*^9}, {3.6594449058764057`*^9, 3.659444911949094*^9}, 
   3.659445719341874*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"10.0225`", ",", 
    RowBox[{"-", "16.0375`"}], ",", "12.0525`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{
  3.659271836388042*^9, 3.659272133381937*^9, {3.6592730596229277`*^9, 
   3.6592730651336527`*^9}, 3.659273143174204*^9, 3.659273184235652*^9, 
   3.659443862154201*^9, {3.65944398803904*^9, 3.659443994794074*^9}, {
   3.659444914393643*^9, 3.659444960501442*^9}, {3.6594453481926117`*^9, 
   3.65944535166457*^9}, {3.659445720106514*^9, 3.6594457442640963`*^9}, 
   3.659446074961813*^9, 3.659446106314892*^9, {3.659446809350945*^9, 
   3.659446824440884*^9}, 3.659446869452055*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr0", " ", "=", " ", 
  RowBox[{"K", " ", "\[Sigma]BR"}]}]], "Input",
 CellChangeTimes->{{3.659443625326473*^9, 3.65944364008637*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.045`", ",", 
    RowBox[{"-", "0.075`"}], ",", "0.105`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{{3.659443649024254*^9, 3.659443653175352*^9}, 
   3.6594445595704107`*^9, 3.659445181282166*^9, 3.659445542549869*^9, 
   3.6594456067588243`*^9, {3.659446090573595*^9, 3.659446106348282*^9}, {
   3.659446809382622*^9, 3.659446824479536*^9}, 3.659446869485874*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{" ", 
  RowBox[{"Lr1", " ", "=", " ", 
   RowBox[{"Lr0", " ", "+", 
    RowBox[{"P", " ", "\[Omega]BRvecB"}]}]}]}]], "Input",
 CellChangeTimes->{{3.659271856259605*^9, 3.659271890855582*^9}, 
   3.6592731114983807`*^9, {3.659443630478674*^9, 3.659443631412465*^9}, 
   3.659443664750947*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"1.545`", ",", 
    RowBox[{"-", "3.075`"}], ",", "2.355`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{
  3.659271892262298*^9, 3.65927196845271*^9, 3.65927208342839*^9, {
   3.659272117693027*^9, 3.6592721334226418`*^9}, {3.659273059656805*^9, 
   3.6592730651642847`*^9}, 3.6592731432243013`*^9, 3.659273184286241*^9, 
   3.659443672629301*^9, 3.659444559596443*^9, 3.659445181305665*^9, 
   3.65944554258853*^9, 3.659445606795919*^9, {3.6594460915661488`*^9, 
   3.6594461063812227`*^9}, {3.659446809409306*^9, 3.6594468245120296`*^9}, 
   3.659446869519615*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr2", " ", "=", " ", 
  RowBox[{"Lr1", "+", 
   RowBox[{"P", " ", "Ki", " ", "zvecB"}]}]}]], "Input",
 CellChangeTimes->{{3.6592719446361437`*^9, 3.659271963990047*^9}, {
  3.659273113163576*^9, 3.659273116027234*^9}, {3.659273161371725*^9, 
  3.6592731622121277`*^9}, {3.6594437663180857`*^9, 3.659443767486546*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"16.57875`", ",", 
    RowBox[{"-", "27.13125`"}], ",", "20.43375`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{{3.659271956216487*^9, 3.659271969198279*^9}, 
   3.659272084050108*^9, {3.6592721184709167`*^9, 3.6592721334566298`*^9}, {
   3.659273059689149*^9, 3.65927306520444*^9}, {3.6592731432787247`*^9, 
   3.659273184331862*^9}, 3.659443768855814*^9, 3.659443888052506*^9, 
   3.659444559612876*^9, 3.659445181349573*^9, 3.659445542620864*^9, 
   3.659445606827466*^9, {3.659446092386937*^9, 3.659446106413828*^9}, {
   3.65944680944241*^9, 3.6594468245451527`*^9}, 3.659446869551889*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr3", "=", 
  RowBox[{"Lr2", " ", "-", " ", 
   RowBox[{"Cross", "[", 
    RowBox[{
     RowBox[{"\[Omega]RNvecB", " ", "+", " ", 
      RowBox[{"Ki", " ", "zvecB"}]}], ",", 
     RowBox[{"Inertia", ".", "\[Omega]BNvecB"}]}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.659272014868969*^9, 3.659272078534477*^9}, {
  3.6592721239542217`*^9, 3.659272126587508*^9}, {3.659273117412156*^9, 
  3.659273118401187*^9}, {3.6592731653761177`*^9, 3.6592731658263197`*^9}, {
  3.659443904869441*^9, 3.659443915485898*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"16.05521`", ",", 
    RowBox[{"-", "24.927475`"}], ",", "23.759535`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{{3.65927206170304*^9, 3.6592720848860207`*^9}, {
   3.65927211931927*^9, 3.659272133503059*^9}, {3.659273059723317*^9, 
   3.6592730652504*^9}, {3.659273143328114*^9, 3.659273184380588*^9}, 
   3.659443925001444*^9, 3.659444559647422*^9, 3.6594451813823967`*^9, 
   3.65944554265514*^9, 3.659445606849759*^9, {3.659446093160555*^9, 
   3.6594461064498377`*^9}, {3.6594468094768457`*^9, 3.6594468245782137`*^9}, 
   3.659446869584735*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr4", " ", "=", " ", 
  RowBox[{"Lr3", "-", 
   RowBox[{"Inertia", ".", 
    RowBox[{"(", 
     RowBox[{"d\[Omega]RNvecB", " ", "-", " ", 
      RowBox[{"Cross", "[", 
       RowBox[{"\[Omega]BNvecB", ",", "\[Omega]RNvecB"}], "]"}]}], 
     ")"}]}]}]}]], "Input",
 CellChangeTimes->{{3.659272166127743*^9, 3.659272217323757*^9}, {
  3.6592731207183027`*^9, 3.65927312361103*^9}, {3.6592731679674377`*^9, 
  3.659273168501409*^9}, {3.659444018216361*^9, 3.659444025954715*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"15.845209999999998`", ",", 
    RowBox[{"-", "25.187475000000003`"}], ",", "23.607535`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{
  3.659272218623152*^9, {3.6592730597556353`*^9, 3.6592730652833977`*^9}, {
   3.659273143378972*^9, 3.6592731844314737`*^9}, 3.659444032531728*^9, 
   3.659444559680106*^9, 3.659445181417304*^9, 3.659445542687488*^9, 
   3.659445606878951*^9, {3.659446093940138*^9, 3.659446106481286*^9}, {
   3.659446809508525*^9, 3.659446824612*^9}, 3.659446869619323*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr5", "=", 
  RowBox[{"Lr4", "+", "L"}]}]], "Input",
 CellChangeTimes->{{3.659272224325376*^9, 3.659272226154723*^9}, {
  3.6592731255715647`*^9, 3.659273126933976*^9}, {3.659273173350112*^9, 
  3.659273178300562*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"15.845209999999998`", ",", 
    RowBox[{"-", "25.187475000000003`"}], ",", "23.607535`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{
  3.659272227046644*^9, {3.6592730597783823`*^9, 3.659273065316031*^9}, 
   3.6592731434250517`*^9, {3.6592731795434837`*^9, 3.659273184480878*^9}, 
   3.659444039349334*^9, 3.6594445597133007`*^9, 3.659445181447769*^9, 
   3.659445542708585*^9, 3.65944560690306*^9, {3.659446095146027*^9, 
   3.6594461065035353`*^9}, {3.659446809532202*^9, 3.659446824644534*^9}, 
   3.6594468696525908`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Check", "Subsection",
 CellChangeTimes->{{3.659272705214184*^9, 3.659272705686051*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"zvecB", "-", 
  RowBox[{"{", 
   RowBox[{"10.0225", ",", 
    RowBox[{"-", "16.0375"}], ",", "12.0525"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.65927271003967*^9, 3.659272731401754*^9}, {
   3.6594453242683783`*^9, 3.659445341345069*^9}, 3.65944559852363*^9, 
   3.659446141965179*^9, 3.659446909740901*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.`", ",", "0.`", ",", "0.`"}], "}"}], TraditionalForm]], "Output",\

 CellChangeTimes->{{3.659272717310577*^9, 3.659272723640752*^9}, 
   3.659273072261969*^9, 3.6594449402526207`*^9, {3.6594453420937233`*^9, 
   3.65944535450768*^9}, {3.659445599785161*^9, 3.65944560931397*^9}, 
   3.6594461065403757`*^9, 3.65944614281885*^9, 3.6594468246793137`*^9, 
   3.659446910935156*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr0", " ", "-", " ", 
  RowBox[{"{", 
   RowBox[{"0.045", ",", 
    RowBox[{"-", "0.075"}], ",", "0.105"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.659445367228479*^9, 3.65944537852035*^9}, 
   3.6594469223409443`*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.`", ",", "0.`", ",", "0.`"}], "}"}], TraditionalForm]], "Output",\

 CellChangeTimes->{3.6594453791596813`*^9, 3.6594461065725317`*^9, 
  3.659446824712551*^9, 3.659446923795079*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr1", "-", 
  RowBox[{"{", 
   RowBox[{"1.545", ",", 
    RowBox[{"-", "3.075"}], ",", "2.355"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.659273186364489*^9, 3.6592731953755827`*^9}, 
   3.659445390795643*^9, 3.659446938283004*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.`", ",", "0.`", ",", "0.`"}], "}"}], TraditionalForm]], "Output",\

 CellChangeTimes->{3.659273195772739*^9, 3.659444940375784*^9, 
  3.659445392087446*^9, 3.659446106604763*^9, 3.65944682474594*^9, 
  3.659446939376349*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr2", "-", 
  RowBox[{"{", 
   RowBox[{"16.57875", ",", 
    RowBox[{"-", "27.13125"}], ",", "20.43375"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.6592731976706676`*^9, 3.659273206058498*^9}, 
   3.659445400707285*^9, 3.6594469530772676`*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.`", ",", "0.`", ",", "0.`"}], "}"}], TraditionalForm]], "Output",\

 CellChangeTimes->{
  3.659273212295128*^9, 3.659444940417581*^9, 3.659445401780479*^9, 
   3.659446106630021*^9, 3.6594468247793703`*^9, {3.659446942735402*^9, 
   3.65944695406688*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr3", "-", 
  RowBox[{"{", 
   RowBox[{"16.05521", ",", 
    RowBox[{"-", "24.927475"}], ",", "23.759535"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.659273214399804*^9, 3.65927322286233*^9}, 
   3.659445412036545*^9, {3.659445509236457*^9, 3.6594455095089903`*^9}, 
   3.659446963765231*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"0.`", ",", "0.`", ",", "0.`"}], "}"}], TraditionalForm]], "Output",\

 CellChangeTimes->{3.659273223785355*^9, 3.6594449404503*^9, 
  3.659445415590588*^9, 3.659445510442947*^9, 3.6594461066640663`*^9, 
  3.659446824811138*^9, 3.6594469645923347`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr4", "-", 
  RowBox[{"{", 
   RowBox[{"15.84521", ",", 
    RowBox[{"-", "25.187475"}], ",", "23.607535"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.6592732264971657`*^9, 3.659273234480751*^9}, 
   3.6594455247321253`*^9, 3.6594469736544247`*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{
    RowBox[{"-", "1.7763568394002505`*^-15"}], ",", 
    RowBox[{"-", "3.552713678800501`*^-15"}], ",", "0.`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{3.659273234923045*^9, 3.659444940485606*^9, 
  3.659445525518162*^9, 3.659446106696978*^9, 3.659446824844482*^9, 
  3.659446974441454*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Lr5", "-", 
  RowBox[{"{", 
   RowBox[{"15.84521", ",", 
    RowBox[{"-", "25.187475"}], ",", "23.607535"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.659273236827339*^9, 3.659273250163566*^9}, 
   3.659445534092564*^9, 3.6594469812599373`*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{
    RowBox[{"-", "1.7763568394002505`*^-15"}], ",", 
    RowBox[{"-", "3.552713678800501`*^-15"}], ",", "0.`"}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{3.659273250498723*^9, 3.659444940517416*^9, 
  3.659445534912324*^9, 3.659446106730999*^9, 3.659446824870185*^9, 
  3.6594469817510853`*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{758, 1098},
WindowMargins->{{369, Automatic}, {Automatic, 79}},
FrontEndVersion->"10.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (October 9, \
2015)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 169, 2, 92, "Title"],
Cell[CellGroupData[{
Cell[774, 28, 90, 1, 64, "Section"],
Cell[867, 31, 132, 2, 28, "Input"],
Cell[1002, 35, 817, 19, 114, "Input"],
Cell[CellGroupData[{
Cell[1844, 58, 427, 11, 28, "Input"],
Cell[2274, 71, 687, 19, 64, "Output"]
}, Open  ]],
Cell[2976, 93, 1239, 38, 114, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4252, 136, 259, 3, 64, "Section"],
Cell[CellGroupData[{
Cell[4536, 143, 116, 1, 44, "Subsection"],
Cell[4655, 146, 168, 4, 28, "Input"],
Cell[CellGroupData[{
Cell[4848, 154, 284, 5, 28, "Input"],
Cell[5135, 161, 286, 7, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5458, 173, 392, 7, 28, "Input"],
Cell[5853, 182, 570, 11, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[6460, 198, 158, 3, 28, "Input"],
Cell[6621, 203, 360, 8, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7018, 216, 314, 7, 28, "Input"],
Cell[7335, 225, 562, 12, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7934, 242, 341, 6, 28, "Input"],
Cell[8278, 250, 584, 11, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8899, 266, 535, 11, 28, "Input"],
Cell[9437, 279, 561, 11, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[10035, 295, 500, 11, 28, "Input"],
Cell[10538, 308, 482, 10, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[11057, 323, 242, 5, 28, "Input"],
Cell[11302, 330, 506, 11, 28, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[11857, 347, 93, 1, 44, "Subsection"],
Cell[CellGroupData[{
Cell[11975, 352, 249, 6, 28, "Input"],
Cell[12227, 360, 310, 7, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12574, 372, 215, 5, 28, "Input"],
Cell[12792, 379, 189, 5, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13018, 389, 234, 6, 28, "Input"],
Cell[13255, 397, 232, 6, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13524, 408, 237, 6, 28, "Input"],
Cell[13764, 416, 232, 6, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14033, 427, 281, 6, 28, "Input"],
Cell[14317, 435, 300, 7, 35, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14654, 447, 238, 6, 28, "Input"],
Cell[14895, 455, 254, 6, 35, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[15186, 466, 234, 6, 28, "Input"],
Cell[15423, 474, 254, 6, 35, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[15738, 487, 310, 4, 64, "Section"],
Cell[CellGroupData[{
Cell[16073, 495, 116, 1, 44, "Subsection"],
Cell[16192, 498, 218, 4, 28, "Input"],
Cell[CellGroupData[{
Cell[16435, 506, 365, 6, 28, "Input"],
Cell[16803, 514, 344, 8, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[17184, 527, 392, 7, 28, "Input"],
Cell[17579, 536, 662, 13, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[18278, 554, 158, 3, 28, "Input"],
Cell[18439, 559, 435, 9, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[18911, 573, 314, 7, 28, "Input"],
Cell[19228, 582, 633, 13, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[19898, 600, 341, 6, 28, "Input"],
Cell[20242, 608, 662, 12, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[20941, 625, 535, 11, 28, "Input"],
Cell[21479, 638, 619, 12, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[22135, 655, 500, 11, 28, "Input"],
Cell[22638, 668, 561, 11, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[23236, 684, 242, 5, 28, "Input"],
Cell[23481, 691, 595, 12, 28, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[24125, 709, 93, 1, 44, "Subsection"],
Cell[CellGroupData[{
Cell[24243, 714, 334, 7, 28, "Input"],
Cell[24580, 723, 432, 9, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[25049, 737, 243, 6, 28, "Input"],
Cell[25295, 745, 236, 6, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[25568, 756, 256, 6, 28, "Input"],
Cell[25827, 764, 278, 7, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[26142, 776, 267, 6, 28, "Input"],
Cell[26412, 784, 309, 8, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[26758, 797, 316, 7, 28, "Input"],
Cell[27077, 806, 303, 7, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[27417, 818, 271, 6, 28, "Input"],
Cell[27691, 826, 361, 9, 35, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[28089, 840, 267, 6, 28, "Input"],
Cell[28359, 848, 363, 9, 35, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
