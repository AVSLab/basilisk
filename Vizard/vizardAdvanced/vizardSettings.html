

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BSK Scripting Settings &mdash; Basilisk 2.8.3
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=57a44e8a" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5e07a493"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=3cd7d658"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Command Line Launching" href="vizardCommandLine.html" />
    <link rel="prev" title="Advanced Features" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Basilisk
              <img src="../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Learn.html">Learning Basilisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supportData.html">Support Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ExternalSites.html">External Sites</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../VizardGUI.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Advanced Features</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">BSK Scripting Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#listing-of-all-bsk-scriptable-vizard-settings">Listing of all BSK Scriptable Vizard Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-settings">General Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-actuator-gui-options">Setting Actuator GUI Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-instrument-gui-options">Setting Instrument GUI Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#defining-a-pointing-line">Defining a Pointing Line</a></li>
<li class="toctree-l4"><a class="reference internal" href="#defining-keep-in-out-cones">Defining Keep In/Out Cones</a></li>
<li class="toctree-l4"><a class="reference internal" href="#defining-the-vizard-camera-view-panels">Defining the Vizard Camera View Panels</a></li>
<li class="toctree-l4"><a class="reference internal" href="#defining-the-custom-spacecraft-shape-model">Defining the Custom Spacecraft Shape model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-spacecraft-sprite-representation">Specifying the Spacecraft Sprite Representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-simulation-epoch-date-and-time-information">Specifying the Simulation Epoch Date and Time Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-reaction-wheel-rw-information">Specifying Reaction Wheel (RW) Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-css-information">Specifying CSS Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-thruster-information">Specifying Thruster Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-location-or-communication-stations">Adding Location or Communication Stations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-generic-sensor-visualization">Adding Generic Sensor Visualization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-transceiver-visualization">Adding Transceiver Visualization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-storage-device-panel">Adding Storage Device Panel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-spacecraft-light-devices">Adding Spacecraft Light Devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-spacecraft-cad-model-to-use">Specifying the Spacecraft CAD Model to use</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-celestial-object-cad-model-to-use">Specifying the Celestial Object CAD Model to Use</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-osculating-or-true-orbit-line-colors">Specifying the Osculating or True Orbit Line Colors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-ellipsoid-objects-to-a-spacecraft-location">Adding Ellipsoid Objects to a Spacecraft Location</a></li>
<li class="toctree-l4"><a class="reference internal" href="#displaying-time-varying-components-of-a-spacecraft">Displaying Time Varying Components of a Spacecraft</a></li>
<li class="toctree-l4"><a class="reference internal" href="#displaying-multi-sphere-model-msm-charging-information">Displaying Multi-Sphere-Model (MSM) Charging Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-surface-highlighting-using-quadmaps">Adding Surface Highlighting using QuadMaps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vizardCommandLine.html">Command Line Launching</a></li>
<li class="toctree-l2"><a class="reference internal" href="vizardCustomModels.html">Custom Unity Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="vizardLiveComm.html">Live Communication with Vizard</a></li>
<li class="toctree-l2"><a class="reference internal" href="vizardLiveComm.html#livestream-mode"><code class="docutils literal notranslate"><span class="pre">liveStream</span></code> Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="vizardLiveComm.html#broadcaststream-mode"><code class="docutils literal notranslate"><span class="pre">broadcastStream</span></code> Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="vizardLiveComm.html#nodisplay-mode"><code class="docutils literal notranslate"><span class="pre">noDisplay</span></code> Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="vizardLiveComm.html#pausing-exiting-a-scenario">Pausing/Exiting a Scenario</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vizardGallery.html">Video Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #CFB87C" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Basilisk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Advanced Features</a></li>
      <li class="breadcrumb-item active">BSK Scripting Settings</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Vizard/vizardAdvanced/vizardSettings.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bsk-scripting-settings">
<span id="vizardsettings"></span><h1>BSK Scripting Settings<a class="headerlink" href="#bsk-scripting-settings" title="Link to this heading"></a></h1>
<a class="reference internal image-reference" href="../../_images/basiliskVizardLogo.png"><img alt="../../_images/basiliskVizardLogo.png" class="align-right" src="../../_images/basiliskVizardLogo.png" style="width: 251.0px; height: 224.5px;" />
</a>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="../Vizard.html#vizard"><span class="std std-ref">About Vizard</span></a> Unity-based visualization can have its
settings scripted from a Basilisk python simulation script. This allows
the user to write a BSK simulation script and specify in the same script
what Vizard options should be used. Within Vizard the user can change
these gain if needed. The BSK scripted Vizard settings are only used
once at the beginning of the playback.</p>
<p>When calling the <code class="docutils literal notranslate"><span class="pre">enableUnityVisualization</span></code> macro method a copy of the
vizInterface module is returned. All scriptable Vizard settings are
stored inside the <code class="docutils literal notranslate"><span class="pre">settings</span></code> variable. For example, to set the Vizard
ambient lighting the following code is used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span><span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span><span class="p">)</span>
<span class="n">viz</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">ambient</span> <span class="o">=</span> <span class="mf">0.5</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">scObject</span></code> is a <a class="reference internal" href="../../Documentation/simulation/dynamics/spacecraft/spacecraft.html#spacecraft"><span class="std std-ref">Module: spacecraft</span></a> instance.  This can also be a list of spacecraft objects
for a multi-satellite simulation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject1</span><span class="p">,</span> <span class="n">scObject2</span><span class="p">,</span> <span class="n">scObject3</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span><span class="p">)</span>
</pre></div>
</div>
<p>The spacecraft names are pulled from <code class="docutils literal notranslate"><span class="pre">scObject.ModelTag</span></code>.
If a setting is not provided, then the Vizard
defaults are used. This allows the user to specify just a few or a lot
of settings, as is appropriate.</p>
</section>
<section id="listing-of-all-bsk-scriptable-vizard-settings">
<h2>Listing of all BSK Scriptable Vizard Settings<a class="headerlink" href="#listing-of-all-bsk-scriptable-vizard-settings" title="Link to this heading"></a></h2>
<p>The following list contains the optional Vizard settings that can be
specified. Only the settings used will be applied to Vizard. If a
variable below is not specified, then it is not applied to Vizard and
the Vizard default values are used.</p>
<section id="general-settings">
<h3>General Settings<a class="headerlink" href="#general-settings" title="Link to this heading"></a></h3>
<p>The following settings can be set directly using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">variableName</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
<p>Note that for setting flags 1 means turn on, -1 means turn off, and a setting of 0 tells Vizard to use its own
default setting for that behavior.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Vizard Simulation Parameters Read at Start Up</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 10.0%" />
<col style="width: 10.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Labels</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showCSLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the coordinate system labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showSpacecraftLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the spacecraft labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showCameraLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the camera labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showLightLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the light labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showCelestialBodyLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the celestial body labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showLocationLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) labels for a celestial body or spacecraft location. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showQuadMapLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) labels for QuadMap regions. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Coordinate Frame Settings</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">spacecraftCSon</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the spacecraft coordinate axes. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">planetCSon</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the planet coordinate axes. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showHillFrame</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the orbit Hill frame of the spacecraft camera target. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showVelocityFrame</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the orbit velocity frame of the spacecraft camera target. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Orbit Line Settings</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">orbitLinesOn</span></code></p></td>
<td><p>(-1,0,1,2)</p></td>
<td><p>Toggle to show osculating orbit lines. Value of 0 (protobuffer default) to use viz default,
-1 for false, 1 for relative to parent body, 2 for relative to chief spacecraft body.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">orbitLineSegments</span></code></p></td>
<td><p>int</p></td>
<td><p>Number of line segments to use when drawing an osculating trajectory. Value of 0 (protobuffer default)
to use viz default or any value greater than or equal to 4.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">relativeOrbitRange</span></code></p></td>
<td><p>int</p></td>
<td><p>+/- Angular range in degrees of the osculating trajectory to show. Value of 0 (protobuffer default) to use
viz default or any value greater than or equal to 1.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">relativeOrbitFrame</span></code></p></td>
<td><p>(0,1,2)</p></td>
<td><p>Flag to set with respect to which frame the spacecraft relative orbit trajectory is drawn. Value of 0 (protobuffer default) or 1 to use Hill Frame, 2 to use Velocity Frame.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">trueTrajectoryLinesOn</span></code></p></td>
<td><p>(-1,0,1,2,3,4,5)</p></td>
<td><p>Toggle to show true orbit lines. Value of 0 (protobuffer default) to use viz default, -1 for false, 1 to use inertial positions, 2 for relative to chief spacecraft body, 3 for relative to a celestial body, 4 for rotating frame of two celestial bodies, 5 for fixed frame of spacecraft or celestial body.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">truePathRelativeBody</span></code></p></td>
<td><p>string</p></td>
<td><p>String of the celestial body name to plot the true path trajectory line[s] against, empty string to use the spacecraft’s primary body.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">truePathRotatingFrame</span></code></p></td>
<td><p>string</p></td>
<td><p>String must contain the names of two distinct celestial bodies, separated by a space, to define the desired rotating frame for plotting true path trajectories.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">truePathFixedFrame</span></code></p></td>
<td><p>string</p></td>
<td><p>String of the spacecraft or celestial body name whose rotation matrix will provide the fixed frame to plot the true path trajectory against.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Spacecraft Settings</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">viewCameraBoresightHUD</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the camera boresight line. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">viewCameraConeHUD</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the camera cone. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">defaultThrusterColor</span></code></p></td>
<td><p>int(4)</p></td>
<td><p>RGBA color values between (0,255).  Default values of -1 makes Vizard use the default thruster plume color
You can use <code class="docutils literal notranslate"><span class="pre">vizSupport.toRGBA255(&quot;red&quot;)</span></code> to convert common color names to RGBA values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">defaultThrusterPlumeLifeScalar</span></code></p></td>
<td><p>double</p></td>
<td><p>Value of 1.0 or 0.0 to use viz default, values between 0 and 1 will decrease the length of all thruster plumes,
&gt;1 will increase lengths of all thruster plumes.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Sprites</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">defaultSpacecraftSprite</span></code></p></td>
<td><p>string</p></td>
<td><p>Set sprite for ALL spacecraft through shape name and optional int RGB color values [0,255].
Possible settings: <code class="docutils literal notranslate"><span class="pre">CIRCLE</span></code>, <code class="docutils literal notranslate"><span class="pre">SQUARE</span></code>, <code class="docutils literal notranslate"><span class="pre">STAR</span></code>, <code class="docutils literal notranslate"><span class="pre">TRIANGLE</span></code> or <code class="docutils literal notranslate"><span class="pre">bskSat</span></code> for a 2D spacecraft
sprite of the bskSat shape.  Default value is empty yielding a white <code class="docutils literal notranslate"><span class="pre">CIRCLE</span></code>.
To set this in python, use the helper function <code class="docutils literal notranslate"><span class="pre">vizSupport.setSprite(&quot;STAR&quot;,</span> <span class="pre">color=&quot;red&quot;)</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showSpacecraftAsSprites</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show spacecraft as sprites if their visual size gets too small (1). Value of -1 or 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showCelestialBodiesAsSprites</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show celestial bodies as sprites if their visual size gets too small (1). Value of -1 or 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Location Settings</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showLocationCones</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) a cone protruding from a celestial body or spacecraft location. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showLocationCommLines</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) a line when a spacecraft enters the FOV of a ground station or another spacecraft. Value of 0 (protobuffer default) to use viz default. These can become computationally expensive because they perform ray casting, so if obstruction detection is not necessary it would be easier to use target lines (see live settings table).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">useSimpleLocationMarkers</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to use simplified Location markers (no cones, range, or communication lines) when the number of locations is greater than 100 (1), or force use of full-featured Location (-1). Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>View Settings</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">skyBox</span></code></p></td>
<td><p>String</p></td>
<td><p>Used determine what star background should be shown. The empty string “” provides default NASA SVS Starmap,
“ESO” shows the ESO Milky Way skybox, “black” provides a black background, or the user can provide a
filepath to custom background image file.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">atmospheresOff</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to disable the atmosphere effect on celestial bodies (1). Value of -1 or 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">forceStartAtSpacecraftLocalView</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to force Vizard to initialize in spacecraft-view on start up (1). Value of -1 or 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">spacecraftSizeMultiplier</span></code></p></td>
<td><p>double</p></td>
<td><p>Control the display size of spacecraft in the Planet View, values greater than 0,
use negative value to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scViewToPlanetViewBoundaryMultiplier</span></code></p></td>
<td><p>int</p></td>
<td><p>Multiplier x 1000m to set the boundary at which the spacecraft local view transitions to planet view.
Valid range from 1 to 10 or 0 to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">spacecraftHelioViewSizeMultiplier</span></code></p></td>
<td><p>double</p></td>
<td><p>Control the display size of spacecraft in the Solar System View, values greater than 0, use negative
value to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">planetViewToHelioViewBoundaryMultiplier</span></code></p></td>
<td><p>int</p></td>
<td><p>Multiplier x (10000 * current planet local scale) at which the planet view transitions to the solar
system view. Valid range from 1 to 10 or 0 to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">celestialBodyHelioViewSizeMultiplier</span></code></p></td>
<td><p>double</p></td>
<td><p>Control the display size of celestial bodies in the Solar System View,
values greater than 0, use negative value to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">spacecraftOrbitLineWidth</span></code></p></td>
<td><p>double</p></td>
<td><p>Values greater than 0 to scale spacecraft orbit line width, value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">celestialBodyOrbitLineWidth</span></code></p></td>
<td><p>double</p></td>
<td><p>Values greater than 0 to scale celestial body orbit line width, value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Lighting Settings</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ambient</span></code></p></td>
<td><p>double</p></td>
<td><p>Float value between 0.0 and 1.0 to specify the ambient Vizard lighting.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">spacecraftShadowBrightness</span></code></p></td>
<td><p>double</p></td>
<td><p>Control the ambient light specific to spacecraft objects, value between 0 and 1, use negative value
to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sunIntensity</span></code></p></td>
<td><p>double</p></td>
<td><p>Multiplier for the intensity of the light being used as the main light source or sun, value of 0 to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">attenuateSunLightWithDistance</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to reduce brightness of sun lighting with the square of the distance from the sun (1). Value of -1 or 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Main Camera Settings</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mainCameraTarget</span></code></p></td>
<td><p>string</p></td>
<td><p>If valid spacecraft or celestial body name is provided, the main camera will be targeted at
that body at start.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">keyboardAngularRate</span></code></p></td>
<td><p>pos. double</p></td>
<td><p>Non-dimensional angular rate at which the camera rotates with keyboard hot-keys.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">keyboardZoomRate</span></code></p></td>
<td><p>pos. double</p></td>
<td><p>Non-dimensional speed at which the camera zooms in and out with keyboard hot-keys.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Playback Settings</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">messageBufferSize</span></code></p></td>
<td><p>int</p></td>
<td><p>[bytes] Maximum size of vizMessages to be loaded into memory at one time,
-1 to force loading of entire file into memory, 0 to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>GUI Settings</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">customGUIReferenceHeight</span></code></p></td>
<td><p>pos. double</p></td>
<td><p>[pixels] GUI height in pixels, must be &gt; 300. Use 0 or -1 for viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">show24hrClock</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to make mission date/time use a 24h clock instead of a 12h clock with AM/PM (1). Value of -1 or 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showDataRateDisplay</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show (1) or hide (-1) the data rate. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showMissionTime</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>Flag to show the mission time instead of the simulation time (1). Value of -1 or 0 (protobuffer default)
to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Live Communication Settings</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">keyboardLiveInput</span></code></p></td>
<td><p>string</p></td>
<td><p>String of alphanumeric key inputs to listen for during 2-way communication.</p></td>
</tr>
</tbody>
</table>
<p>While the prior settings are only read once during start up, the following settings are checked
with every message being sent.  The following live settings can be set directly using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span><span class="o">.</span><span class="n">liveSettings</span><span class="o">.</span><span class="n">variableName</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Vizard Simulation Parameters Read Live</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 10.0%" />
<col style="width: 10.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">targetLineList</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;PointLine&gt;</span></code></p></td>
<td><p>vector of lines between 2 scenario targets.  This list is redrawn on each update step,
thus the line properties can change with time.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">relativeOrbitChief</span></code></p></td>
<td><p>string</p></td>
<td><p>If valid spacecraft name provided, the relative orbit chief spacecraft will be set to that spacecraft
object. Setting the string to <code class="docutils literal notranslate"><span class="pre">AUTO</span></code> or leaving this field empty will select the camera target
spacecraft as the chief.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">terminateVizard</span></code></p></td>
<td><p>bool</p></td>
<td><p>If true, Vizard application will immediately shut down and exit</p></td>
</tr>
</tbody>
</table>
</section>
<section id="setting-actuator-gui-options">
<h3>Setting Actuator GUI Options<a class="headerlink" href="#setting-actuator-gui-options" title="Link to this heading"></a></h3>
<p>To specify the actuator GUI settings use the <code class="docutils literal notranslate"><span class="pre">setActuatorGuiSetting</span></code>
helper method in Python. An example is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vizSupport</span><span class="o">.</span><span class="n">setActuatorGuiSetting</span><span class="p">(</span><span class="n">viz</span><span class="p">,</span> <span class="n">viewRWPanel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">viewRWHUD</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The following table includes the keyword options for this method.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">GUI Parameter Options</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 7.1%" />
<col style="width: 7.1%" />
<col style="width: 14.3%" />
<col style="width: 71.4%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">viewThrusterPanel</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) the thruster panel. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">viewThrusterHUD</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) the thruster particle streams. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showThrusterLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) the thruster labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">viewRWPanel</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) the reaction wheel panel. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">viewRWHUD</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) the reaction wheel disks configuration outside the spacecraft. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showRWLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) the reaction wheel labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">spacecraftName</span></code></p></td>
<td><p>string</p></td>
<td><p>No, sc name default</p></td>
<td><p>Specify which spacecraft should show actuator information. If not provided then
the <code class="docutils literal notranslate"><span class="pre">viz.spacecraftName</span></code> is used.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="setting-instrument-gui-options">
<h3>Setting Instrument GUI Options<a class="headerlink" href="#setting-instrument-gui-options" title="Link to this heading"></a></h3>
<p>To specify the instrument GUI settings use the <code class="docutils literal notranslate"><span class="pre">setInstrumentGuiSetting</span></code>
helper method in Python. An example is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vizSupport</span><span class="o">.</span><span class="n">setInstrumentGuiSetting</span><span class="p">(</span><span class="n">viz</span><span class="p">,</span> <span class="n">viewCSSPanel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">viewCSSCoverage</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The following table includes the keyword options for this method.</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">GUI Parameter Options</span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 7.1%" />
<col style="width: 7.1%" />
<col style="width: 14.3%" />
<col style="width: 71.4%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">viewCSSPanel</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) the CSS panel. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">viewCSSCoverage</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) the CSS coverage spheres. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">viewCSSBoresight</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) the CSS boresight axes. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showCSSLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) the CSS labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">spacecraftName</span></code></p></td>
<td><p>string</p></td>
<td><p>No, sc name default</p></td>
<td><p>Specify which spacecraft should show actuator information. If not provided then
the <code class="docutils literal notranslate"><span class="pre">viz.spacecraftName</span></code> is used.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showGenericSensorLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) generic sensor labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showTransceiverLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) transceiver labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showTransceiverFrustrum</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) transceiver frustums. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showGenericStoragePanel</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) generic storage panels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showMultiShapeLabels</span></code></p></td>
<td><p>(-1,0,1)</p></td>
<td><p>No</p></td>
<td><p>Show (1) or hide (-1) MultiShape labels. Value of 0 (protobuffer default) to use viz default.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="defining-a-pointing-line">
<h3>Defining a Pointing Line<a class="headerlink" href="#defining-a-pointing-line" title="Link to this heading"></a></h3>
<p>Vizard can create a heading line from one object to another. For
example, it might be handy to create a line from the spacecraft pointing
towards the sun direction, or from the spacecraft towards Earth to know
how the antennas should point. These pointing lines can be scripted from
Basilisk as well using using a helper function <code class="docutils literal notranslate"><span class="pre">createPointLine()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>viz = vizSupport.enableUnityVisualization(scSim, simTaskName, scObject, saveFile=fileName)
vizSupport.createPointLine(viz, toBodyName=&#39;earth_planet_data&#39;, lineColor=[0, 0, 255, 255])
vizSupport.createPointLine(viz, toBodyName=“sun_planet_data”, lineColor=“yellow”)]
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">createPointLine</span></code> support macro requires the parameters <code class="docutils literal notranslate"><span class="pre">toBodyName</span></code> and <code class="docutils literal notranslate"><span class="pre">lineColor</span></code> to be
defined. The parameter <code class="docutils literal notranslate"><span class="pre">fromBodyName</span></code> is optional. If it is not
specified, then the <code class="docutils literal notranslate"><span class="pre">viz.spacecraftName</span></code> is used as a default origin.
The <code class="docutils literal notranslate"><span class="pre">lineColor</span></code> state can be either a string containing the color
name, or a list containing RGBA values. The support macro converts this
into the required set of numerical values.</p>
<p>Each pointing line message contains the three variables listed in the
next table.</p>
<table class="docutils align-default" id="id5">
<caption><span class="caption-text">Pointing Line Parameter Options</span><a class="headerlink" href="#id5" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 7.7%" />
<col style="width: 7.7%" />
<col style="width: 7.7%" />
<col style="width: 76.9%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fromBodyName</span></code></p></td>
<td><p>string</p></td>
<td><p>No, sc name default</p></td>
<td><p>contains the name of the originating body</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">toBodyName</span></code></p></td>
<td><p>string</p></td>
<td><p>Yes</p></td>
<td><p>contains the name of the body to point towards</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lineColor</span></code></p></td>
<td><p>int(4)</p></td>
<td><p>Yes</p></td>
<td><p>color name or array on integer values specifying the RGBA values between 0 to 255</p></td>
</tr>
</tbody>
</table>
</section>
<section id="defining-keep-in-out-cones">
<h3>Defining Keep In/Out Cones<a class="headerlink" href="#defining-keep-in-out-cones" title="Link to this heading"></a></h3>
<p>Vizard can create cones relative to the spacecraft which illustrated if
a body axis is within some angle to the sun (i.e. keep in cone), or if a
sensor axis is outside some angle to the sun (i.e. keep out cone). These
cones can be setup in Vizard, but can also be scripted from Basilisk
using the helper function <code class="docutils literal notranslate"><span class="pre">createConeInOut</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>viz = vizSupport.enableUnityVisualization(scSim, simTaskName, scObject, saveFile=fileName)
vizSupport.createConeInOut(viz, toBodyName=&#39;earth&#39;, coneColor=&#39;teal&#39;,
                       normalVector_B=[1, 0, 0], incidenceAngle=30\ macros.D2R, isKeepIn=True,
                       coneHeight=5.0, coneName=‘sensorCone’)
vizSupport.createConeInOut(viz,toBodyName=&#39;earth&#39;, coneColor=&#39;blue&#39;, normalVector_B=[0, 1, 0],
                       incidenceAngle=30\ macros.D2R, isKeepIn=False, coneHeight=5.0, coneName=‘comCone’)]
</pre></div>
</div>
<p>The following table illustrates the
arguments for the <code class="docutils literal notranslate"><span class="pre">createConeInOut</span></code> method:</p>
<table class="docutils align-default" id="id6">
<caption><span class="caption-text">Keep In/Out Cones Parameter Options</span><a class="headerlink" href="#id6" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 13.3%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isKeepIn</span></code></p></td>
<td><p>bool</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>make cone keep in (True) or keep out (False)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fromBodyName</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No, sc name default</p></td>
<td><p>contains the name of the originating body</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">toBodyName</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>contains the name of the body to point towards</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lineColor</span></code></p></td>
<td><p>int(4)</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>color name or array on integer values specifying the RGBA  values between 0 to 255</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">position_B</span></code></p></td>
<td><p>float(3)</p></td>
<td><p>m</p></td>
<td><p>No, (0,0,0) default</p></td>
<td><p>position of the cone vertex</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">normalVector_B</span></code></p></td>
<td><p>float(3)</p></td>
<td><p>m</p></td>
<td><p>Yes</p></td>
<td><p>normal axis of the cone in body frame components</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">incidenceAngle</span></code></p></td>
<td><p>float</p></td>
<td><p>rad</p></td>
<td><p>Yes</p></td>
<td><p>angle of the cone</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">incidenceAngle</span></code></p></td>
<td><p>float</p></td>
<td><p>rad</p></td>
<td><p>Yes</p></td>
<td><p>height of the cone</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">coneName</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No</p></td>
<td><p>cone label name, if unspecified viz will autogenerate name</p></td>
</tr>
</tbody>
</table>
</section>
<section id="defining-the-vizard-camera-view-panels">
<h3>Defining the Vizard Camera View Panels<a class="headerlink" href="#defining-the-vizard-camera-view-panels" title="Link to this heading"></a></h3>
<p>Vizard can create a spacecraft relative camera panel. This functionality can be
controlled by using the <code class="docutils literal notranslate"><span class="pre">createStandardCamera</span></code> helper method.  The camera can
point in a body-fixed direction (<code class="docutils literal notranslate"><span class="pre">setMode=1</span></code>), or be aimed at a celestial target
(<code class="docutils literal notranslate"><span class="pre">setMode=0</span></code>).  Multiple camera panels can be setup at the same time, and
they can be attached to different spacecraft through the <code class="docutils literal notranslate"><span class="pre">spacecraftName</span></code> argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span><span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span><span class="p">)</span>
<span class="n">vizSupport</span><span class="o">.</span><span class="n">createStandardCamera</span><span class="p">(</span><span class="n">viz</span><span class="p">,</span> <span class="n">setMode</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">bodyTarget</span><span class="o">=</span><span class="s1">&#39;earth&#39;</span><span class="p">,</span> <span class="n">setView</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">vizSupport</span><span class="o">.</span><span class="n">createStandardCamera</span><span class="p">(</span><span class="n">viz</span><span class="p">,</span> <span class="n">setMode</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fieldOfView</span><span class="o">=</span><span class="mf">60.</span><span class="o">*</span><span class="n">macros</span><span class="o">.</span><span class="n">D2R</span><span class="p">,</span> <span class="n">pointingVector_B</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
</pre></div>
</div>
<p>The following table illustrates
the arguments for the <code class="docutils literal notranslate"><span class="pre">createStandardCamera</span></code> method.</p>
<table class="docutils align-default" id="id7">
<caption><span class="caption-text">Standard Camera View Panel Parameter Options</span><a class="headerlink" href="#id7" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 15.0%" />
<col style="width: 10.0%" />
<col style="width: 10.0%" />
<col style="width: 15.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">spacecraftName</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No, sc name default</p></td>
<td><p>name of the spacecraft with respect to which the camera is shown</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setMode</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No, default is 1</p></td>
<td><p>0 -&gt; body targeting, 1 -&gt; pointing vector</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showHUDElementsInImage</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Shows HUD elements within image frame. Value of 0 (protobuffer default) to use viz default, -1 for false, 1 for true</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setView</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No, default is 0</p></td>
<td><p>0 -&gt; Nadir, 1 -&gt; Orbit Normal, 2 -&gt; Along Track (default to nadir). This is a setting for body targeting mode.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bodyTarget</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No, default to first celestial body in messages</p></td>
<td><p>Name of body camera should point to. This is a setting for body targeting mode.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fieldOfView</span></code></p></td>
<td><p>float</p></td>
<td><p>rad</p></td>
<td><p>No, default is -1</p></td>
<td><p>camera edge-to-edge field of view in the camera vertical <code class="docutils literal notranslate"><span class="pre">y</span></code> axis, to use the Vizard default set it to -1</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pointingVector_B</span></code></p></td>
<td><p>float(3)</p></td>
<td></td>
<td><p>No, default is (0,0,0) for auto placement</p></td>
<td><p>Name of body camera should point to. This is a setting for pointing vector mode</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">position_B</span></code></p></td>
<td><p>float(3)</p></td>
<td><p>m</p></td>
<td><p>No, default is (0,0,0) for auto placement</p></td>
<td><p>If populated, ets camera  position relative to parent body coordinate frame in meters using B frame
components.  If unpopulated camera is positioned automatically along camera view direction outside
of parent body’s mesh to prevent obstruction of view.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">displayName</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No, Default is <code class="docutils literal notranslate"><span class="pre">Standard</span> <span class="pre">Camera</span></code></p></td>
<td><p>(optional) name that is used to label the camera window</p></td>
</tr>
</tbody>
</table>
<a class="reference internal image-reference" href="../../_images/vizard-ImgCustomCam.jpg"><img alt="../../_images/vizard-ImgCustomCam.jpg" class="align-center" src="../../_images/vizard-ImgCustomCam.jpg" style="width: 90%;" />
</a>
<p>It is also possible to create one or more custom instrument camera view for <code class="docutils literal notranslate"><span class="pre">opNav</span></code> mode which points in an
arbitrary direction as illustrate in the image above. Such a camera can be created first creating the camera
configuration message <code class="docutils literal notranslate"><span class="pre">camMsg</span></code> of type <a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/CameraConfigMsgPayload.html#cameraconfigmsgpayload"><span class="std std-ref">CameraConfigMsgPayload</span></a> and then adding this to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>
through the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span><span class="p">)</span>
<span class="n">viz</span><span class="o">.</span><span class="n">addCamMsgToModule</span><span class="p">(</span><span class="n">camMsg</span><span class="p">)</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">addCamMsgToModule()</span></code> is called multiple times then multiple Vizard instrument cameras are created.</p>
<p>The following helper method is an example of how such an instrument camera message can be
created directly and added to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a> directly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vizSupport</span><span class="o">.</span><span class="n">createCameraConfigMsg</span><span class="p">(</span><span class="n">viz</span><span class="p">,</span> <span class="n">cameraID</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fieldOfView</span><span class="o">=</span><span class="mi">10</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span><span class="p">,</span>
                                     <span class="n">resolution</span><span class="o">=</span><span class="p">[</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">1024</span><span class="p">],</span> <span class="n">renderRate</span><span class="o">=</span><span class="n">macros</span><span class="o">.</span><span class="n">sec2nano</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
                                     <span class="n">cameraPos_B</span><span class="o">=</span><span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span> <span class="n">sigma_CB</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">1.</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.</span><span class="o">/</span><span class="mf">3.</span><span class="p">])</span>
</pre></div>
</div>
<p>Note that with this instrument camera Vizard will save off images at the user home folder at the rate
specified in <code class="docutils literal notranslate"><span class="pre">renderRate</span></code>.  To avoid saving off images just make <code class="docutils literal notranslate"><span class="pre">renderRate</span></code> zero.</p>
<p>The camera frame is illustrated in the following image.  It uses classical image image coordinates where <code class="docutils literal notranslate"><span class="pre">x</span></code> points
to the right, <code class="docutils literal notranslate"><span class="pre">y</span></code> point downwards and <code class="docutils literal notranslate"><span class="pre">z</span></code> points outward.  More information is availabe in section 2.4.1 of
Dr. Teil’s <a class="reference external" href="http://hanspeterschaub.info/Papers/grads/ThibaudTeil.pdf">dissertation</a>.</p>
<a class="reference internal image-reference" href="../../_images/imageFrame.jpg"><img alt="../../_images/imageFrame.jpg" class="align-center" src="../../_images/imageFrame.jpg" style="width: 600px;" />
</a>
<p>The following table illustrates the possible variables for the
<code class="docutils literal notranslate"><span class="pre">createCameraConfigMsg()</span></code> method.</p>
<table class="docutils align-default" id="id8">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">createCameraConfigMsg</span></code> Parameter Options</span><a class="headerlink" href="#id8" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 10.0%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 10.0%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cameraID</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>ID of the Vizard camera</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">parentName</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No, sc name default</p></td>
<td><p>name of the spacecraft with respect to which the camera is shown</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fieldOfView</span></code></p></td>
<td><p>float</p></td>
<td><p>rad</p></td>
<td><p>yes</p></td>
<td><p>edge-to-edge field of view in the camera vertical <code class="docutils literal notranslate"><span class="pre">y</span></code> axis</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resolution</span></code></p></td>
<td><p>int(2)</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>image sensor pixels</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">renderRate</span></code></p></td>
<td><p>float</p></td>
<td><p>[ns]</p></td>
<td><p>yes</p></td>
<td><p>time between image grabs. 0 turns this off (default).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cameraPos_B</span></code></p></td>
<td><p>float(3)</p></td>
<td><p>m</p></td>
<td><p>yes</p></td>
<td><p>camera  location relative to body frame in B frame components</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sigma_CB</span></code></p></td>
<td><p>float(3)</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>camera orientation relative to the body frame in MRPs</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">skyBox</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Used to determine what star background should be shown. The empty string “” provides default NASA
SVS Starmap, “ESO”  shows the ESO Milky Way skybox, “black” provides a black background, or the
user can provide a filepath to custom  background image file.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">postProcessingOn</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>needed for any <code class="docutils literal notranslate"><span class="pre">ppXXX</span></code> parameters to work</p></td>
<td><p>flag to turn on any post-processing features of the camera.  Values are 0 (default) or 1.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ppFocusDistance</span></code></p></td>
<td><p>double</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Distance to the point of focus</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ppAperture</span></code></p></td>
<td><p>double</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Ratio of the aperture (known as f-stop or f-number). The smaller the value is, the shallower the depth of field is.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ppFocalLength</span></code></p></td>
<td><p>double</p></td>
<td><p>m</p></td>
<td><p>No</p></td>
<td><p>Valid setting range: 0.001m to 0.300m.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ppMaxBlurSize</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Convolution kernel size of the bokeh filter, which determines the maximum radius of bokeh.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">updateCameraParameters</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>If true, commands camera to update Instrument Camera to current message’s parameters</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">renderMode</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Value of 0 to render visual image (default), value of 1 to render depth buffer to image</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">depthMapClippingPlanes</span></code></p></td>
<td><p>double(2)</p></td>
<td><p>m</p></td>
<td><p>No</p></td>
<td><p>Set the bounds of rendered depth map by setting the near and far clipping planes when
in renderMode=1 (depthMap mode). Default values of 0.1 and 100.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showHUDElementsInImage</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Shows HUD elements within image frame. Value of 0 (protobuffer default) to use viz default, -1 for false, 1 for true</p></td>
</tr>
</tbody>
</table>
<p>If the <code class="docutils literal notranslate"><span class="pre">renderMode</span></code> is set to 1 the camera outputs a depth map.
Depth maps rendered by an Instrument Camera utilize Unity’s <code class="docutils literal notranslate"><span class="pre">Linear01Depth</span></code> shader helper macro
inside Vizard’s DepthMap shader. The macro linearizes the non-linear internal depth texture
whose precision is configuration and platform dependent to return a value between 0 and 1 where
1 is the maximum depth. Vizard’s DepthMap shader takes the value returned and encodes it as an
RGB color. The far clipping plane of the Instrument Camera determines the maximum depth of the
rendered texture and can be set as part of the camera configuration.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The internal depth texture values are more accurate for objects closer to the camera. Error in
the calculated depth increases with distance from the camera.</p>
</div>
<p>To decode the depth for a specific pixel, sample its color. If your color sampler returns float RGB
channel values between 0 and 1.0, calculate the depth as:</p>
<div class="math notranslate nohighlight">
\[depth = (farClippingPlane)*\left[(pixelColor.r)+\left(\frac{pixelColor.g}{255}\right)+\left(\frac{pixelColor.b}{255^2}\right)\right]\]</div>
<p>If your color sampler returns an integer red channel value between 0 and 255, calculate the depth as:</p>
<div class="math notranslate nohighlight">
\[depth = (farClippingPlane)*\left[\left(\frac{pixelColor.r}{255}\right)+\left(\frac{pixelColor.g}{255^2}\right)+\left(\frac{pixelColor.b}{255^3}\right)\right]\]</div>
<p>If the depth is equal to or greater than the far clipping plane of the instrument camera, the
pixel color will be white (255, 255, 255).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The color output shown on screen is dependent on the specific display used and may appear different, but the encoded values are accurate.</p>
</div>
</section>
<section id="defining-the-custom-spacecraft-shape-model">
<h3>Defining the Custom Spacecraft Shape model<a class="headerlink" href="#defining-the-custom-spacecraft-shape-model" title="Link to this heading"></a></h3>
<p>You can specify a custom OBJ model to be used with Vizard spacecraft representation.
An sample is shown in the following screen capture.</p>
<a class="reference internal image-reference" href="../../_images/vizard-ImgCustomCAD.jpg"><img alt="../../_images/vizard-ImgCustomCAD.jpg" class="align-center" src="../../_images/vizard-ImgCustomCAD.jpg" style="width: 480.0px; height: 268.8px;" />
</a>
<p>This functionality can be controlled by using the <code class="docutils literal notranslate"><span class="pre">createCustomModel()</span></code> helper method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span><span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span><span class="p">)</span>
<span class="n">vizSupport</span><span class="o">.</span><span class="n">createCustomModel</span><span class="p">(</span><span class="n">viz</span><span class="p">,</span>
                            <span class="n">modelPath</span><span class="o">=</span><span class="s2">&quot;/Users/hp/Downloads/Topex-Posidon/Topex-Posidon-composite.obj&quot;</span><span class="p">,</span>
                            <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The model path can either be defined as an absolute or relative path. When playing back from a saved binary scenario file, the relative model path will be relative to the playback file (which may be in a different location than the scenario itself). Relative paths can be particularly useful when sharing binaries with custom resources. Absolute paths are more robust for live-streaming, or scenarios where both live-streaming and saving playback files are used.</p>
</div>
<p>The following table illustrates the arguments for the <code class="docutils literal notranslate"><span class="pre">createCustomModel</span></code> method.</p>
<table class="docutils align-default" id="id9">
<caption><span class="caption-text">Custom Space Object OBJ Import Parameter Options</span><a class="headerlink" href="#id9" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 15.0%" />
<col style="width: 10.0%" />
<col style="width: 10.0%" />
<col style="width: 15.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">modelPath</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Path to model obj (can be specified as either absolute or relative path) -OR- “CUBE”, “CYLINDER”, “CAPSULE”, or “SPHERE” to use a primitive shape.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">simBodiesToModify</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No, default is <cite>bsk-Sat</cite></p></td>
<td><p>Which bodies in scene to replace with this model, use “ALL_SPACECRAFT” to apply custom model to
all spacecraft in simulation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">offset</span></code></p></td>
<td><p>float(3)</p></td>
<td><p>m</p></td>
<td><p>No, default is (0,0,0)</p></td>
<td><p>offset to use to draw the model</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rotation</span></code></p></td>
<td><p>float(3)</p></td>
<td><p>rad</p></td>
<td><p>No, default is (0,0,0)</p></td>
<td><p>3-2-1 Euler angles to rotate CAD about z, y, x axes</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scale</span></code></p></td>
<td><p>float(3)</p></td>
<td></td>
<td><p>No, default is (1,1,1)</p></td>
<td><p>desired model scale in x, y, z in spacecraft CS</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">customTexturePath</span></code></p></td>
<td><p>String</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Path to texture to apply to model (note that a custom model’s .mtl will be automatically imported with
its textures during custom model import).  The image file types supported are: jpg, bmp, exr,
gif, hdr, iff, pict, png, psd, tga, and tiff. The maximum image dimensions supported for runtime
import are 16384 pixels by 16384 pixels. The image does not have to be square.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">normalMapPath</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Path to the normal map for the customTexture</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">shader</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No, default is -1</p></td>
<td><p>Value of -1 to use viz default, 0 for Unity Specular Standard Shader, 1 for Unity Standard Shader</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td><p>int(4)</p></td>
<td></td>
<td><p>No</p></td>
<td><p>RGBA as values between 0 and 255, default is gray, and will be applied to the albedo color setting</p></td>
</tr>
</tbody>
</table>
</section>
<section id="specifying-the-spacecraft-sprite-representation">
<h3>Specifying the Spacecraft Sprite Representation<a class="headerlink" href="#specifying-the-spacecraft-sprite-representation" title="Link to this heading"></a></h3>
<p>In the spacecraft centric view a 3D model is rendered of the spacecraft.  However, in planet and heliocentric views
the spacecraft is automatically represented as a 2D sprite (circle, triangle, etc.) if more than one
spacecraft is being simulated.  The default sprite shape for all spacecraft can be set through the
<code class="docutils literal notranslate"><span class="pre">defaultSpacecraftSprite</span></code> value discussed above.  To specify a specific sprite shape, and optional color, for a
specific spacecraft this can be done by setting the string variable <code class="docutils literal notranslate"><span class="pre">spacecraftSprite</span></code> inside the
spacecraft data structure.</p>
<p>The example scenario <a class="reference internal" href="../../examples/scenarioFormationBasic.html#scenarioformationbasic"><span class="std std-ref">scenarioFormationBasic</span></a> illustrates how to simulate multiple spacecraft.  To make
a spacecraft use a specific sprite representation use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span>
                                          <span class="p">,</span> <span class="n">spriteList</span><span class="o">=</span><span class="n">vizSupport</span><span class="o">.</span><span class="n">setSprite</span><span class="p">(</span><span class="s2">&quot;STAR&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span><span class="p">,</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>If you are using multiple spacecraft, then the sprite information list must have the same length as
the number of spacecraft:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject</span><span class="p">,</span> <span class="n">scObject2</span><span class="p">,</span> <span class="n">scObject3</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">spriteList</span><span class="o">=</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">setSprite</span><span class="p">(</span><span class="s2">&quot;STAR&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span><span class="p">,</span>
                                          <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="specifying-the-simulation-epoch-date-and-time-information">
<h3>Specifying the Simulation Epoch Date and Time Information<a class="headerlink" href="#specifying-the-simulation-epoch-date-and-time-information" title="Link to this heading"></a></h3>
<p>Vizard can show the both the simulation time that has elapsed, or the mission time.  If now epoch message has been
set then Basilisk assumes a default January 1, 2019, 00:00:00 epoch time and date.  The simulation time elapsed is
thus the time since epoch.  To specify a different simulation epoch data and time the <a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/EpochMsgPayload.html#epochmsgpayload"><span class="std std-ref">EpochMsgPayload</span></a> can be
setup as discussed in <a class="reference internal" href="../../examples/scenarioMagneticFieldWMM.html#scenariomagneticfieldwmm"><span class="std std-ref">scenarioMagneticFieldWMM</span></a>.  To tell <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a> what epoch message to read use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span><span class="o">.</span><span class="n">epochInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">epochMsg</span><span class="p">)</span>
</pre></div>
</div>
<p>An example of the use of this epoch message is shown in <a class="reference internal" href="../../examples/scenarioMagneticFieldWMM.html#scenariomagneticfieldwmm"><span class="std std-ref">scenarioMagneticFieldWMM</span></a>.</p>
</section>
<section id="specifying-reaction-wheel-rw-information">
<h3>Specifying Reaction Wheel (RW) Information<a class="headerlink" href="#specifying-reaction-wheel-rw-information" title="Link to this heading"></a></h3>
<p>The simplest method to include the RW states of a one more spacecraft in the Vizard data file is to
call <code class="docutils literal notranslate"><span class="pre">vizSupport.enableUnityVisualization()</span></code> with the additional argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rwEffectorList</span><span class="o">=</span><span class="n">rwStateEffector</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">rwStateEffector</span></code> is an instance of a single <a class="reference internal" href="../../Documentation/simulation/dynamics/reactionWheels/reactionWheelStateEffector.html#reactionwheelstateeffector"><span class="std std-ref">Module: reactionWheelStateEffector</span></a> which already has all
the spacecraft’s RW devices added to it.  If you have multiple spacecraft, then use a list of RW effectors,
one effector per spacecraft:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rwEffectorList</span><span class="o">=</span><span class="p">[</span><span class="n">rwStateEffector1</span><span class="p">,</span> <span class="n">rwStateEffector2</span><span class="p">]</span>
</pre></div>
</div>
<p>This method is illustrated in the <a class="reference internal" href="../../examples/scenarioAttitudeFeedbackRW.html#scenarioattitudefeedbackrw"><span class="std std-ref">scenarioAttitudeFeedbackRW</span></a> script.  Note that this list must contain
one entry per spacecraft.  If a spacecraft has no RW devices, then add <code class="docutils literal notranslate"><span class="pre">None</span></code> instead of an effector instance.</p>
<p>If custom RW state output messages are used, then the <code class="docutils literal notranslate"><span class="pre">scData.rwInMsgs</span></code> can be specified directly.  This case
is employed in the test script <a class="reference internal" href="../../Documentation/simulation/vizard/dataFileToViz/_UnitTest/test_dataFileToViz.html#test-datafiletoviz"><span class="std std-ref">test_dataFileToViz</span></a>.</p>
</section>
<section id="specifying-css-information">
<h3>Specifying CSS Information<a class="headerlink" href="#specifying-css-information" title="Link to this heading"></a></h3>
<p>To include a cluster clusters of CSS sensors to the spacecraft,
call <code class="docutils literal notranslate"><span class="pre">vizSupport.enableUnityVisualization()</span></code> with the additional argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cssList</span><span class="o">=</span><span class="p">[</span><span class="n">cssDeviceList</span><span class="p">]</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">cssDeviceList</span></code> is a list of <a class="reference internal" href="../../Documentation/simulation/sensors/coarseSunSensor/coarseSunSensor.html#coarsesunsensor"><span class="std std-ref">Module: coarseSunSensor</span></a> objects.  The length of <code class="docutils literal notranslate"><span class="pre">cssDeviceList</span></code>
must match the number of spacecraft being modeled.  If a spacecraft has no CSS devices, then use
the <code class="docutils literal notranslate"><span class="pre">None</span></code> label.  See <a class="reference internal" href="../../examples/scenarioCSS.html#scenariocss"><span class="std std-ref">scenarioCSS</span></a> for an example of CSS devices being visualized in Vizard.</p>
</section>
<section id="specifying-thruster-information">
<h3>Specifying Thruster Information<a class="headerlink" href="#specifying-thruster-information" title="Link to this heading"></a></h3>
<p>The simplest method to include the clusters of thrusters of a one more spacecraft in the Vizard data file is to
call <code class="docutils literal notranslate"><span class="pre">vizSupport.enableUnityVisualization()</span></code> with the additional argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">thrEffectorList</span><span class="o">=</span><span class="n">thrusterSet</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">thrusterSet</span></code> is an instance of a single <a class="reference internal" href="../../Documentation/simulation/dynamics/Thrusters/thrusterDynamicEffector/thrusterDynamicEffector.html#thrusterdynamiceffector"><span class="std std-ref">Module: thrusterDynamicEffector</span></a> which already has all
the spacecraft’s THR devices added to this one THR cluster.  If you have multiple spacecraft, or a spacecraft
has multiple clusters of THR devices such as ACS and DV thrusters, then use a double list of THR effectors.
The outer list has one entry per spacecraft, and the inner list has one entry per spacecraft THR cluster:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">thrEffectorList</span><span class="o">=</span><span class="p">[[</span><span class="n">thrusterSet1Sc1</span><span class="p">,</span> <span class="n">thrusterSet2Sc1</span><span class="p">],</span> <span class="p">[</span><span class="n">thrusterSet1Sc2</span><span class="p">]]</span>
</pre></div>
</div>
<p>The outer list must have one THR cluster list per spacecraft.  If a spacecraft has no THR devices, then
add <code class="docutils literal notranslate"><span class="pre">None</span></code> instead of this cluster list.
The illustration of thrusters is shown in the example script <a class="reference internal" href="../../examples/scenarioAttitudeFeedback2T_TH.html#scenarioattitudefeedback2t-th"><span class="std std-ref">scenarioAttitudeFeedback2T_TH</span></a>.</p>
<p>Note that if the maximum force of a thruster is less than 0.01N (i.e. a micro-thruster),
then the plume length is held the same as with a 0.01N thruster.
Otherwise the micro-thruster plumes would not be visible.</p>
<p>If you want to change the thruster plume illustration color, then you can use the optional argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">thrColors</span><span class="o">=</span><span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGBA255</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This example is for a single spacecraft.  If you have multiple spacecraft this must again be wrapped in a list
of lists as above.  The inner list is the color you want to for each cluster.  Thus, its dimension must match the
<code class="docutils literal notranslate"><span class="pre">thrEffectorList</span></code> double list dimension.  If you want to keep the default color for a spacecraft then
add <code class="docutils literal notranslate"><span class="pre">None</span></code> as the cluster color.</p>
<p>The thruster information for each spacecraft can also be set directly by specifying <code class="docutils literal notranslate"><span class="pre">sc.thrInMsgs</span></code> and
<code class="docutils literal notranslate"><span class="pre">sc.thrInfo</span></code> directly as demonstrated in <a class="reference internal" href="../../Documentation/simulation/vizard/dataFileToViz/_UnitTest/test_dataFileToViz.html#test-datafiletoviz"><span class="std std-ref">test_dataFileToViz</span></a>.</p>
</section>
<section id="adding-location-or-communication-stations">
<h3>Adding Location or Communication Stations<a class="headerlink" href="#adding-location-or-communication-stations" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="../../Documentation/simulation/environment/groundLocation/groundLocation.html#groundlocation"><span class="std std-ref">Module: groundLocation</span></a> is able to simulate a location on a celestial body like Earth.
The location can also be fixed to a satellite.  Vizard will show a line between a satellite
and this location including if the satellite is within the
field of view of this location.  Vizard can illustrate this ground location using the
<code class="docutils literal notranslate"><span class="pre">addLocation()</span></code> method, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vizSupport</span><span class="o">.</span><span class="n">addLocation</span><span class="p">(</span><span class="n">viz</span><span class="p">,</span> <span class="n">stationName</span><span class="o">=</span><span class="s2">&quot;Boulder Station&quot;</span>
                       <span class="p">,</span> <span class="n">parentBodyName</span><span class="o">=</span><span class="s1">&#39;earth&#39;</span>
                       <span class="p">,</span> <span class="n">r_GP_P</span><span class="o">=</span><span class="n">groundStation</span><span class="o">.</span><span class="n">r_LP_P_Init</span>
                       <span class="p">,</span> <span class="n">fieldOfView</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mf">160.</span><span class="p">)</span>
                       <span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span>
                       <span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="mf">1000.0</span>
                       <span class="p">)</span>
</pre></div>
</div>
<p>If you used the gravity factor to generate the planet states, you can pull the planet name
by using <code class="docutils literal notranslate"><span class="pre">earth.displayName</span></code> as shown in <a class="reference internal" href="../../examples/scenarioAttLocPoint.html#scenarioattlocpoint"><span class="std std-ref">scenarioAttLocPoint</span></a>.</p>
<p>The following table lists all required and optional arguments that can be provided to <code class="docutils literal notranslate"><span class="pre">addLocation</span></code>:</p>
<table class="docutils align-default" id="id10">
<caption><span class="caption-text">Location Parameter Options</span><a class="headerlink" href="#id10" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 13.3%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">stationName</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Label of the ground location</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">parentBodyName</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>name of the planet object</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">r_GP_P</span></code></p></td>
<td><p>float(3)</p></td>
<td><p>m</p></td>
<td><p>Yes</p></td>
<td><p>position vector of the location G relative to parent body (planet or spacecraft) frame P in P frame components</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lla_GP</span></code></p></td>
<td><p>float(3)</p></td>
<td><p>[rad, rad, m]</p></td>
<td><p>No</p></td>
<td><p>position vector of the location G in latitude/longitude/altitude components. Required if <code class="docutils literal notranslate"><span class="pre">r_GP_P</span></code> is not specified.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">gHat_P</span></code></p></td>
<td><p>float(3)</p></td>
<td></td>
<td><p>No</p></td>
<td><p>normal vector of the location station boresight, default is unit vector of <code class="docutils literal notranslate"><span class="pre">r_GP_P</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fieldOfView</span></code></p></td>
<td><p>float</p></td>
<td><p>rad</p></td>
<td><p>No</p></td>
<td><p>edge-to-edge location station field of view, default is <span class="math notranslate nohighlight">\(\pi\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td><p>int(4)</p></td>
<td></td>
<td><p>No</p></td>
<td><p>specify the location station color using RGBA value of 0-255</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">range</span></code></p></td>
<td><p>double</p></td>
<td><p>m</p></td>
<td><p>No</p></td>
<td><p>range of the location station, use 0 or negative value (protobuffer default) to use viz default</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">markerScale</span></code></p></td>
<td><p>double</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Value will be multiplied by default marker scale, value less than 1.0 will decrease size, greater will increase size</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isHidden</span></code></p></td>
<td><p>bool</p></td>
<td></td>
<td><p>No</p></td>
<td><p>True to hide Location, false to show (vizDefault)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="adding-generic-sensor-visualization">
<h3>Adding Generic Sensor Visualization<a class="headerlink" href="#adding-generic-sensor-visualization" title="Link to this heading"></a></h3>
<p>Vizard can illustrate generic sensors in the 3d environments which have either a conical or rectangular field of
view.  For example, these sensors could be a camera, a star tracker or a fine sun sensor.   Instead of making a
specific visualization of such sensors, the generic sensor message allows a series of messages to be tied
to a spacecraft and be configured to look like either sensor type.  Further, an optional <a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/DeviceCmdMsgPayload.html#devicecmdmsgpayload"><span class="std std-ref">DeviceCmdMsgPayload</span></a>
message can be provided for each sensor such that the sensor state (active, inactive, etc.) can be
visualized as well.</p>
<a class="reference internal image-reference" href="../../_images/vizard-ImgGenSensor.jpg"><img alt="../../_images/vizard-ImgGenSensor.jpg" class="align-center" src="../../_images/vizard-ImgGenSensor.jpg" style="width: 640.0px; height: 385.6px;" />
</a>
<p>First, let’s discuss how to setup a generic sensor.  The associated sensor structure and the required
parameters are set using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">genericSensor</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">GenericSensor</span><span class="p">()</span>
<span class="n">genericSensor</span><span class="o">.</span><span class="n">r_SB_B</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
<span class="n">genericSensor</span><span class="o">.</span><span class="n">fieldOfView</span> <span class="o">=</span> <span class="p">[</span><span class="mf">20.0</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">genericSensor</span><span class="o">.</span><span class="n">normalVector</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>As a pointer to the <code class="docutils literal notranslate"><span class="pre">GenericSensor</span></code> structure is connected to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>, it is
important that the python structure is retained in memory.  If the python structure instance
is created in a manner where this is not the case, use <code class="docutils literal notranslate"><span class="pre">genericSensor.this.disown()</span></code>
to ensure the python structure remains intact throughout the simulation.</p>
</div>
<p>The sensor location relative to the spacecraft B frame is given by <code class="docutils literal notranslate"><span class="pre">r_SB_B</span></code>.  The sensor view axis is
set through <code class="docutils literal notranslate"><span class="pre">normalVector</span></code>.  The <code class="docutils literal notranslate"><span class="pre">fieldOfView</span></code> is a vector with up to 2 floats.  If a single positive value is provided,
then the sensor shape is a cone with this edge-to-edge field of view.  If 2 positive floats are provided
then the sensor shape is a rectangle.
The full list of required and optional generic sensor parameters are provided in the following table.</p>
<table class="docutils align-default" id="id11">
<caption><span class="caption-text">Generic Sensor Configuration Options</span><a class="headerlink" href="#id11" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 13.3%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">r_SB_B</span></code></p></td>
<td><p>double[3]</p></td>
<td><p>m</p></td>
<td><p>Yes</p></td>
<td><p>sensor location relative to body frame in body frame components</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">normalVector</span></code></p></td>
<td><p>double[3]</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>sensor view axis</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fieldOfView</span></code></p></td>
<td><p>vector&lt;float&gt;</p></td>
<td><p>rad</p></td>
<td><p>Yes</p></td>
<td><p>edge-to-edge field of view of cone (single positive float) or rectangle (two positive floats)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isHidden</span></code></p></td>
<td><p>bool</p></td>
<td></td>
<td><p>No</p></td>
<td><p>argument to hide the sensor visualization.  Default value is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p></td>
<td><p>double</p></td>
<td><p>m</p></td>
<td><p>No</p></td>
<td><p>Value of 0 (protobuffer default) to show HUD at viz default size</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">label</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No</p></td>
<td><p>string to display on sensor label</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td><p>vector&lt;int&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Send desired RGBA as values between 0 and 255, multiple colors can be populated in this
field and will be assigned to the additional mode (Modes 0 and 1 will use the 0th color, Mode 2
will use the color indexed to 1, etc.  If the mode number exceeds the number of colors provided
then the default color is used again.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">genericSensorCmd</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>set the sensor command state from python.  Note that this value is replaced with the value from
the sensor cmd input message if such an input message is provided.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">genericSensorCmdInMsg</span></code></p></td>
<td><p>ReadFunctor&lt;<a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/DeviceCmdMsgPayload.html#devicecmdmsgpayload"><span class="std std-ref">DeviceCmdMsgPayload</span></a>&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>sensor cmd input message</p></td>
</tr>
</tbody>
</table>
<p>Thus, to setup a sensor that uses red to display the location, orientation and status, you could use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">genericSensor</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">GenericSensor</span><span class="p">()</span>
<span class="n">genericSensor</span><span class="o">.</span><span class="n">r_SB_B</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
<span class="n">genericSensor</span><span class="o">.</span><span class="n">fieldOfView</span><span class="o">.</span><span class="n">push_back</span><span class="p">(</span><span class="mf">20.0</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span><span class="p">)</span>
<span class="n">genericSensor</span><span class="o">.</span><span class="n">fieldOfView</span><span class="o">.</span><span class="n">push_back</span><span class="p">(</span><span class="mf">25.0</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span><span class="p">)</span>
<span class="n">genericSensor</span><span class="o">.</span><span class="n">normalVector</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="n">genericSensor</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGBA255</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">))</span>
<span class="n">genericSensor</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;genSen1&quot;</span>
</pre></div>
</div>
<p>Note that here a rectangular 20x25 degree field of view is specified.  To add a conical 20 degree field of view,
then a single angle should be provided.</p>
<p>Next, each sensor can be connected to the optional device status message of type <a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/DeviceCmdMsgPayload.html#devicecmdmsgpayload"><span class="std std-ref">DeviceCmdMsgPayload</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmdInMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">DeviceCmdMsgReader</span><span class="p">()</span>
<span class="n">cmdInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">simpleInsControlConfig</span><span class="o">.</span><span class="n">deviceCmdOutMsg</span><span class="p">)</span>
<span class="n">genericSensor</span><span class="o">.</span><span class="n">genericSensorCmdInMsg</span> <span class="o">=</span> <span class="n">cmdInMsg</span>
</pre></div>
</div>
<p>The sensor command state can also be set directly from python using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">genericSensor</span><span class="o">.</span><span class="n">genericSensorCmd</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>However, if the input message is specified then this value is replaced with the content of the input message.</p>
<p>Multiple generic sensors can be created for each spacecraft, and multiple spacecraft are supported.  Using
the <code class="docutils literal notranslate"><span class="pre">vizSupport.py</span></code> file, the sensors are sent to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a> using they keyword <code class="docutils literal notranslate"><span class="pre">genericSensorList</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">genericSensorList</span><span class="o">=</span><span class="n">genericSensor</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>Note that here a single sensor and spacecraft is setup.  If you have multiple sensors, or multiple spacecraft,
then lists of lists are required:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject</span><span class="p">,</span> <span class="n">scObject2</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">genericSensorList</span><span class="o">=</span><span class="p">[</span> <span class="p">[</span><span class="n">genericSensor1</span><span class="p">],</span> <span class="p">[</span><span class="n">genericSensor2</span><span class="p">,</span> <span class="n">genericSensor3</span><span class="p">]</span> <span class="p">]</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>If the sensor has multiple activity types, such as taking a red, green, and blue color image, the <a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/DeviceCmdMsgPayload.html#devicecmdmsgpayload"><span class="std std-ref">DeviceCmdMsgPayload</span></a>
message can have several positive command states.  These distinct activity states can be visualized using multiple colors.
For example, to use <code class="docutils literal notranslate"><span class="pre">red</span></code> for state 1, <code class="docutils literal notranslate"><span class="pre">green</span></code> for state 2, you could use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">genericSensor</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGBA255</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGBA255</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../../examples/scenarioGroundLocationImaging.html#scenariogroundlocationimaging"><span class="std std-ref">scenarioGroundLocationImaging</span></a> for an example of using the generic sensor visualization.</p>
</section>
<section id="adding-transceiver-visualization">
<h3>Adding Transceiver Visualization<a class="headerlink" href="#adding-transceiver-visualization" title="Link to this heading"></a></h3>
<p>Vizard can illustrate the state of an antenna in the 3d environments.  The state can be either off (default),
transmitting, receiving, or transmitting and receiving. The antenna communication state is dynamically
set through an optional <a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/DataNodeUsageMsgPayload.html#datanodeusagemsgpayload"><span class="std std-ref">DataNodeUsageMsgPayload</span></a>
message.  Note that this message contains a baud rate variable which dictactes if the module is transmitting
data (negative baud rate) or receiving data (positive baud rate).  Thus, a single transceiver HUD element
can connect to a vector of <a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/DataNodeUsageMsgPayload.html#datanodeusagemsgpayload"><span class="std std-ref">DataNodeUsageMsgPayload</span></a> input messages.  These messages are scaned if they are
transmitting, receiving or doing mix, and the transceiver state is set accordingly.</p>
<a class="reference internal image-reference" href="../../_images/vizard-ImgTransceiver.jpg"><img alt="../../_images/vizard-ImgTransceiver.jpg" class="align-center" src="../../_images/vizard-ImgTransceiver.jpg" style="width: 640.0px; height: 385.6px;" />
</a>
<p>First, let’s discuss how to setup a transceiver HUD element.  The associated structure and the required
parameters are set using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transceiverHUD</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">Transceiver</span><span class="p">()</span>
<span class="n">transceiverHUD</span><span class="o">.</span><span class="n">r_SB_B</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="n">transceiverHUD</span><span class="o">.</span><span class="n">fieldOfView</span> <span class="o">=</span> <span class="mf">40.0</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
<span class="n">transceiverHUD</span><span class="o">.</span><span class="n">normalVector</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>As a pointer to the <code class="docutils literal notranslate"><span class="pre">Transceiver</span></code> structure is connected to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>, it is
important that the python structure is retained in memory.  If the python structure instance
is created in a manner where this is not the case, use <code class="docutils literal notranslate"><span class="pre">transceiverHUD.this.disown()</span></code>
to ensure the python structure remains intact throughout the simulation.</p>
</div>
<p>The transceiver location relative to the spacecraft B frame is given by <code class="docutils literal notranslate"><span class="pre">r_SB_B</span></code>.  The transceiver
bore sight axis is
set through <code class="docutils literal notranslate"><span class="pre">normalVector</span></code>.  The <code class="docutils literal notranslate"><span class="pre">fieldOfView</span></code> sets the edge-to-edge field of view of this antenna communication
process.
The full list of required and optional transceiver parameters are provided in the following table.</p>
<table class="docutils align-default" id="id12">
<caption><span class="caption-text">Transceiver Configuration Options</span><a class="headerlink" href="#id12" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 13.3%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">r_SB_B</span></code></p></td>
<td><p>double[3]</p></td>
<td><p>m</p></td>
<td><p>Yes</p></td>
<td><p>transceiver location relative to body frame in body frame components</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">normalVector</span></code></p></td>
<td><p>double[3]</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>transceiver center axis</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fieldOfView</span></code></p></td>
<td><p>float</p></td>
<td><p>rad</p></td>
<td><p>Yes</p></td>
<td><p>edge-to-edge field of the antenna communication access cone</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isHidden</span></code></p></td>
<td><p>bool</p></td>
<td></td>
<td><p>No</p></td>
<td><p>argument to hide the transceiver visualization.  Default value is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">animationSpeed</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Set transmission animation speed to a value between 1(slowest) to 10 (fastest), or 0 to use viz default</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">label</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No</p></td>
<td><p>string to display on transceiver label</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td><p>vector&lt;int&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Send desired RGBA as values between 0 and 255.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">transceiverState</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>set the transceiver state from python.  This can be 0 (off), 1 (sending), 2 (receiving) and
3 (sending and receiving).  Note that this value is replaced with the value from
the transceiver state input message if such an input message is provided.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">transceiverStateInMsgs</span></code></p></td>
<td><p>vector&lt;ReadFunctor&lt;<a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/DataNodeUsageMsgPayload.html#datanodeusagemsgpayload"><span class="std std-ref">DataNodeUsageMsgPayload</span></a>&gt;&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>vector of transceiver communication state message(s)</p></td>
</tr>
</tbody>
</table>
<p>Thus, to setup a sensor that uses yellow to display the location, orientation and status, you could use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transceiverHUD</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">Transceiver</span><span class="p">()</span>
<span class="n">transceiverHUD</span><span class="o">.</span><span class="n">r_SB_B</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="n">transceiverHUD</span><span class="o">.</span><span class="n">fieldOfView</span> <span class="o">=</span> <span class="mf">40.0</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
<span class="n">transceiverHUD</span><span class="o">.</span><span class="n">normalVector</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="n">transceiverHUD</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGBA255</span><span class="p">(</span><span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">))</span>
<span class="n">transceiverHUD</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;antenna&quot;</span>
</pre></div>
</div>
<p>Next, each sensor can be connected to the optional device status message of type <a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/DataNodeUsageMsgPayload.html#datanodeusagemsgpayload"><span class="std std-ref">DataNodeUsageMsgPayload</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">trInMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">DataNodeUsageMsgReader</span><span class="p">()</span>
<span class="n">trInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">transmitter</span><span class="o">.</span><span class="n">nodeDataOutMsg</span><span class="p">)</span>
<span class="n">transceiverHUD</span><span class="o">.</span><span class="n">transceiverStateInMsgs</span><span class="o">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">trInMsg</span><span class="p">)</span>
</pre></div>
</div>
<p>The transceiver state can also be set directly from python using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transceiverHUD</span><span class="o">.</span><span class="n">transceiverState</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>However, if the input message is specified then this value is replaced with the content of the input message.</p>
<p>Multiple transceiver HUD elements can be setup for each spacecraft, and multiple spacecraft are supported.  Using
the <code class="docutils literal notranslate"><span class="pre">vizSupport.py</span></code> file, the sensors are sent to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a> using they keyword <code class="docutils literal notranslate"><span class="pre">genericSensorList</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">transceiverList</span><span class="o">=</span><span class="n">transceiverHUD</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>Note that here a single transceiver and spacecraft is setup.  If you have multiple sensors, or multiple spacecraft,
then lists of lists are required:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject</span><span class="p">,</span> <span class="n">scObject2</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">genericSensorList</span><span class="o">=</span><span class="p">[</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="n">genericSensor2</span><span class="p">,</span> <span class="n">genericSensor3</span><span class="p">]</span> <span class="p">]</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>Here the first spacecraft has no transceiver, and the 2nd spacecraft has 2 transceivers.</p>
<p>See <a class="reference internal" href="../../examples/scenarioGroundLocationImaging.html#scenariogroundlocationimaging"><span class="std std-ref">scenarioGroundLocationImaging</span></a> for an example of using the generic sensor visualization.</p>
</section>
<section id="adding-storage-device-panel">
<h3>Adding Storage Device Panel<a class="headerlink" href="#adding-storage-device-panel" title="Link to this heading"></a></h3>
<p>Vizard can illustrate the state of storage devices (battery, data storage, fuel tank) in a 2D panel.  A
panel is create for each spacecraft, and the storage devices types are ordered with the panel.  Each
storage device state is illustrated on a horizontal bar chart.  Hovering over the bar yields a
popup with the current number.  Thus, it is possible to have a spacecraft with multiple data storage devices,
a large and small battery, as well as a single tank.</p>
<p>First, let’s discuss how to setup a generic storage element.  The associated structure and the required
parameters are set using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hdDevicePanel</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">GenericStorage</span><span class="p">()</span>
<span class="n">hdDevicePanel</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Main Disk&quot;</span>
</pre></div>
</div>
<p>The full list of required and optional generic storage parameters are provided in the following table.</p>
<table class="docutils align-default" id="id13">
<caption><span class="caption-text">Transceiver Configuration Options</span><a class="headerlink" href="#id13" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 13.3%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">label</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Name of storage device</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">currentValue</span></code></p></td>
<td><p>float</p></td>
<td><p>variable</p></td>
<td><p>No</p></td>
<td><p>Current value of the storage device.  If this is not set, then a storage status message must
be connected to set this value.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">maxValue</span></code></p></td>
<td><p>float</p></td>
<td></td>
<td><p>No</p></td>
<td><p>maximum absolute value of the storage device.  If this is not set, then a storage status message must
be connected to set this value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">units</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Units of stored quantity, i.e. “bytes”, “TB”, “kg”, etc.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td><p>vector&lt;int&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Send desired RGBA as values between 0 and 255, multiple colors can be populated in this field
and will be used to color the bar graph between thresholds (i.e. the first color will be used
between values of 0 and threshold 1, the second color will be used between threshold 1 and 2,…,
the last color will be used between threshold n and the maxValue</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">thresholds</span></code></p></td>
<td><p>vector&lt;int&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>set the transceiver state from python.  This can be 0 (off), 1 (sending), 2 (receiving) and
3 (sending and receiving).  Note that this value is replaced with the value from
the transceiver state input message if such an input message is provided.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">batteryStateInMsg</span></code></p></td>
<td><p>ReadFunctor&lt;<a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/PowerStorageStatusMsgPayload.html#powerstoragestatusmsgpayload"><span class="std std-ref">PowerStorageStatusMsgPayload</span></a>&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>incoming battery state msg, only connect one input message</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dataStorageStateInMsg</span></code></p></td>
<td><p>ReadFunctor&lt;<a class="reference internal" href="../../Documentation/architecture/msgPayloadDefCpp/DataStorageStatusMsgPayload.html#datastoragestatusmsgpayload"><span class="std std-ref">DataStorageStatusMsgPayload</span></a>&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>incoming data storage state msg, only connect one input message</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fuelTankStateInMsg</span></code></p></td>
<td><p>ReadFunctor&lt;<a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/FuelTankMsgPayload.html#fueltankmsgpayload"><span class="std std-ref">FuelTankMsgPayload</span></a>&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>incoming fuel tank state msg, only connect one input message</p></td>
</tr>
</tbody>
</table>
<p>Thus, to setup a data storage device that uses blue if the storage state is less than 80%, and
orange if the storage is more than 80% full, you could use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hdDevicePanel</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">GenericStorage</span><span class="p">()</span>
<span class="n">hdDevicePanel</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Main Disk&quot;</span>
<span class="n">hdDevicePanel</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;bytes&quot;</span>
<span class="n">hdDevicePanel</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGBA255</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGBA255</span><span class="p">(</span><span class="s2">&quot;orange&quot;</span><span class="p">))</span>
<span class="n">hdDevicePanel</span><span class="o">.</span><span class="n">thresholds</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">IntVector</span><span class="p">([</span><span class="mi">80</span><span class="p">])</span>
<span class="n">hdInMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">DataStorageStatusMsgReader</span><span class="p">()</span>
<span class="n">hdInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">dataMonitor</span><span class="o">.</span><span class="n">storageUnitDataOutMsg</span><span class="p">)</span>
<span class="n">hdDevicePanel</span><span class="o">.</span><span class="n">dataStorageStateInMsg</span> <span class="o">=</span> <span class="n">hdInMsg</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>As a pointer to the <code class="docutils literal notranslate"><span class="pre">GenericStorage</span></code> structure is connected to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>, it is
important that the python structure is retained in memory.  If the python structure instance
is created in a manner where this is not the case, use <code class="docutils literal notranslate"><span class="pre">hdDevicePanel.this.disown()</span></code>
to ensure the python structure remains intact throughout the simulation.</p>
</div>
<p>Multiple storage panel elements can be setup for each spacecraft, and multiple spacecraft are supported.  Using
the <code class="docutils literal notranslate"><span class="pre">vizSupport.py</span></code> file, the generic storage structures list is sent to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a> using they keyword <code class="docutils literal notranslate"><span class="pre">genericStorageList</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">genericStorageList</span><span class="o">=</span><span class="n">hdDevicePanel</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>Note that here a single storage device and spacecraft is setup.  If you have multiple storage devices,
or multiple spacecraft, then lists of lists are required:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject</span><span class="p">,</span> <span class="n">scObject2</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">genericStorageList</span><span class="o">=</span><span class="p">[</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="n">hdDevicePanel2</span><span class="p">,</span> <span class="n">hdDevicePanel3</span><span class="p">]</span> <span class="p">]</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>Here the first spacecraft has no transceiver, and the 2nd spacecraft has 2 transceivers.</p>
<p>See <a class="reference internal" href="../../examples/scenarioGroundLocationImaging.html#scenariogroundlocationimaging"><span class="std std-ref">scenarioGroundLocationImaging</span></a> for an example of using a data storage visualization.
The example <a class="reference internal" href="../../examples/MultiSatBskSim/scenariosMultiSat/scenario_BasicOrbitMultiSat.html#scenario-basicorbitmultisat"><span class="std std-ref">scenario_BasicOrbitMultiSat</span></a> illustrates how to show a battery or fuel tank storage device.</p>
</section>
<section id="adding-spacecraft-light-devices">
<h3>Adding Spacecraft Light Devices<a class="headerlink" href="#adding-spacecraft-light-devices" title="Link to this heading"></a></h3>
<p>Vizard can add light emitting devices, i.e. spotlights, to a spacecraft object. First, let’s discuss how to
setup a light device.  The associated light structure and the required
parameters are set using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scLight</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">Light</span><span class="p">()</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Main Light&quot;</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.01</span><span class="p">]</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">fieldOfView</span> <span class="o">=</span> <span class="mf">3.0</span> <span class="o">*</span> <span class="n">macros</span><span class="o">.</span><span class="n">D2R</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">normalVector</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">range</span> <span class="o">=</span> <span class="mf">50.0</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">intensity</span> <span class="o">=</span> <span class="mf">6.0</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">markerDiameter</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGBA255</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">))</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">showLensFlare</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">lensFlareFadeSpeed</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">lensFlareBrightness</span> <span class="o">=</span> <span class="mf">0.5</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>As a pointer to the <code class="docutils literal notranslate"><span class="pre">Light</span></code> structure is connected to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>, it is
important that the python structure is retained in memory.  If the python structure instance
is created in a manner where this is not the case, use <code class="docutils literal notranslate"><span class="pre">scLight.this.disown()</span></code>
to ensure the python structure remains intact throughout the simulation.</p>
</div>
<p>The light location relative to the spacecraft B frame is given by <code class="docutils literal notranslate"><span class="pre">position</span></code>.  The light normalaxis is
set through <code class="docutils literal notranslate"><span class="pre">normalVector</span></code>.  The edge-to-edge <code class="docutils literal notranslate"><span class="pre">fieldOfView</span></code> is set in radians.
The full list of required and optional generic sensor parameters are provided in the following table.</p>
<table class="docutils align-default" id="id14">
<caption><span class="caption-text">Light Object Configuration Options</span><a class="headerlink" href="#id14" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 13.3%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">label</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Label to use to identify light</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">position</span></code></p></td>
<td><p>double[3]</p></td>
<td><p>m</p></td>
<td><p>Yes</p></td>
<td><p>position of the light in body frame</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">normalVector</span></code></p></td>
<td><p>double[3]</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>normal vector of the light in the body frame</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fieldOfView</span></code></p></td>
<td><p>double</p></td>
<td><p>rad</p></td>
<td><p>Yes</p></td>
<td><p>edge-to-edge light cone angle</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lightOn</span></code></p></td>
<td><p>double</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Turn the light element on or off.  Value of 0 (protobuffer default) to use viz default,
-1 for false, 1 for true</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onOffCmdInMsg</span></code></p></td>
<td><p>ReadFunctor&lt;<a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/DeviceCmdMsgPayload.html#devicecmdmsgpayload"><span class="std std-ref">DeviceCmdMsgPayload</span></a>&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>incoming light on/off cmd state msg.  If this input message is connected, then the <code class="docutils literal notranslate"><span class="pre">lightOn</span></code>
variable is overwritten with the value from this input message.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">range</span></code></p></td>
<td><p>double</p></td>
<td><p>m</p></td>
<td><p>Yes</p></td>
<td><p>Distance light will act over</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">intensity</span></code></p></td>
<td><p>double</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Intensity of light at light origin, default is 1.0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">showLightMarker</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>flag to turn on the light marker,  Value of 0 (protobuffer default) to use viz default,
-1 for false, 1 for true</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">markerDiameter</span></code></p></td>
<td><p>double</p></td>
<td><p>m</p></td>
<td><p>No</p></td>
<td><p>Size to draw the visible lens of the light, default is 0.01 m</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td><p>vector&lt;int&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Send desired RGBA as values between 0 and 255, default is pure white</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showLensFlare</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Value of 0 (protobuffer default) to use viz default, -1 for false, 1 for true</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lensFlareBrightness</span></code></p></td>
<td><p>double</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Simulates refraction of light in camera lens, this value controls the size and brightness
of the lens flare, default is 0.3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lensFlareFadeSpeed</span></code></p></td>
<td><p>double</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Speed with which the lens flare fades, default is 4.0</p></td>
</tr>
</tbody>
</table>
<p>Multiple light devices can be created for each spacecraft, and multiple spacecraft are supported.  Using
the <code class="docutils literal notranslate"><span class="pre">vizSupport.py</span></code> file, the sensors are sent to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a> using they keyword <code class="docutils literal notranslate"><span class="pre">lightList</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">lightList</span><span class="o">=</span><span class="n">scLight</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>Note that here a single light and spacecraft is setup.  If you have multiple sensors, or multiple spacecraft,
then lists of lists are required:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject</span><span class="p">,</span> <span class="n">scObject2</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">lightList</span><span class="o">=</span><span class="p">[</span> <span class="p">[</span><span class="n">scLight</span><span class="p">],</span> <span class="kc">None</span> <span class="p">]</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>Next, each light can be connected to the optional device status message of type <a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/DeviceCmdMsgPayload.html#devicecmdmsgpayload"><span class="std std-ref">DeviceCmdMsgPayload</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lightCmdMsgData</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">DeviceCmdMsgPayload</span><span class="p">(</span><span class="n">deviceCmd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">lightCmdMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">DeviceCmdMsg</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">lightCmdMsgData</span><span class="p">)</span>

<span class="n">cmdInMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">DeviceCmdMsgReader</span><span class="p">()</span>
<span class="n">cmdInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">lightCmdMsg</span><span class="p">)</span>
<span class="n">scLight</span><span class="o">.</span><span class="n">onOffCmdInMsg</span> <span class="o">=</span> <span class="n">cmdInMsg</span>
</pre></div>
</div>
<p>The light command state can also be set directly from python using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scLight</span><span class="o">.</span><span class="n">onLight</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>However, if the input message is specified then this value is replaced with the content of the input message.</p>
</section>
<section id="specifying-the-spacecraft-cad-model-to-use">
<span id="specifyspacecraftcad-label"></span><h3>Specifying the Spacecraft CAD Model to use<a class="headerlink" href="#specifying-the-spacecraft-cad-model-to-use" title="Link to this heading"></a></h3>
<p>The spacecraft Vizard data supports the use of <code class="docutils literal notranslate"><span class="pre">modelDictionaryKey</span></code> to override the default spacecraft shape
and is selected by the name, and specify a CAD model to use.  Assume a Vizard spacecraft CAD model is
labeled with <code class="docutils literal notranslate"><span class="pre">cadString</span></code>, then you use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span>
                                          <span class="p">,</span> <span class="n">modelDictionaryKeyList</span><span class="o">=</span><span class="s2">&quot;cadString&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you have multiple spacecraft, then this argument must be a list with the length being the number of
spacecraft:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject</span><span class="p">,</span> <span class="n">scObject2</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">modelDictionaryKeyList</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cadString&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span>
</pre></div>
</div>
<p>The argument None is used to specify the Vizard default shape to be used.</p>
<p>The following table provides the keywords for the built-in spacecraft shape models.</p>
<table class="docutils align-default" id="id15">
<caption><span class="caption-text">Built-In Spacecraft Models</span><a class="headerlink" href="#id15" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 10.0%" />
<col style="width: 30.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Dimensions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bskSat</span></code></p></td>
<td><p>Default hexagonal spacecraft model with 3 solar panels.</p></td>
<td><p>Vertically oriented hexagonal prism with each hexagonal Side = 1.15458 m, Height = 2 m (z). Panels are 1.1547 x 2 x 0.05 m. Origin is at center of hexagonal prism.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">3USat</span></code></p></td>
<td><p>3U cube-sat model</p></td>
<td><p>Length = 0.1 m (x), Width = 0.1 m (y), Height = 0.3 m (z). Origin at center of box.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">6USat</span></code></p></td>
<td><p>6U cube-sat model</p></td>
<td><p>Length = 0.2 m (x), Width = 0.1 m (y), Height = 0.3 m (z). Origin at center of box.</p></td>
</tr>
</tbody>
</table>
<p>If you want to customize the log on the built-in spacecraft models, this can be done using
<code class="docutils literal notranslate"><span class="pre">logoTexture</span></code> spacecraft structure string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject</span><span class="p">,</span> <span class="n">scObject2</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">logoTextureList</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pathToTexture&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span>
</pre></div>
</div>
<p>In this example the first spacecraft logo is overwritten from the default logo, while the 2nd
spacecraft model retains the default logo.  If just a single spacecraft is simulated then the
user can also just provide a simple string path value instead of a list of string path values.</p>
<p>The image can be a <code class="docutils literal notranslate"><span class="pre">jpg</span></code> or <code class="docutils literal notranslate"><span class="pre">png</span></code> image and should have square dimensions, such as being 256x256
in size.</p>
</section>
<section id="specifying-the-celestial-object-cad-model-to-use">
<span id="specifycelestialcad-label"></span><h3>Specifying the Celestial Object CAD Model to Use<a class="headerlink" href="#specifying-the-celestial-object-cad-model-to-use" title="Link to this heading"></a></h3>
<p>The gravity body data structure
contains a <code class="docutils literal notranslate"><span class="pre">modelDictionaryKey</span></code> string which can specify what CAD model to use.  By default Vizard uses
the <code class="docutils literal notranslate"><span class="pre">planetName</span></code> variable to determine if the celestial object matches an available model.  If <code class="docutils literal notranslate"><span class="pre">displayName</span></code>
is specified then this overrules the <code class="docutils literal notranslate"><span class="pre">planetName</span></code> info.  Lastly, the <code class="docutils literal notranslate"><span class="pre">modelDictionaryKey</span></code> overrules the prior
two names.  This is done to provide fine control over what <code class="docutils literal notranslate"><span class="pre">planetName</span></code> is used, such as a
Spice name, the <code class="docutils literal notranslate"><span class="pre">displayName</span></code> could be <code class="docutils literal notranslate"><span class="pre">TestAsteroid</span></code> if desired, and the object shown could be a custom shape
called <code class="docutils literal notranslate"><span class="pre">custom_test_asteroid</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">createCustomGravObject()</span></code> method in the gravity factory class has an optional <code class="docutils literal notranslate"><span class="pre">modelDictionaryKey</span></code>
argument to specify this string if desired.  By default Vizard will read in the CAD model assuming the dimensions are
in kilometers unless <code class="docutils literal notranslate"><span class="pre">radEquator</span></code> is specified.
To scale the CAD model differently, specify the <code class="docutils literal notranslate"><span class="pre">radEquator</span></code> argument.  For a celestial object
with a general shape, Vizard finds the largest dimension along the x, y and z axes and scales the body
uniformly for this largest dimension to be <code class="docutils literal notranslate"><span class="pre">radEquator</span></code>.  Note that the <code class="docutils literal notranslate"><span class="pre">createCustomGravObject()</span></code> method
requires <code class="docutils literal notranslate"><span class="pre">radEquator</span></code> to be given in meters.</p>
</section>
<section id="specifying-the-osculating-or-true-orbit-line-colors">
<h3>Specifying the Osculating or True Orbit Line Colors<a class="headerlink" href="#specifying-the-osculating-or-true-orbit-line-colors" title="Link to this heading"></a></h3>
<p>The spacecraft Vizard data supports the use of <code class="docutils literal notranslate"><span class="pre">oscOrbitColorList</span></code> to override the default spacecraft osculating
orbit line color and specify a custom color.  This is done using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span>
                                          <span class="p">,</span> <span class="n">oscOrbitColorList</span><span class="o">=</span><span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGB255</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>If you have multiple spacecraft, then this argument must be a list with the length being the number of
spacecraft:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject</span><span class="p">,</span> <span class="n">scObject2</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">oscOrbitColorList</span><span class="o">=</span><span class="p">[</span><span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGB255</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">])</span>
</pre></div>
</div>
<p>The argument None is used to specify the Vizard default shape to be used.</p>
<p>Similarly, to set the actual or true trajectory color, use the keyword <code class="docutils literal notranslate"><span class="pre">trueOrbitColorList</span></code> with the same behavior
as <code class="docutils literal notranslate"><span class="pre">oscOrbitColorList</span></code>.  Note that if the color is set through this variable it remains the same
throughout the simulation.  By reading in the line color through an input message it is possible
to change the color of the local true orbit line segment to a new color.  This is useful to denote
during what parts of the orbit an ion engine is active, or we are in sun pointing mode, etc.  To connect
a color message of type <a class="reference internal" href="../../Documentation/architecture/msgPayloadDefC/ColorMsgPayload.html#colormsgpayload"><span class="std std-ref">ColorMsgPayload</span></a>, you use the argument <code class="docutils literal notranslate"><span class="pre">trueOrbitColorInMsgList</span></code>
and provide it the color message.  This could be the output of a BSK module, or a stand alone message.
Here is sample code using a stand-alone message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">colorMsgContent</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">ColorMsgPayload</span><span class="p">(</span><span class="n">colorRGBA</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGBA255</span><span class="p">(</span><span class="s2">&quot;Yellow&quot;</span><span class="p">))</span>
<span class="n">colorMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">ColorMsg</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">colorMsgContent</span><span class="p">)</span>

<span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span>
                                          <span class="p">,</span> <span class="n">trueOrbitColorInMsgList</span><span class="o">=</span><span class="n">colorMsg</span><span class="o">.</span><span class="n">addSubscriber</span><span class="p">()</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="vm">__file__</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../../examples/scenarioHelioTransSpice.html#scenarioheliotransspice"><span class="std std-ref">scenarioHelioTransSpice</span></a> for an example where the true trajectory line color is
changed during the simulation.</p>
</section>
<section id="adding-ellipsoid-objects-to-a-spacecraft-location">
<h3>Adding Ellipsoid Objects to a Spacecraft Location<a class="headerlink" href="#adding-ellipsoid-objects-to-a-spacecraft-location" title="Link to this heading"></a></h3>
<p>Vizard can illustrate generic ellipsoid shapes in the 3d environments relative to a spacecraft location.
These could indicate keep-out zones, position uncertainties, etc.  Multiple ellipsoids can be
attached to a spacecraft, each with unique features and colors.</p>
<p>First, let’s discuss how to setup an ellipsoid.  The associated ellipsoid structure and the required
parameters are set using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gncEllipsoid</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">Ellipsoid</span><span class="p">()</span>
<span class="n">gncEllipsoid</span><span class="o">.</span><span class="n">isOn</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">gncEllipsoid</span><span class="o">.</span><span class="n">useBodyFrame</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">gncEllipsoid</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">gncEllipsoid</span><span class="o">.</span><span class="n">semiMajorAxes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">gncEllipsoid</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="n">vizSupport</span><span class="o">.</span><span class="n">toRGBA255</span><span class="p">(</span><span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>As a pointer to the <code class="docutils literal notranslate"><span class="pre">Ellipsoid</span></code> structure is connected to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>, it is
important that the python structure is retained in memory.  If the python structure instance
is created in a manner where this is not the case, use <code class="docutils literal notranslate"><span class="pre">gncEllipsoid.this.disown()</span></code>
to ensure the python structure remains intact throughout the simulation.</p>
</div>
<p>The ellipsoid location relative to the spacecraft B frame is given by <code class="docutils literal notranslate"><span class="pre">position</span></code> in B-frame coordinates.
The <code class="docutils literal notranslate"><span class="pre">semiMajorAxes</span></code> provide the ellipsoid semi-major axes in meters.  If the flag <code class="docutils literal notranslate"><span class="pre">useBodyFrame</span></code>
is set to 1, then the ellipsoid is drawn relative to the body frame, not the orbit or hill frame.</p>
<p>The full list of required and optional generic sensor parameters are provided in the following table.</p>
<table class="docutils align-default" id="id16">
<caption><span class="caption-text">Ellipsoid Configuration Options</span><a class="headerlink" href="#id16" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 13.3%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isOn</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Flag indicating if the ellipsoid is on (1) or off (-1).  0 is the default value with the object shown.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">useBodyFrame</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Flag indicating if the ellipsoid should be drawn in the body frame (1) or Hill/Orbit frame (0)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">position</span></code></p></td>
<td><p>double[3]</p></td>
<td><p>m</p></td>
<td><p>No</p></td>
<td><p>Center of the ellipsoid location in either body or Hill frame depending on <code class="docutils literal notranslate"><span class="pre">useBodyFrame</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">semiMajorAxes</span></code></p></td>
<td><p>double[3]</p></td>
<td><p>m</p></td>
<td><p>Yes</p></td>
<td><p>The three semi-major axes of the ellipsoid object</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td><p>vector&lt;int&gt;</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Desired ellipsoid RGBA values, default is translucent gold</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">showGridLines</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Show Gridlines on ellipsoid</p></td>
</tr>
</tbody>
</table>
<p>Multiple ellipsoid objects can be created for each spacecraft, and multiple spacecraft are supported.  Using
the <code class="docutils literal notranslate"><span class="pre">vizSupport.py</span></code> file, the sensors are sent to <a class="reference internal" href="../../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a> using they keyword <code class="docutils literal notranslate"><span class="pre">ellipsoidList</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="n">scObject</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">ellipsoidList</span><span class="o">=</span><span class="n">gncEllipsoid</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>Note that here a single ellipsoid and spacecraft is setup.  If you have multiple ellipsoids, or multiple spacecraft,
then lists of lists are required:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject</span><span class="p">,</span> <span class="n">scObject2</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">genericSensorList</span><span class="o">=</span><span class="p">[</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="n">gncEllipsoid</span><span class="p">]</span> <span class="p">]</span>
                                          <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="displaying-time-varying-components-of-a-spacecraft">
<h3>Displaying Time Varying Components of a Spacecraft<a class="headerlink" href="#displaying-time-varying-components-of-a-spacecraft" title="Link to this heading"></a></h3>
<p>The spacecraft may have rigid body components attached whose position and orientation varies with time.  One
example would be <a class="reference internal" href="../../Documentation/simulation/dynamics/HingedRigidBodies/hingedRigidBodyStateEffector.html#hingedrigidbodystateeffector"><span class="std std-ref">Module: hingedRigidBodyStateEffector</span></a> where a rigid body is hinged about a body fixed axis.
These effectors output a spacecraft state message containing its inertial position and orientation
information.  This allows Vizard to show this rigid body as a separate spacecraft object.</p>
<p>To show these time-varying body components such as <a class="reference internal" href="../../Documentation/simulation/dynamics/HingedRigidBodies/hingedRigidBodyStateEffector.html#hingedrigidbodystateeffector"><span class="std std-ref">Module: hingedRigidBodyStateEffector</span></a>,
<a class="reference internal" href="../../Documentation/simulation/dynamics/spinningBodies/spinningBodiesOneDOF/spinningBodyOneDOFStateEffector.html#spinningbodyonedofstateeffector"><span class="std std-ref">Module: spinningBodyOneDOFStateEffector</span></a> or <a class="reference internal" href="../../Documentation/simulation/dynamics/dualHingedRigidBodies/dualHingedRigidBodyStateEffector.html#dualhingedrigidbodystateeffector"><span class="std std-ref">Module: dualHingedRigidBodyStateEffector</span></a> , the BSK modules can be
added to the <code class="docutils literal notranslate"><span class="pre">enableUnityVisualization</span></code> spacecraft list.  The parent spacecraft object
should be listed first, followed by the spacecraft effector objects as a list of
the effector name and effector state output message.  Let <code class="docutils literal notranslate"><span class="pre">panel1</span></code> and <code class="docutils literal notranslate"><span class="pre">panel2</span></code>
be instances of <a class="reference internal" href="../../Documentation/simulation/dynamics/HingedRigidBodies/hingedRigidBodyStateEffector.html#hingedrigidbodystateeffector"><span class="std std-ref">Module: hingedRigidBodyStateEffector</span></a> which are attached to spacecraft <code class="docutils literal notranslate"><span class="pre">scObject</span></code>,
all three components can be visualized using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">simTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObject</span>
                                                                <span class="p">,</span> <span class="p">[</span><span class="n">panel1</span><span class="o">.</span><span class="n">ModelTag</span><span class="p">,</span> <span class="n">panel1</span><span class="o">.</span><span class="n">hingedRigidBodyConfigLogOutMsg</span><span class="p">]</span>
                                                                <span class="p">,</span> <span class="p">[</span><span class="n">panel2</span><span class="o">.</span><span class="n">ModelTag</span><span class="p">,</span> <span class="n">panel2</span><span class="o">.</span><span class="n">hingedRigidBodyConfigLogOutMsg</span><span class="p">]</span>
                                                               <span class="p">]</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">)</span>
</pre></div>
</div>
<p>Each effector is treated like a Vizard spacecraft object.  This means it is possible to add CSS,
lights etc. to the panel objects as you do with the primary spacecraft.
Note that the device list length must match that of the rigid body objects being
sent to Vizard.  In the above example, this means Vizard is seeing 3 objects and the <code class="docutils literal notranslate"><span class="pre">lightList</span></code>, for
example, would need to contain three entrees.</p>
<p>By default each component will be given the default <code class="docutils literal notranslate"><span class="pre">bsk-Sat</span></code> shape.  It is recommended that a
custom model is assigned to each component.  See the scenario <a class="reference internal" href="../../examples/scenarioDeployingPanel.html#scenariodeployingpanel"><span class="std std-ref">scenarioDeployingPanel</span></a> for
an example on how to illustrate deploying panels in Vizard.</p>
</section>
<section id="displaying-multi-sphere-model-msm-charging-information">
<h3>Displaying Multi-Sphere-Model (MSM) Charging Information<a class="headerlink" href="#displaying-multi-sphere-model-msm-charging-information" title="Link to this heading"></a></h3>
<p>In the paper entitled “Multi-Sphere Method
for Modeling Electrostatic Forces and Torques”, see <a class="reference external" href="http://dx.doi.org/10.1016/j.asr.2012.08.014">http://dx.doi.org/10.1016/j.asr.2012.08.014</a>,
a method is introduced to
approximate the electrostatic charging on a spacecraft through a series of spheres.  Each
sphere has a spacecraft-fixed location and radius.  Vizard can display such spheres
and color them using the current sphere charge value.  See <a class="reference internal" href="../../examples/scenarioDebrisReorbitET.html#scenariodebrisreorbitet"><span class="std std-ref">scenarioDebrisReorbitET</span></a>
for an example of this visualization tool being used.</p>
<p>There are also applications where it could be useful to display other shape primitives, such as cuboids, cylinders, capsules, or ellipsoids for visualizing electrostatically-charged pads and surfaces. To generalize different shape primitive use cases, the BSK/Vizard support structure is named <code class="docutils literal notranslate"><span class="pre">MultiShape</span></code>. The MSM information is added using the <code class="docutils literal notranslate"><span class="pre">enableUnityVisualization()</span></code> method with the
keyword <code class="docutils literal notranslate"><span class="pre">msmInfoList</span></code>.  This information must be provided for each spacecraft in the
simulation as a list of <code class="docutils literal notranslate"><span class="pre">vizInterface.MultiShapeInfo()</span></code> structures.
Each craft can use a different MSM setup.  If the spacecraft has no MSM model then
use <code class="docutils literal notranslate"><span class="pre">None</span></code> in the list for that spacecraft.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">MultiShapeInfo</span></code> structure contains the input message <code class="docutils literal notranslate"><span class="pre">msmChargeInMsg</span></code>
where the spacecraft sphere charge values are read in from.  It also
contains a vector of MSM configuration information structures of
type <code class="docutils literal notranslate"><span class="pre">MultiShape</span></code>.  The following list show all <code class="docutils literal notranslate"><span class="pre">MultiShape</span></code> structure
variables.</p>
<table class="docutils align-default" id="id17">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">MultiShape</span></code> variables</span><a class="headerlink" href="#id17" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 13.3%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isOn</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Flag indicating if the MSM is on (1) or off (-1).  0 is the default value
with the object shown.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">position</span></code></p></td>
<td><p>double(3)</p></td>
<td><p>meters</p></td>
<td><p>Yes</p></td>
<td><p>MSM sphere position in the body frame</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">radius</span></code></p></td>
<td><p>double</p></td>
<td><p>meter</p></td>
<td><p>Yes</p></td>
<td><p>radius of the sphere (deprecated)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">currentValue</span></code></p></td>
<td><p>double</p></td>
<td><p>Coulomb</p></td>
<td><p>No</p></td>
<td><p>(optional) Current charge value of the MSM sphere.  If the <code class="docutils literal notranslate"><span class="pre">msmChargeInMsg</span></code>
is connected, then the content of the message overrides the value set
in python.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">maxValue</span></code></p></td>
<td><p>double</p></td>
<td><p>Coulomb</p></td>
<td><p>Yes</p></td>
<td><p>maximum sphere charge value</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">positiveColor</span></code></p></td>
<td><p>int(4)</p></td>
<td></td>
<td><p>No</p></td>
<td><p>desired RGBA as values between 0 and 255, default is green</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">negativeColor</span></code></p></td>
<td><p>int(4)</p></td>
<td></td>
<td><p>No</p></td>
<td><p>desired RGBA as values between 0 and 255, default is red</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">neutralOpacity</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>No</p></td>
<td><p>desired opacity value between 0 and 255 for when charge is neutral.  Default
is -1 which yield the Vizard default opacity value.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">shape</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Set shape to use “CUBE”, “CYLINDER”, “CAPSULE”, or “SPHERE” (default)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dimensions</span></code></p></td>
<td><p>double(3)</p></td>
<td><p>meters</p></td>
<td><p>Yes</p></td>
<td><p>Desired dimensions of selected shape in x, y, and z (For cylinder, z is height)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rotation</span></code></p></td>
<td><p>double(3)</p></td>
<td><p>MRP</p></td>
<td><p>Yes</p></td>
<td><p>Desired orientation of the MultiShape in the spacecraft body frame</p></td>
</tr>
</tbody>
</table>
<p>The following code illustrates how to add support for visualizing
MSM charge values in Vizard.  Here a single spacecraft is simulated with
an <a class="reference internal" href="../../Documentation/simulation/dynamics/msmForceTorque/msmForceTorque.html#msmforcetorque"><span class="std std-ref">Module: msmForceTorque</span></a> to emulate the charging.  The charge values are read in from an input
message.  The MSM body-fixed positions are stored in the list <code class="docutils literal notranslate"><span class="pre">spPosListDebris</span></code>, while
the MSM radii are stored in the list <code class="docutils literal notranslate"><span class="pre">rListDebris</span></code>.  The sample code is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">msmInfoDebris</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">MultiShapeInfo</span><span class="p">()</span>
<span class="n">msmInfoDebris</span><span class="o">.</span><span class="n">msmChargeInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">MSMmodule</span><span class="o">.</span><span class="n">chargeMsmOutMsgs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">msmDebrisList</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">rad</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">spPosListDebris</span><span class="p">,</span> <span class="n">rListDebris</span><span class="p">):</span>
    <span class="n">msmDebris</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">MultiShape</span><span class="p">()</span>
    <span class="n">msmDebris</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">pos</span>
    <span class="n">msmDebris</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">rad</span>
    <span class="n">msmDebris</span><span class="o">.</span><span class="n">maxValue</span> <span class="o">=</span> <span class="mf">30e-6</span>  <span class="c1"># Coulomb</span>
    <span class="n">msmDebrisList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msmDebris</span><span class="p">)</span>
<span class="n">msmInfoDebris</span><span class="o">.</span><span class="n">msmList</span> <span class="o">=</span> <span class="n">vizInterface</span><span class="o">.</span><span class="n">MultiShapeVector</span><span class="p">(</span><span class="n">msmDebrisList</span><span class="p">)</span>

<span class="n">viz</span> <span class="o">=</span> <span class="n">vizSupport</span><span class="o">.</span><span class="n">enableUnityVisualization</span><span class="p">(</span><span class="n">scSim</span><span class="p">,</span> <span class="n">dynTaskName</span><span class="p">,</span> <span class="p">[</span><span class="n">scObjectDebris</span><span class="p">]</span>
                                          <span class="p">,</span> <span class="n">saveFile</span><span class="o">=</span><span class="n">fileName</span>
                                          <span class="p">,</span> <span class="n">msmInfoList</span><span class="o">=</span><span class="p">[</span><span class="n">msmInfoDebris</span><span class="p">]</span>
                                          <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="adding-surface-highlighting-using-quadmaps">
<h3>Adding Surface Highlighting using QuadMaps<a class="headerlink" href="#adding-surface-highlighting-using-quadmaps" title="Link to this heading"></a></h3>
<p>QuadMaps are meshes composed of quadrilaterals, which highlight regions for visualization. QuadMaps can be created on both celestial bodies and spacecraft, with potential use cases including visualizing imaging swaths, flood regions, regions of interest, etc. The following list shows all QuadMap settings.</p>
<table class="docutils align-default" id="id18">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">QuadMap</span></code> variables</span><a class="headerlink" href="#id18" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 13.3%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 6.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ID</span></code></p></td>
<td><p>int</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>ID of QuadMap to be used for updates.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">parentBodyName</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Name of the parent body P (spacecraft or planet) on which the QuadMap is positioned.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">vertices</span></code></p></td>
<td><p>double(12n)</p></td>
<td><p>m</p></td>
<td><p>Yes</p></td>
<td><p>Four vertices (x,y,z) required per quad, ordered clockwise about perimeter of quad in parent body frame P.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td><p>int(4)</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Send desired RGBA as values between 0 and 255.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isHidden</span></code></p></td>
<td><p>bool</p></td>
<td></td>
<td><p>No</p></td>
<td><p>True to hide QuadMap, false to show (vizDefault).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">label</span></code></p></td>
<td><p>string</p></td>
<td></td>
<td><p>No</p></td>
<td><p>Send string to display in center of QuadMap region, send “NOLABEL” to delete label.</p></td>
</tr>
</tbody>
</table>
<p>In order to create a QuadMap, the helper function in <a class="reference internal" href="../../Documentation/utilities/vizSupport.html#vizsupport"><span class="std std-ref">vizSupport</span></a> can be used. The <code class="docutils literal notranslate"><span class="pre">ID</span></code> for each QuadMap must be a unique integer, sending a message with an existing <code class="docutils literal notranslate"><span class="pre">ID</span></code> edits the existing QuadMap.</p>
<p>The vertices list must be provided as a series of quads. Several helper functions have been developed to build these meshes. The <a class="reference internal" href="../../Documentation/utilities/quadMapSupport.html#quadmapsupport"><span class="std std-ref">quadMapSupport</span></a> file is imported with <a class="reference internal" href="../../Documentation/utilities/vizSupport.html#vizsupport"><span class="std std-ref">vizSupport</span></a>, and provides functions for defining polar regions (using latitude/longitude bounds), as well as projecting camera field-of-view bounding boxes onto a reference ellipsoid. Note that these functions take inputs for mesh resolution, which is useful when wrapping QuadMaps on convex surfaces (i.e. planet surfaces). See <a class="reference internal" href="../../examples/scenarioQuadMaps.html#scenarioquadmaps"><span class="std std-ref">scenarioQuadMaps</span></a> for detailed implementation and usage of defining QuadMaps and modifying their settings.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Advanced Features" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="vizardCommandLine.html" class="btn btn-neutral float-right" title="Command Line Launching" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autonomous Vehicle Systems (AVS) Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>